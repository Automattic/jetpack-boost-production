!function(){"use strict";function t(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))}var e="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}var o=n,i=r;function s(t){if(o===setTimeout)return setTimeout(t,0);if((o===n||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}"function"==typeof e.setTimeout&&(o=setTimeout),"function"==typeof e.clearTimeout&&(i=clearTimeout);var c,a=[],u=!1,l=-1;function d(){u&&c&&(u=!1,c.length?a=c.concat(a):l=-1,a.length&&f())}function f(){if(!u){var t=s(d);u=!0;for(var e=a.length;e;){for(c=a,a=[];++l<e;)c&&c[l].run();l=-1,e=a.length}c=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}p.prototype.run=function(){this.fun.apply(null,this.array)};function h(){}var g=h,m=h,v=h,w=h,y=h,b=h,$=h;var x=e.performance||{},_=x.now||x.mozNow||x.msNow||x.oNow||x.webkitNow||function(){return(new Date).getTime()};var C=new Date;var k={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new p(t,e)),1!==a.length||u||s(f)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:g,addListener:m,once:v,off:w,removeListener:y,removeAllListeners:b,emit:$,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*_.call(x),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-C)/1e3}},F={exports:{}},z=1e3,E=60*z,S=60*E,j=24*S,I=7*j,A=365.25*j,O=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*A;case"weeks":case"week":case"w":return n*I;case"days":case"day":case"d":return n*j;case"hours":case"hour":case"hrs":case"hr":case"h":return n*S;case"minutes":case"minute":case"mins":case"min":case"m":return n*E;case"seconds":case"second":case"secs":case"sec":case"s":return n*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===n&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=j)return T(t,e,j,"day");if(e>=S)return T(t,e,S,"hour");if(e>=E)return T(t,e,E,"minute");if(e>=z)return T(t,e,z,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=j)return Math.round(t/j)+"d";if(e>=S)return Math.round(t/S)+"h";if(e>=E)return Math.round(t/E)+"m";if(e>=z)return Math.round(t/z)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function T(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}var P=function(t){function e(t){let r,o,i,s=null;function c(...t){if(!c.enabled)return;const n=c,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";s++;const i=e.formatters[o];if("function"==typeof i){const e=t[s];r=i.call(n,e),t.splice(s,1),s--}return r})),e.formatArgs.call(n,t);(n.log||e.log).apply(n,t)}return c.namespace=t,c.useColors=e.useColors(),c.color=e.selectColor(t),c.extend=n,c.destroy=e.destroy,Object.defineProperty(c,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==e.namespaces&&(o=e.namespaces,i=e.enabled(t)),i),set:t=>{s=t}}),"function"==typeof e.init&&e.init(c),c}function n(t,n){const r=e(this.namespace+(void 0===n?":":n)+t);return r.log=this.log,r}function r(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},e.disable=function(){const t=[...e.names.map(r),...e.skips.map(r).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let n;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.slice(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=O,e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((n=>{e[n]=t[n]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e};!function(t,e){e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(r++,"%c"===t&&(o=r))})),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==k&&"env"in k&&(t=k.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=P(e);const{formatters:n}=t.exports;n.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}(F,F.exports);const L=(0,F.exports)("dops:analytics");let R,M;window._tkq=window._tkq||[],window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=+new Date;const U={initialize:function(t,e,n){U.setUser(t,e),U.setSuperProps(n),U.identifyUser()},setGoogleAnalyticsEnabled:function(t,e=null){this.googleAnalyticsEnabled=t,this.googleAnalyticsKey=e},setMcAnalyticsEnabled:function(t){this.mcAnalyticsEnabled=t},setUser:function(t,e){M={ID:t,username:e}},setSuperProps:function(t){R=t},assignSuperProps:function(t){R=Object.assign(R||{},t)},mc:{bumpStat:function(t,e){const n=function(t,e){let n="";if("object"==typeof t){for(const e in t)n+="&x_"+encodeURIComponent(e)+"="+encodeURIComponent(t[e]);L("Bumping stats %o",t)}else n="&x_"+encodeURIComponent(t)+"="+encodeURIComponent(e),L('Bumping stat "%s" in group "%s"',e,t);return n}(t,e);U.mcAnalyticsEnabled&&((new Image).src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom-no-pv"+n+"&t="+Math.random())},bumpStatWithPageView:function(t,e){const n=function(t,e){let n="";if("object"==typeof t){for(const e in t)n+="&"+encodeURIComponent(e)+"="+encodeURIComponent(t[e]);L("Built stats %o",t)}else n="&"+encodeURIComponent(t)+"="+encodeURIComponent(e),L('Built stat "%s" in group "%s"',e,t);return n}(t,e);U.mcAnalyticsEnabled&&((new Image).src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom"+n+"&t="+Math.random())}},pageView:{record:function(t,e){U.tracks.recordPageView(t),U.ga.recordPageView(t,e)}},purchase:{record:function(t,e,n,r,o,i,s){U.ga.recordPurchase(t,e,n,r,o,i,s)}},tracks:{recordEvent:function(t,e){e=e||{},0===t.indexOf("akismet_")||0===t.indexOf("jetpack_")?(R&&(L("- Super Props: %o",R),e=Object.assign(e,R)),L('Record event "%s" called with props %s',t,JSON.stringify(e)),window._tkq.push(["recordEvent",t,e])):L('- Event name must be prefixed by "akismet_" or "jetpack_"')},recordJetpackClick:function(t){const e="object"==typeof t?t:{target:t};U.tracks.recordEvent("jetpack_wpa_click",e)},recordPageView:function(t){U.tracks.recordEvent("akismet_page_view",{path:t})},setOptOut:function(t){L("Pushing setOptOut: %o",t),window._tkq.push(["setOptOut",t])}},ga:{initialized:!1,initialize:function(){let t={};U.ga.initialized||(M&&(t={userId:"u-"+M.ID}),window.ga("create",this.googleAnalyticsKey,"auto",t),U.ga.initialized=!0)},recordPageView:function(t,e){U.ga.initialize(),L("Recording Page View ~ [URL: "+t+"] [Title: "+e+"]"),this.googleAnalyticsEnabled&&(window.ga("set","page",t),window.ga("send",{hitType:"pageview",page:t,title:e}))},recordEvent:function(t,e,n,r){U.ga.initialize();let o="Recording Event ~ [Category: "+t+"] [Action: "+e+"]";void 0!==n&&(o+=" [Option Label: "+n+"]"),void 0!==r&&(o+=" [Option Value: "+r+"]"),L(o),this.googleAnalyticsEnabled&&window.ga("send","event",t,e,n,r)},recordPurchase:function(t,e,n,r,o,i,s){window.ga("require","ecommerce"),window.ga("ecommerce:addTransaction",{id:t,revenue:r,currency:s}),window.ga("ecommerce:addItem",{id:t,name:e,sku:n,price:o,quantity:i}),window.ga("ecommerce:send")}},identifyUser:function(){M&&window._tkq.push(["identifyUser",M.ID,M.username])},setProperties:function(t){window._tkq.push(["setProperties",t])},clearedIdentity:function(){window._tkq.push(["clearIdentity"])}};function D(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))}class B{constructor(t,e,n=fetch){this.fetch=window.fetch,this.node=t,this.getURLCallback=e,this.fetch=n}getURL(){return this.getURLCallback(this.node)}getSizeOnPage(){const{width:t,height:e}=this.node.getBoundingClientRect();return{width:Math.round(t),height:Math.round(e)}}getFileSize(t){return D(this,void 0,void 0,(function*(){const[e,{width:n,height:r}]=yield Promise.all([this.fetchFileWeight(t),this.fetchFileDimensions(t)]);return{width:n,height:r,weight:e}}))}getPotentialSavings(t,e){const n=this.getOversizedRatio(t,e);return n<=1?null:Math.round(t.weight-t.weight/n)}getExpectedSize(t){const e=window.devicePixelRatio||1;return{width:Math.round(t.width*e),height:Math.round(t.height*e)}}getOversizedRatio(t,e){const{width:n,height:r}=this.getExpectedSize(e);return t.width*t.height/(n*r)}fetchFileWeight(t){return D(this,void 0,void 0,(function*(){const e=yield this.fetch(t);return e.url?parseInt(e.headers.get("content-length"),10)/1024:(console.log(`Can't get image size for ${t} likely due to a CORS error.`),-1)}))}fetchFileDimensions(t){return D(this,void 0,void 0,(function*(){const e=new Image;return e.src=t,new Promise((t=>{e.onload=()=>{t({width:Math.round(e.width),height:Math.round(e.height)})},e.onerror=()=>{t({width:-1,height:-1})}}))}))}}function N(t){return J(t.currentSrc)?t.currentSrc:J(t.src)?t.src:null}function H(t){const e=getComputedStyle(t).backgroundImage.match(/url\(.?(.*?).?\)/i);return e&&e[1]&&J(e[1])?e[1]:null}function q(t,e=fetch){return function(t){return t.filter((t=>t instanceof HTMLImageElement||t instanceof HTMLElement&&"none"!==getComputedStyle(t).backgroundImage))}(t).map((t=>t instanceof HTMLImageElement?new B(t,N,e):t instanceof HTMLElement&&H(t)?new B(t,H):null)).filter((t=>null!==t))}function J(t){if(t.startsWith("/")){return!t.split("?")[0].endsWith(".svg")}try{const e=new URL(t);return"http:"===e.protocol||"https:"===e.protocol}catch(t){return!1}}var V,W={};V=W,function(){var t={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function e(n){return function(n,r){var o,i,s,c,a,u,l,d,f,p=1,h=n.length,g="";for(i=0;i<h;i++)if("string"==typeof n[i])g+=n[i];else if("object"==typeof n[i]){if((c=n[i]).keys)for(o=r[p],s=0;s<c.keys.length;s++){if(null==o)throw new Error(e('[sprintf] Cannot access property "%s" of undefined value "%s"',c.keys[s],c.keys[s-1]));o=o[c.keys[s]]}else o=c.param_no?r[c.param_no]:r[p++];if(t.not_type.test(c.type)&&t.not_primitive.test(c.type)&&o instanceof Function&&(o=o()),t.numeric_arg.test(c.type)&&"number"!=typeof o&&isNaN(o))throw new TypeError(e("[sprintf] expecting number but found %T",o));switch(t.number.test(c.type)&&(d=o>=0),c.type){case"b":o=parseInt(o,10).toString(2);break;case"c":o=String.fromCharCode(parseInt(o,10));break;case"d":case"i":o=parseInt(o,10);break;case"j":o=JSON.stringify(o,null,c.width?parseInt(c.width):0);break;case"e":o=c.precision?parseFloat(o).toExponential(c.precision):parseFloat(o).toExponential();break;case"f":o=c.precision?parseFloat(o).toFixed(c.precision):parseFloat(o);break;case"g":o=c.precision?String(Number(o.toPrecision(c.precision))):parseFloat(o);break;case"o":o=(parseInt(o,10)>>>0).toString(8);break;case"s":o=String(o),o=c.precision?o.substring(0,c.precision):o;break;case"t":o=String(!!o),o=c.precision?o.substring(0,c.precision):o;break;case"T":o=Object.prototype.toString.call(o).slice(8,-1).toLowerCase(),o=c.precision?o.substring(0,c.precision):o;break;case"u":o=parseInt(o,10)>>>0;break;case"v":o=o.valueOf(),o=c.precision?o.substring(0,c.precision):o;break;case"x":o=(parseInt(o,10)>>>0).toString(16);break;case"X":o=(parseInt(o,10)>>>0).toString(16).toUpperCase()}t.json.test(c.type)?g+=o:(!t.number.test(c.type)||d&&!c.sign?f="":(f=d?"+":"-",o=o.toString().replace(t.sign,"")),u=c.pad_char?"0"===c.pad_char?"0":c.pad_char.charAt(1):" ",l=c.width-(f+o).length,a=c.width&&l>0?u.repeat(l):"",g+=c.align?f+o+a:"0"===u?f+a+o:a+f+o)}return g}(function(e){if(r[e])return r[e];for(var n,o=e,i=[],s=0;o;){if(null!==(n=t.text.exec(o)))i.push(n[0]);else if(null!==(n=t.modulo.exec(o)))i.push("%");else{if(null===(n=t.placeholder.exec(o)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){s|=1;var c=[],a=n[2],u=[];if(null===(u=t.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(c.push(u[1]);""!==(a=a.substring(u[0].length));)if(null!==(u=t.key_access.exec(a)))c.push(u[1]);else{if(null===(u=t.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");c.push(u[1])}n[2]=c}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:n[0],param_no:n[1],keys:n[2],sign:n[3],pad_char:n[4],align:n[5],width:n[6],precision:n[7],type:n[8]})}o=o.substring(n[0].length)}return r[e]=i}(n),arguments)}function n(t,n){return e.apply(null,[t].concat(n||[]))}var r=Object.create(null);V.sprintf=e,V.vsprintf=n,"undefined"!=typeof window&&(window.sprintf=e,window.vsprintf=n)}();const Z=function(t,e){var n,r,o=0;function i(){var i,s,c=n,a=arguments.length;t:for(;c;){if(c.args.length===arguments.length){for(s=0;s<a;s++)if(c.args[s]!==arguments[s]){c=c.next;continue t}return c!==n&&(c===r&&(r=c.prev),c.prev.next=c.next,c.next&&(c.next.prev=c.prev),c.next=n,c.prev=null,n.prev=c,n=c),c.val}c=c.next}for(i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return c={args:i,val:t.apply(null,i)},n?(n.prev=c,c.next=n):r=c,o===e.maxSize?(r=r.prev).next=null:o++,n=c,c.val}return e=e||{},i.clear=function(){n=null,r=null,o=0},i}(console.error);var G,K,X,Y;G={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},K=["(","?"],X={")":["("],":":["?","?:"]},Y=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;var Q={"!":function(t){return!t},"*":function(t,e){return t*e},"/":function(t,e){return t/e},"%":function(t,e){return t%e},"+":function(t,e){return t+e},"-":function(t,e){return t-e},"<":function(t,e){return t<e},"<=":function(t,e){return t<=e},">":function(t,e){return t>e},">=":function(t,e){return t>=e},"==":function(t,e){return t===e},"!=":function(t,e){return t!==e},"&&":function(t,e){return t&&e},"||":function(t,e){return t||e},"?:":function(t,e,n){if(t)throw e;return n}};function tt(t){var e=function(t){for(var e,n,r,o,i=[],s=[];e=t.match(Y);){for(n=e[0],(r=t.substr(0,e.index).trim())&&i.push(r);o=s.pop();){if(X[n]){if(X[n][0]===o){n=X[n][1]||n;break}}else if(K.indexOf(o)>=0||G[o]<G[n]){s.push(o);break}i.push(o)}X[n]||s.push(n),t=t.substr(e.index+n.length)}return(t=t.trim())&&i.push(t),i.concat(s.reverse())}(t);return function(t){return function(t,e){var n,r,o,i,s,c,a=[];for(n=0;n<t.length;n++){if(s=t[n],i=Q[s]){for(r=i.length,o=Array(r);r--;)o[r]=a.pop();try{c=i.apply(null,o)}catch(t){return t}}else c=e.hasOwnProperty(s)?e[s]:+s;a.push(c)}return a[0]}(e,t)}}var et={contextDelimiter:"",onMissingKey:null};function nt(t,e){var n;for(n in this.data=t,this.pluralForms={},this.options={},et)this.options[n]=void 0!==e&&n in e?e[n]:et[n]}nt.prototype.getPluralForm=function(t,e){var n,r,o,i=this.pluralForms[t];return i||("function"!=typeof(o=(n=this.data[t][""])["Plural-Forms"]||n["plural-forms"]||n.plural_forms)&&(r=function(t){var e,n,r;for(e=t.split(";"),n=0;n<e.length;n++)if(0===(r=e[n].trim()).indexOf("plural="))return r.substr(7)}(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms),o=function(t){var e=tt(t);return function(t){return+e({n:t})}}(r)),i=this.pluralForms[t]=o),i(e)},nt.prototype.dcnpgettext=function(t,e,n,r,o){var i,s,c;return i=void 0===o?0:this.getPluralForm(t,o),s=n,e&&(s=e+this.options.contextDelimiter+n),(c=this.data[t][s])&&c[i]?c[i]:(this.options.onMissingKey&&this.options.onMissingKey(n,t),0===i?n:r)};const rt={plural_forms:t=>1===t?0:1},ot=/^i18n\.(n?gettext|has_translation)(_|$)/;function it(t){return"string"!=typeof t||""===t?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(t)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}function st(t){return"string"!=typeof t||""===t?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(t)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(t)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}function ct(t,e){return function(n,r,o){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;const s=t[e];if(!st(n))return;if(!it(r))return;if("function"!=typeof o)return void console.error("The hook callback must be a function.");if("number"!=typeof i)return void console.error("If specified, the hook priority must be a number.");const c={callback:o,priority:i,namespace:r};if(s[n]){const t=s[n].handlers;let e;for(e=t.length;e>0&&!(i>=t[e-1].priority);e--);e===t.length?t[e]=c:t.splice(e,0,c),s.__current.forEach((t=>{t.name===n&&t.currentIndex>=e&&t.currentIndex++}))}else s[n]={handlers:[c],runs:0};"hookAdded"!==n&&t.doAction("hookAdded",n,r,o,i)}}function at(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,o){const i=t[e];if(!st(r))return;if(!n&&!it(o))return;if(!i[r])return 0;let s=0;if(n)s=i[r].handlers.length,i[r]={runs:i[r].runs,handlers:[]};else{const t=i[r].handlers;for(let e=t.length-1;e>=0;e--)t[e].namespace===o&&(t.splice(e,1),s++,i.__current.forEach((t=>{t.name===r&&t.currentIndex>=e&&t.currentIndex--})))}return"hookRemoved"!==r&&t.doAction("hookRemoved",r,o),s}}function ut(t,e){return function(n,r){const o=t[e];return void 0!==r?n in o&&o[n].handlers.some((t=>t.namespace===r)):n in o}}function lt(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){const o=t[e];o[r]||(o[r]={handlers:[],runs:0}),o[r].runs++;const i=o[r].handlers;for(var s=arguments.length,c=new Array(s>1?s-1:0),a=1;a<s;a++)c[a-1]=arguments[a];if(!i||!i.length)return n?c[0]:void 0;const u={name:r,currentIndex:0};for(o.__current.push(u);u.currentIndex<i.length;){const t=i[u.currentIndex].callback.apply(null,c);n&&(c[0]=t),u.currentIndex++}return o.__current.pop(),n?c[0]:void 0}}function dt(t,e){return function(){var n,r;const o=t[e];return null!==(n=null===(r=o.__current[o.__current.length-1])||void 0===r?void 0:r.name)&&void 0!==n?n:null}}function ft(t,e){return function(n){const r=t[e];return void 0===n?void 0!==r.__current[0]:!!r.__current[0]&&n===r.__current[0].name}}function pt(t,e){return function(n){const r=t[e];if(st(n))return r[n]&&r[n].runs?r[n].runs:0}}class ht{constructor(){this.actions=Object.create(null),this.actions.__current=[],this.filters=Object.create(null),this.filters.__current=[],this.addAction=ct(this,"actions"),this.addFilter=ct(this,"filters"),this.removeAction=at(this,"actions"),this.removeFilter=at(this,"filters"),this.hasAction=ut(this,"actions"),this.hasFilter=ut(this,"filters"),this.removeAllActions=at(this,"actions",!0),this.removeAllFilters=at(this,"filters",!0),this.doAction=lt(this,"actions"),this.applyFilters=lt(this,"filters",!0),this.currentAction=dt(this,"actions"),this.currentFilter=dt(this,"filters"),this.doingAction=ft(this,"actions"),this.doingFilter=ft(this,"filters"),this.didAction=pt(this,"actions"),this.didFilter=pt(this,"filters")}}const gt=((t,e,n)=>{const r=new nt({}),o=new Set,i=()=>{o.forEach((t=>t()))},s=function(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";r.data[n]={...r.data[n],...t},r.data[n][""]={...rt,...null===(e=r.data[n])||void 0===e?void 0:e[""]},delete r.pluralForms[n]},c=(t,e)=>{s(t,e),i()},a=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return r.data[t]||s(void 0,t),r.dcnpgettext(t,e,n,o,i)},u=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"},l=(t,e,r)=>{let o=a(r,e,t);return n?(o=n.applyFilters("i18n.gettext_with_context",o,t,e,r),n.applyFilters("i18n.gettext_with_context_"+u(r),o,t,e,r)):o};if(t&&c(t,e),n){const t=t=>{ot.test(t)&&i()};n.addAction("hookAdded","core/i18n",t),n.addAction("hookRemoved","core/i18n",t)}return{getLocaleData:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return r.data[t]},setLocaleData:c,addLocaleData:function(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";r.data[n]={...r.data[n],...t,"":{...rt,...null===(e=r.data[n])||void 0===e?void 0:e[""],...null==t?void 0:t[""]}},delete r.pluralForms[n],i()},resetLocaleData:(t,e)=>{r.data={},r.pluralForms={},c(t,e)},subscribe:t=>(o.add(t),()=>o.delete(t)),__:(t,e)=>{let r=a(e,void 0,t);return n?(r=n.applyFilters("i18n.gettext",r,t,e),n.applyFilters("i18n.gettext_"+u(e),r,t,e)):r},_x:l,_n:(t,e,r,o)=>{let i=a(o,void 0,t,e,r);return n?(i=n.applyFilters("i18n.ngettext",i,t,e,r,o),n.applyFilters("i18n.ngettext_"+u(o),i,t,e,r,o)):i},_nx:(t,e,r,o,i)=>{let s=a(i,o,t,e,r);return n?(s=n.applyFilters("i18n.ngettext_with_context",s,t,e,r,o,i),n.applyFilters("i18n.ngettext_with_context_"+u(i),s,t,e,r,o,i)):s},isRTL:()=>"rtl"===l("ltr","text direction"),hasTranslation:(t,e,o)=>{var i,s;const c=e?e+""+t:t;let a=!(null===(i=r.data)||void 0===i||null===(s=i[null!=o?o:"default"])||void 0===s||!s[c]);return n&&(a=n.applyFilters("i18n.has_translation",a,t,e,o),a=n.applyFilters("i18n.has_translation_"+u(o),a,t,e,o)),a}}})(void 0,void 0,new ht);gt.getLocaleData.bind(gt),gt.setLocaleData.bind(gt),gt.resetLocaleData.bind(gt),gt.subscribe.bind(gt);const mt=gt.__.bind(gt);gt._x.bind(gt),gt._n.bind(gt),gt._nx.bind(gt),gt.isRTL.bind(gt),gt.hasTranslation.bind(gt);class vt extends Error{constructor(t){super(t),this.name="AdminAjaxError"}}function wt(e,n=ajaxurl){return t(this,void 0,void 0,(function*(){const t={method:"post",body:new URLSearchParams(e),headers:{"Content-Type":"application/x-www-form-urlencoded"}},r=yield fetch(n,t);if(!r.ok)throw new vt(function(t){try{for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return W.sprintf(t,...n)}catch(e){return e instanceof Error&&Z("sprintf error: \n\n"+e.toString()),t}}(mt("Received HTTP %d while communicating with your WordPress site","jetpack-boost"),r.status));return r}))}function yt(){}const bt=t=>t;function $t(t){return t()}function xt(){return Object.create(null)}function _t(t){t.forEach($t)}function Ct(t){return"function"==typeof t}function kt(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let Ft;function zt(t,e){return Ft||(Ft=document.createElement("a")),Ft.href=e,t===Ft.href}function Et(t,...e){if(null==t)return yt;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function St(t){let e;return Et(t,(t=>e=t))(),e}function jt(t,e,n){t.$$.on_destroy.push(Et(e,n))}function It(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function At(t){const e="string"==typeof t&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Ot="undefined"!=typeof window;let Tt=Ot?()=>window.performance.now():()=>Date.now(),Pt=Ot?t=>requestAnimationFrame(t):yt;const Lt=new Set;function Rt(t){Lt.forEach((e=>{e.c(t)||(Lt.delete(e),e.f())})),0!==Lt.size&&Pt(Rt)}function Mt(t){let e;return 0===Lt.size&&Pt(Rt),{promise:new Promise((n=>{Lt.add(e={c:t,f:n})})),abort(){Lt.delete(e)}}}function Ut(t,e){t.appendChild(e)}function Dt(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Bt(t){const e=qt("style");return function(t,e){Ut(t.head||t,e),e.sheet}(Dt(t),e),e.sheet}function Nt(t,e,n){t.insertBefore(e,n||null)}function Ht(t){t.parentNode&&t.parentNode.removeChild(t)}function qt(t){return document.createElement(t)}function Jt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Vt(t){return document.createTextNode(t)}function Wt(){return Vt(" ")}function Zt(){return Vt("")}function Gt(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Kt(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Xt(t,e){e=""+e,t.data!==e&&(t.data=e)}function Yt(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Qt(t,e,n){t.classList[n?"add":"remove"](e)}function te(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}const ee=new Map;let ne,re=0;function oe(t,e,n,r,o,i,s,c=0){const a=16.666/r;let u="{\n";for(let t=0;t<=1;t+=a){const r=e+(n-e)*i(t);u+=100*t+`%{${s(r,1-r)}}\n`}const l=u+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(l)}_${c}`,f=Dt(t),{stylesheet:p,rules:h}=ee.get(f)||function(t,e){const n={stylesheet:Bt(e),rules:{}};return ee.set(t,n),n}(f,t);h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${l}`,p.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${d} ${r}ms linear ${o}ms 1 both`,re+=1,d}function ie(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),re-=o,re||Pt((()=>{re||(ee.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&Ht(e)})),ee.clear())})))}function se(t){ne=t}function ce(){if(!ne)throw new Error("Function called outside component initialization");return ne}function ae(t){ce().$$.on_mount.push(t)}function ue(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const le=[],de=[];let fe=[];const pe=[],he=Promise.resolve();let ge=!1;function me(t){fe.push(t)}const ve=new Set;let we,ye=0;function be(){if(0!==ye)return;const t=ne;do{try{for(;ye<le.length;){const t=le[ye];ye++,se(t),$e(t.$$)}}catch(t){throw le.length=0,ye=0,t}for(se(null),le.length=0,ye=0;de.length;)de.pop()();for(let t=0;t<fe.length;t+=1){const e=fe[t];ve.has(e)||(ve.add(e),e())}fe.length=0}while(le.length);for(;pe.length;)pe.pop()();ge=!1,ve.clear(),se(t)}function $e(t){if(null!==t.fragment){t.update(),_t(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(me)}}function xe(){return we||(we=Promise.resolve(),we.then((()=>{we=null}))),we}function _e(t,e,n){t.dispatchEvent(te(`${e?"intro":"outro"}${n}`))}const Ce=new Set;let ke;function Fe(){ke={r:0,c:[],p:ke}}function ze(){ke.r||_t(ke.c),ke=ke.p}function Ee(t,e){t&&t.i&&(Ce.delete(t),t.i(e))}function Se(t,e,n,r){if(t&&t.o){if(Ce.has(t))return;Ce.add(t),ke.c.push((()=>{Ce.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}const je={duration:0};function Ie(t,e,n){const r={direction:"in"};let o,i,s=e(t,n,r),c=!1,a=0;function u(){o&&ie(t,o)}function l(){const{delay:e=0,duration:n=300,easing:r=bt,tick:l=yt,css:d}=s||je;d&&(o=oe(t,0,1,n,e,r,d,a++)),l(0,1);const f=Tt()+e,p=f+n;i&&i.abort(),c=!0,me((()=>_e(t,!0,"start"))),i=Mt((e=>{if(c){if(e>=p)return l(1,0),_e(t,!0,"end"),u(),c=!1;if(e>=f){const t=r((e-f)/n);l(t,1-t)}}return c}))}let d=!1;return{start(){d||(d=!0,ie(t),Ct(s)?(s=s(r),xe().then(l)):l())},invalidate(){d=!1},end(){c&&(u(),c=!1)}}}function Ae(t,e,n,r){const o={direction:"both"};let i=e(t,n,o),s=r?0:1,c=null,a=null,u=null;function l(){u&&ie(t,u)}function d(t,e){const n=t.b-s;return e*=Math.abs(n),{a:s,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function f(e){const{delay:n=0,duration:r=300,easing:o=bt,tick:f=yt,css:p}=i||je,h={start:Tt()+n,b:e};e||(h.group=ke,ke.r+=1),c||a?a=h:(p&&(l(),u=oe(t,s,e,r,n,o,p)),e&&f(0,1),c=d(h,r),me((()=>_e(t,e,"start"))),Mt((e=>{if(a&&e>a.start&&(c=d(a,r),a=null,_e(t,c.b,"start"),p&&(l(),u=oe(t,s,c.b,c.duration,0,o,i.css))),c)if(e>=c.end)f(s=c.b,1-s),_e(t,c.b,"end"),a||(c.b?l():--c.group.r||_t(c.group.c)),c=null;else if(e>=c.start){const t=e-c.start;s=c.a+c.d*o(t/c.duration),f(s,1-s)}return!(!c&&!a)})))}return{run(t){Ct(i)?xe().then((()=>{i=i(o),f(t)})):f(t)},end(){l(),c=a=null}}}const Oe="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Te(t){t&&t.c()}function Pe(t,e,n,r){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),r||me((()=>{const e=t.$$.on_mount.map($t).filter(Ct);t.$$.on_destroy?t.$$.on_destroy.push(...e):_t(e),t.$$.on_mount=[]})),i.forEach(me)}function Le(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];fe.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),fe=e}(n.after_update),_t(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Re(t,e){-1===t.$$.dirty[0]&&(le.push(t),ge||(ge=!0,he.then(be)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Me(t,e,n,r,o,i,s,c=[-1]){const a=ne;se(t);const u=t.$$={fragment:null,ctx:[],props:i,update:yt,not_equal:o,bound:xt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:xt(),dirty:c,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let l=!1;if(u.ctx=n?n(t,e.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return u.ctx&&o(u.ctx[e],u.ctx[e]=i)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](i),l&&Re(t,e)),n})):[],u.update(),l=!0,_t(u.before_update),u.fragment=!!r&&r(u.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);u.fragment&&u.fragment.l(t),t.forEach(Ht)}else u.fragment&&u.fragment.c();e.intro&&Ee(t.$$.fragment),Pe(t,e.target,e.anchor,e.customElement),be()}se(a)}class Ue{$destroy(){Le(this,1),this.$destroy=yt}$on(t,e){if(!Ct(e))return yt;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const De=[];function Be(t,e=yt){let n;const r=new Set;function o(e){if(kt(t,e)&&(t=e,n)){const e=!De.length;for(const e of r)e[1](),De.push(e,t);if(e){for(let t=0;t<De.length;t+=2)De[t][0](De[t+1]);De.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(i,s=yt){const c=[i,s];return r.add(c),1===r.size&&(n=e(o)||yt),i(t),()=>{r.delete(c),0===r.size&&n&&(n(),n=null)}}}}function Ne(t,e,n){const r=!Array.isArray(t),o=r?[t]:t,i=e.length<2;return s=t=>{let n=!1;const s=[];let c=0,a=yt;const u=()=>{if(c)return;a();const n=e(r?s[0]:s,t);i?t(n):a=Ct(n)?n:yt},l=o.map(((t,e)=>Et(t,(t=>{s[e]=t,c&=~(1<<e),n&&u()}),(()=>{c|=1<<e}))));return n=!0,u(),function(){_t(l),a(),n=!1}},{subscribe:Be(n,s).subscribe};var s}function He(e,n){return t(this,void 0,void 0,(function*(){n=function(t){const e={};"undefined"!=typeof Jetpack_Boost&&("version"in Jetpack_Boost&&(e.boost_version=Jetpack_Boost.version),"connection"in Jetpack_Boost&&(e.jetpack_connection=Jetpack_Boost.connection.connected?"connected":"disconnected"),"optimizations"in Jetpack_Boost&&(e.optimizations=JSON.stringify(Jetpack_Boost.optimizations)));return Object.assign(Object.assign({},e),t)}(n),U.tracks.recordEvent(`jetpack_boost_${e}`,n)}))}const qe="jetpack-boost-guide",Je={active:"Active",paused:"Paused"};let Ve=localStorage.getItem(qe);Ve&&Je[Ve]||(localStorage.setItem(qe,"Active"),Ve="active");const{set:We,update:Ze,subscribe:Ge}=Be(Ve);Ge((t=>{localStorage.setItem(qe,t)}));const Ke={subscribe:Ge,set:We,update:Ze,cycle:()=>{Ze((t=>{const e=Object.keys(Je),n=e.indexOf(t);return e[(n+1)%e.length]}))}},Xe=Ne(Ke,(t=>Je[t]));class Ye{static trackImageOutcome(e){return t(this,void 0,void 0,(function*(){return new Promise((t=>{e.loading.subscribe((n=>{if(!n){const n=St(e.oversizedRatio),r=n>4?"red":n>2.5?"yellow":"green",o=St(e.fileSize),i=St(e.sizeOnPage),s=St(e.expectedSize),c=St(e.potentialSavings),a=St(e.url),u={severity:r,oversized_ratio:n,file_weight:o.weight,file_width:o.width,file_height:o.height,size_on_page_width:i.width,size_on_page_height:i.height,expected_width:s.width,expected_height:s.height,potential_savings:c,image_url:a};He("image_guide_image_outcome",Object.assign(Object.assign({},u),{window_width:window.innerWidth,window_height:window.innerHeight,device_pixel_ratio:window.devicePixelRatio})),t(u)}}))}))}))}static trackPage(e){return t(this,void 0,void 0,(function*(){if(!e.length||Ye.trackingComplete)return;Ye.trackingComplete=!0;const t=e.map(Ye.trackImageOutcome),n=yield Promise.all(t);He("image_guide_page_outcome",{total_potential_savings:n.reduce(((t,e)=>t+(e.potential_savings||0)),0),red_severity_count:n.filter((t=>"red"===t.severity)).length,yellow_severity_count:n.filter((t=>"yellow"===t.severity)).length,green_severity_count:n.filter((t=>"green"===t.severity)).length,window_width:window.innerWidth,window_height:window.innerHeight,device_pixel_ratio:window.devicePixelRatio})}))}static trackInitialState(){He("image_guide_initial_ui_state",{image_guide_state:St(Ke)})}static trackUIStateChange(){He("image_guide_ui_state_change",{image_guide_state:St(Ke)})}}Ye.trackingComplete=!1;class Qe{constructor(t){this.loading=Be(!0),this.currentSrc="",this.image=t,this.node=t.node;this.url=Be(t.getURL()),this.fileSize=Be({width:0,height:0,weight:0}),this.sizeOnPage=Be({width:0,height:0}),this.potentialSavings=this.derivePotentialSavings(),this.oversizedRatio=this.deriveOversizedRatio(),this.expectedSize=this.deriveExpectedSize()}deriveOversizedRatio(){return Ne([this.fileSize,this.sizeOnPage],(([t,e])=>this.image.getOversizedRatio(t,e)))}deriveExpectedSize(){return Ne(this.sizeOnPage,(t=>this.image.getExpectedSize(t)))}derivePotentialSavings(){return Ne([this.fileSize,this.sizeOnPage],(([t,e])=>this.image.getPotentialSavings(t,e)))}updateDimensions(){return t(this,void 0,void 0,(function*(){const t=this.image.getSizeOnPage();this.sizeOnPage.set(t),yield this.maybeUpdateWeight()}))}maybeUpdateWeight(){return t(this,void 0,void 0,(function*(){if(this.image.getURL()===this.currentSrc)return;this.loading.set(!0),this.currentSrc=this.image.getURL();const t=yield this.image.getFileSize(this.currentSrc);this.url.set(this.currentSrc),this.fileSize.set(t),this.loading.set(!1)}))}}function tn(t){const e=1.70158;return--t*t*((e+1)*t+e)+1}function en(t){const e=t-1;return e*e*e+1}function nn(t,{delay:e=0,duration:n=400,easing:r=bt}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:t=>"opacity: "+t*o}}function rn(t,{delay:e=0,duration:n=400,easing:r=en,x:o=0,y:i=0,opacity:s=0}={}){const c=getComputedStyle(t),a=+c.opacity,u="none"===c.transform?"":c.transform,l=a*(1-s),[d,f]=At(o),[p,h]=At(i);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${u} translate(${(1-t)*d}${f}, ${(1-t)*p}${h});\n\t\t\topacity: ${a-l*e}`}}function on(t){let e,n,r,o,i;return{c(){e=qt("div"),n=Jt("svg"),r=Jt("path"),o=Jt("path"),i=Jt("path"),Kt(r,"d","M55.4 107.8C84.3397 107.8 107.8 84.3397 107.8 55.4C107.8 26.4603 84.3397 3 55.4 3C26.4603 3 3 26.4603 3 55.4C3 84.3397 26.4603 107.8 55.4 107.8Z"),Kt(r,"fill",t[1]),Kt(o,"d","M58 46.6V97.4L84.2 46.6H58Z"),Kt(o,"fill","white"),Kt(i,"d","M52.7 64.1V13.4L26.6 64.1H52.7Z"),Kt(i,"fill","white"),Kt(n,"viewBox","0 0 110 110"),Kt(n,"fill","none"),Kt(n,"xmlns","http://www.w3.org/2000/svg"),Yt(e,"width",t[0]+"px"),Yt(e,"height",t[0]+"px"),Kt(e,"class","svelte-f6jc8")},m(t,s){Nt(t,e,s),Ut(e,n),Ut(n,r),Ut(n,o),Ut(n,i)},p(t,[n]){2&n&&Kt(r,"fill",t[1]),1&n&&Yt(e,"width",t[0]+"px"),1&n&&Yt(e,"height",t[0]+"px")},i:yt,o:yt,d(t){t&&Ht(e)}}}function sn(t,e,n){let{size:r=16}=e,{bg:o="#069E08"}=e;return t.$$set=t=>{"size"in t&&n(0,r=t.size),"bg"in t&&n(1,o=t.bg)},[r,o]}class cn extends Ue{constructor(t){super(),Me(this,t,sn,on,kt,{size:0,bg:1})}}function an(t){let e,n,r,o;return n=new cn({props:{size:12,bg:"transparent"}}),{c(){e=qt("div"),Te(n.$$.fragment),Kt(e,"class","spinner svelte-2eb8gc")},m(t,r){Nt(t,e,r),Pe(n,e,null),o=!0},p:yt,i(t){o||(Ee(n.$$.fragment,t),r&&r.end(1),o=!0)},o(t){Se(n.$$.fragment,t),r=function(t,e,n){const r={direction:"out"};let o,i=e(t,n,r),s=!0;const c=ke;function a(){const{delay:e=0,duration:n=300,easing:r=bt,tick:a=yt,css:u}=i||je;u&&(o=oe(t,1,0,n,e,r,u));const l=Tt()+e,d=l+n;me((()=>_e(t,!1,"start"))),Mt((e=>{if(s){if(e>=d)return a(0,1),_e(t,!1,"end"),--c.r||_t(c.c),!1;if(e>=l){const t=r((e-l)/n);a(1-t,t)}}return s}))}return c.r+=1,Ct(i)?xe().then((()=>{i=i(r),a()})):a(),{end(e){e&&i.tick&&i.tick(1,0),s&&(o&&ie(t,o),s=!1)}}}(e,nn,{duration:300}),o=!1},d(t){t&&Ht(e),Le(n),t&&r&&r.end()}}}class un extends Ue{constructor(t){super(),Me(this,t,null,an,kt,{})}}function ln(t){let e,n;return{c(){e=Jt("svg"),n=Jt("path"),Kt(n,"stroke-linecap","round"),Kt(n,"stroke-linejoin","round"),Kt(n,"stroke-width","2"),Kt(n,"d","M5 13l4 4L19 7"),Kt(e,"class","w-6 h-6 svelte-jkeb2"),Kt(e,"fill","none"),Kt(e,"stroke","white"),Kt(e,"width","18"),Kt(e,"height","18"),Kt(e,"viewBox","0 0 24 24"),Kt(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){Nt(t,e,r),Ut(e,n)},p:yt,i:yt,o:yt,d(t){t&&Ht(e)}}}class dn extends Ue{constructor(t){super(),Me(this,t,null,ln,kt,{})}}function fn(t){let e,n,r;return n=new un({}),{c(){e=qt("div"),Te(n.$$.fragment),Kt(e,"class","bubble-inner svelte-sip1vm")},m(t,o){Nt(t,e,o),Pe(n,e,null),r=!0},p:yt,i(t){r||(Ee(n.$$.fragment,t),r=!0)},o(t){Se(n.$$.fragment,t),r=!1},d(t){t&&Ht(e),Le(n)}}}function pn(t){let e,n,r,o,i,s;const c=[mn,gn,hn],a=[];function u(t,e){return t[0]>9?0:t[0]>.99?1:2}return r=u(t),o=a[r]=c[r](t),{c(){e=qt("div"),n=qt("div"),o.c(),Kt(n,"class","label"),Kt(e,"class","bubble-inner svelte-sip1vm")},m(t,o){Nt(t,e,o),Ut(e,n),a[r].m(n,null),s=!0},p(t,e){let i=r;r=u(t),r===i?a[r].p(t,e):(Fe(),Se(a[i],1,1,(()=>{a[i]=null})),ze(),o=a[r],o?o.p(t,e):(o=a[r]=c[r](t),o.c()),Ee(o,1),o.m(n,null))},i(t){s||(Ee(o),i||me((()=>{i=Ie(n,nn,{delay:200,duration:300}),i.start()})),s=!0)},o(t){Se(o),s=!1},d(t){t&&Ht(e),a[r].d()}}}function hn(t){let e,n;return{c(){e=qt("span"),e.textContent="<",n=Vt(" 1x"),Yt(e,"font-size","0.75em")},m(t,r){Nt(t,e,r),Nt(t,n,r)},p:yt,i:yt,o:yt,d(t){t&&Ht(e),t&&Ht(n)}}}function gn(t){let e,n,r,o;const i=[wn,vn],s=[];function c(t,e){return"normal"===t[1]?0:1}return e=c(t),n=s[e]=i[e](t),{c(){n.c(),r=Zt()},m(t,n){s[e].m(t,n),Nt(t,r,n),o=!0},p(t,o){let a=e;e=c(t),e===a?s[e].p(t,o):(Fe(),Se(s[a],1,1,(()=>{s[a]=null})),ze(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),Ee(n,1),n.m(r.parentNode,r))},i(t){o||(Ee(n),o=!0)},o(t){Se(n),o=!1},d(t){s[e].d(t),t&&Ht(r)}}}function mn(t){let e,n,r=Math.floor(t[0])+"";return{c(){e=Vt(r),n=Vt("x")},m(t,r){Nt(t,e,r),Nt(t,n,r)},p(t,n){1&n&&r!==(r=Math.floor(t[0])+"")&&Xt(e,r)},i:yt,o:yt,d(t){t&&Ht(e),t&&Ht(n)}}}function vn(t){let e,n,r=t[0].toFixed(1)+"";return{c(){e=Vt(r),n=Vt("x")},m(t,r){Nt(t,e,r),Nt(t,n,r)},p(t,n){1&n&&r!==(r=t[0].toFixed(1)+"")&&Xt(e,r)},i:yt,o:yt,d(t){t&&Ht(e),t&&Ht(n)}}}function wn(t){let e,n;return e=new dn({}),{c(){Te(e.$$.fragment)},m(t,r){Pe(e,t,r),n=!0},p:yt,i(t){n||(Ee(e.$$.fragment,t),n=!0)},o(t){Se(e.$$.fragment,t),n=!1},d(t){Le(e,t)}}}function yn(t){let e,n,r,o,i,s,c,a,u;const l=[pn,fn],d=[];function f(t,e){return!1===t[3]?0:1}return r=f(t),o=d[r]=l[r](t),{c(){e=qt("div"),n=qt("div"),o.c(),Kt(n,"class","bubble svelte-sip1vm"),Kt(e,"class",i="interaction-area "+t[1]+" svelte-sip1vm")},m(o,i){Nt(o,e,i),Ut(e,n),d[r].m(n,null),t[10](e),c=!0,a||(u=Gt(e,"mouseenter",t[7]),a=!0)},p(s,[a]){let u=r;r=f(t=s),r===u?d[r].p(t,a):(Fe(),Se(d[u],1,1,(()=>{d[u]=null})),ze(),o=d[r],o?o.p(t,a):(o=d[r]=l[r](t),o.c()),Ee(o,1),o.m(n,null)),(!c||2&a&&i!==(i="interaction-area "+t[1]+" svelte-sip1vm"))&&Kt(e,"class",i)},i(n){c||(Ee(o),me((()=>{c&&(s||(s=Ae(e,rn,t[6],!0)),s.run(1))})),c=!0)},o(n){Se(o),s||(s=Ae(e,rn,t[6],!1)),s.run(0),c=!1},d(n){n&&Ht(e),d[r].d(),t[10](null),n&&s&&s.end(),a=!1,u()}}}function bn(t,e,n){let r,o,i,{index:s}=e,{store:c}=e;const a=c.oversizedRatio;jt(t,a,(t=>n(0,r=t)));const u=c.loading;jt(t,u,(t=>n(3,o=t)));const l={delay:150+50*s,duration:250,y:2,easing:tn};let d;const f=function(){const t=ce();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=te(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,i)})),!i.defaultPrevented}return!0}}();return t.$$set=t=>{"index"in t&&n(8,s=t.index),"store"in t&&n(9,c=t.store)},t.$$.update=()=>{1&t.$$.dirty&&n(1,i=r>4?"high":r>2.5?"medium":"normal")},[r,i,d,o,a,u,l,function(){const t=d.getBoundingClientRect();f("hover",{index:s,position:{top:t.top+t.height+10,left:t.left}})},s,c,function(t){de[t?"unshift":"push"]((()=>{d=t,n(2,d)}))}]}class $n extends Ue{constructor(t){super(),Me(this,t,bn,yn,kt,{index:8,store:9})}}function xn(t){let e,n;const r=t[2].default,o=function(t,e,n,r){if(t){const o=It(t,e,n,r);return t[0](o)}}(r,t,t[1],null);return{c(){e=qt("div"),o&&o.c(),Kt(e,"class","jetpack-boost-guide-portal")},m(r,i){Nt(r,e,i),o&&o.m(e,null),t[3](e),n=!0},p(t,[e]){o&&o.p&&(!n||2&e)&&function(t,e,n,r,o,i){if(o){const s=It(e,n,r,i);t.p(s,o)}}(o,r,t,t[1],n?function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(r,t[1],e,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[1]),null)},i(t){n||(Ee(o,t),n=!0)},o(t){Se(o,t),n=!1},d(n){n&&Ht(e),o&&o.d(n),t[3](null)}}}function _n(t,e,n){let r,{$$slots:o={},$$scope:i}=e;var s;return ae((()=>{document.body.appendChild(r)})),s=()=>{document.body.removeChild(r)},ce().$$.on_destroy.push(s),t.$$set=t=>{"$$scope"in t&&n(1,i=t.$$scope)},[r,i,o,function(t){de[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class Cn extends Ue{constructor(t){super(),Me(this,t,_n,xn,kt,{})}}function kn(t){let e,n;return{c(){e=Jt("svg"),n=Jt("path"),Kt(n,"d","M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"),Kt(e,"xmlns","http://www.w3.org/2000/svg"),Kt(e,"viewBox","0 0 24 24"),Kt(e,"class","svelte-1g2gjwn")},m(t,r){Nt(t,e,r),Ut(e,n)},p:yt,i:yt,o:yt,d(t){t&&Ht(e)}}}class Fn extends Ue{constructor(t){super(),Me(this,t,null,kn,kt,{})}}const{window:zn}=Oe;function En(t){let e,n,r,o,i=t[30]+"";return{c(){e=qt("div"),n=Vt("The image file is "),r=Vt(i),o=Vt("x smaller than expected on this screen. This might be\n\t\t\t\t\t\tfine, but you may want to check if the image appears blurry."),Kt(e,"class","explanation svelte-1c7o3v8")},m(t,i){Nt(t,e,i),Ut(e,n),Ut(e,r),Ut(e,o)},p(t,e){8&e[0]&&i!==(i=t[30]+"")&&Xt(r,i)},d(t){t&&Ht(e)}}}function Sn(t){let e,n,r=t[6]>1&&An(t);return{c(){e=qt("div"),n=Vt("The image size is very close to the size it appears in the browser.\n\t\t\t\t\t\t"),r&&r.c(),Kt(e,"class","explanation svelte-1c7o3v8")},m(t,o){Nt(t,e,o),Ut(e,n),r&&r.m(e,null)},p(t,n){t[6]>1?r?r.p(t,n):(r=An(t),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(t){t&&Ht(e),r&&r.d()}}}function jn(t){let e;return{c(){e=qt("div"),e.textContent="The image is exactly the correct size for this screen.",Kt(e,"class","explanation svelte-1c7o3v8")},m(t,n){Nt(t,e,n)},p:yt,d(t){t&&Ht(e)}}}function In(t){let e,n,r,o,i,s,c=t[4].weight>450&&On();return{c(){e=qt("div"),n=Vt("The image loaded is "),r=qt("strong"),o=Vt(t[6]),i=Vt("x"),s=Vt(" larger than it appears in the browser.\n\t\t\t\t\t\t"),c&&c.c(),Kt(e,"class","explanation svelte-1c7o3v8")},m(t,a){Nt(t,e,a),Ut(e,n),Ut(e,r),Ut(r,o),Ut(r,i),Ut(e,s),c&&c.m(e,null)},p(t,n){64&n[0]&&Xt(o,t[6]),t[4].weight>450?c||(c=On(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(t){t&&Ht(e),c&&c.d()}}}function An(t){let e,n,r,o,i;return{c(){e=Vt("Because there are various screen sizes, it's okay for the image to be\n\t\t\t\t\t\t\t"),n=qt("strong"),r=Vt(t[6]),o=Vt("x"),i=Vt(" than it appears on the page.")},m(t,s){Nt(t,e,s),Nt(t,n,s),Ut(n,r),Ut(n,o),Nt(t,i,s)},p(t,e){64&e[0]&&Xt(r,t[6])},d(t){t&&Ht(e),t&&Ht(n),t&&Ht(i)}}}function On(t){let e;return{c(){e=Vt("Try using a smaller image or reduce the file size by compressing it.")},m(t,n){Nt(t,e,n)},d(t){t&&Ht(e)}}}function Tn(t){let e,n;return{c(){e=qt("img"),zt(e.src,n=t[5])||Kt(e,"src",n),Kt(e,"alt",t[8]),Yt(e,"width",t[2]+"px"),Yt(e,"height",t[7]+"px"),Kt(e,"width",t[2]),Kt(e,"height",t[7]),Kt(e,"class","svelte-1c7o3v8")},m(t,n){Nt(t,e,n)},p(t,r){32&r[0]&&!zt(e.src,n=t[5])&&Kt(e,"src",n),256&r[0]&&Kt(e,"alt",t[8]),4&r[0]&&Yt(e,"width",t[2]+"px"),128&r[0]&&Yt(e,"height",t[7]+"px"),4&r[0]&&Kt(e,"width",t[2]),128&r[0]&&Kt(e,"height",t[7])},d(t){t&&Ht(e)}}}function Pn(t){let e;function n(t,e){return t[16]?Mn:Rn}let r=n(t),o=r(t);return{c(){e=qt("div"),o.c(),Kt(e,"class","value")},m(t,n){Nt(t,e,n),o.m(e,null)},p(t,i){r!==(r=n(t))&&(o.d(1),o=r(t),o&&(o.c(),o.m(e,null)))},d(t){t&&Ht(e),o.d()}}}function Ln(t){let e,n,r,o,i=t[4].width+"",s=t[4].height+"";return{c(){e=qt("div"),n=Vt(i),r=Vt(" x "),o=Vt(s),Kt(e,"class","value")},m(t,i){Nt(t,e,i),Ut(e,n),Ut(e,r),Ut(e,o)},p(t,e){16&e[0]&&i!==(i=t[4].width+"")&&Xt(n,i),16&e[0]&&s!==(s=t[4].height+"")&&Xt(o,s)},d(t){t&&Ht(e)}}}function Rn(t){let e;return{c(){e=qt("em"),e.textContent="Unknown"},m(t,n){Nt(t,e,n)},d(t){t&&Ht(e)}}}function Mn(t){let e;return{c(){e=Vt("Loading...")},m(t,n){Nt(t,e,n)},d(t){t&&Ht(e)}}}function Un(t){let e;return{c(){e=qt("em"),e.textContent="Unknown"},m(t,n){Nt(t,e,n)},p:yt,d(t){t&&Ht(e)}}}function Dn(t){let e;return{c(){e=Vt("Loading...")},m(t,n){Nt(t,e,n)},p:yt,d(t){t&&Ht(e)}}}function Bn(t){let e,n,r=Math.round(t[4].weight)+"";return{c(){e=Vt(r),n=Vt(" KB")},m(t,r){Nt(t,e,r),Nt(t,n,r)},p(t,n){16&n[0]&&r!==(r=Math.round(t[4].weight)+"")&&Xt(e,r)},d(t){t&&Ht(e),t&&Ht(n)}}}function Nn(t){let e;return{c(){e=qt("em"),e.textContent="N/A"},m(t,n){Nt(t,e,n)},p:yt,d(t){t&&Ht(e)}}}function Hn(t){let e;return{c(){e=Vt("Loading...")},m(t,n){Nt(t,e,n)},p:yt,d(t){t&&Ht(e)}}}function qn(t){let e,n,r;return{c(){e=qt("strong"),n=Vt(t[19]),r=Vt(" KB")},m(t,o){Nt(t,e,o),Ut(e,n),Ut(e,r)},p(t,e){524288&e[0]&&Xt(n,t[19])},d(t){t&&Ht(e)}}}function Jn(t){let e,n,r,o,i,s,c,a,u,l,d,f,p,h,g,m,v,w,y,b,$,x,_,C,k,F,z,E,S,j,I,A,O,T,P,L,R,M,U,D,B,N,H,q,J,V,W,Z,G,K,X,Y=t[17].width+"",Q=t[17].height+"",tt=t[18].width+"",et=t[18].height+"",nt=`${t[0].top}px`,rt=`${t[0].left}px`;function ot(t,e){return t[6]>=1.3?In:1===t[6]?jn:t[6]>=.99&&t[6]<1.3?Sn:En}function it(t,e){return e===En?function(t){const e=t.slice(),n=Wn(1/e[3]);return e[30]=n,e}(t):t}r=new cn({props:{size:250}});let st=ot(t),ct=st(it(t,st)),at=t[5]&&Tn(t);function ut(t,e){return t[4].width>0&&t[4].height>0?Ln:Pn}let lt=ut(t),dt=lt(t);function ft(t,e){return t[4].weight>0?Bn:t[16]?Dn:Un}let pt=ft(t),ht=pt(t);function gt(t,e){return t[19]>0?qn:t[16]?Hn:Nn}let mt=gt(t),vt=mt(t);return W=new Fn({}),{c(){e=qt("div"),n=qt("div"),Te(r.$$.fragment),o=Wt(),i=qt("div"),s=qt("div"),c=qt("div"),a=qt("a"),u=Vt(t[8]),l=Wt(),ct.c(),d=Wt(),at&&at.c(),f=Wt(),p=qt("div"),h=qt("div"),g=qt("div"),g.textContent="Image File Dimensions",m=Wt(),dt.c(),v=Wt(),w=qt("div"),y=qt("div"),y.textContent="Expected Dimensions",b=Wt(),$=qt("div"),x=Vt(Y),_=Vt(" x "),C=Vt(Q),k=Wt(),F=qt("div"),z=qt("div"),z.textContent="Size on screen",E=Wt(),S=qt("div"),j=Vt(tt),I=Vt(" x "),A=Vt(et),O=Wt(),T=qt("div"),P=qt("div"),P.textContent="Image Size",L=Wt(),R=qt("div"),ht.c(),M=Wt(),U=qt("div"),D=qt("div"),D.textContent="Potential savings",B=Wt(),N=qt("div"),vt.c(),H=Wt(),q=qt("div"),J=qt("a"),V=Vt("Learn how to improve site speed by optimizing images "),Te(W.$$.fragment),Kt(n,"class","logo svelte-1c7o3v8"),Kt(a,"href",t[5]),Kt(a,"target","_blank noreferrer"),Kt(a,"class","svelte-1c7o3v8"),Kt(c,"class","title svelte-1c7o3v8"),Kt(s,"class","description svelte-1c7o3v8"),Kt(i,"class","preview svelte-1c7o3v8"),Kt(g,"class","label"),Kt(h,"class","row svelte-1c7o3v8"),Kt(y,"class","label"),Kt($,"class","value"),Kt(w,"class","row svelte-1c7o3v8"),Kt(z,"class","label"),Kt(S,"class","value"),Kt(F,"class","row svelte-1c7o3v8"),Kt(P,"class","label"),Kt(R,"class","value"),Kt(T,"class","row svelte-1c7o3v8"),Kt(D,"class","label"),Kt(N,"class","value"),Kt(U,"class","row svelte-1c7o3v8"),Kt(J,"class","documentation svelte-1c7o3v8"),Kt(J,"href",t[20]),Kt(J,"target","_blank noreferrer"),Kt(q,"class","info svelte-1c7o3v8"),Kt(p,"class","meta"),Kt(e,"class","jetpack-boost-guide-popup keep-guide-open svelte-1c7o3v8"),Yt(e,"top",nt),Yt(e,"left",rt)},m(Z,Y){Nt(Z,e,Y),Ut(e,n),Pe(r,n,null),Ut(e,o),Ut(e,i),Ut(i,s),Ut(s,c),Ut(c,a),Ut(a,u),Ut(s,l),ct.m(s,null),Ut(i,d),at&&at.m(i,null),Ut(e,f),Ut(e,p),Ut(p,h),Ut(h,g),Ut(h,m),dt.m(h,null),Ut(p,v),Ut(p,w),Ut(w,y),Ut(w,b),Ut(w,$),Ut($,x),Ut($,_),Ut($,C),Ut(p,k),Ut(p,F),Ut(F,z),Ut(F,E),Ut(F,S),Ut(S,j),Ut(S,I),Ut(S,A),Ut(p,O),Ut(p,T),Ut(T,P),Ut(T,L),Ut(T,R),ht.m(R,null),Ut(p,M),Ut(p,U),Ut(U,D),Ut(U,B),Ut(U,N),vt.m(N,null),Ut(p,H),Ut(p,q),Ut(q,J),Ut(J,V),Pe(W,J,null),G=!0,K||(X=Gt(e,"mouseleave",t[23]),K=!0)},p(n,r){t=n,(!G||256&r[0])&&Xt(u,t[8]),(!G||32&r[0])&&Kt(a,"href",t[5]),st===(st=ot(t))&&ct?ct.p(it(t,st),r):(ct.d(1),ct=st(it(t,st)),ct&&(ct.c(),ct.m(s,null))),t[5]?at?at.p(t,r):(at=Tn(t),at.c(),at.m(i,null)):at&&(at.d(1),at=null),lt===(lt=ut(t))&&dt?dt.p(t,r):(dt.d(1),dt=lt(t),dt&&(dt.c(),dt.m(h,null))),(!G||131072&r[0])&&Y!==(Y=t[17].width+"")&&Xt(x,Y),(!G||131072&r[0])&&Q!==(Q=t[17].height+"")&&Xt(C,Q),(!G||262144&r[0])&&tt!==(tt=t[18].width+"")&&Xt(j,tt),(!G||262144&r[0])&&et!==(et=t[18].height+"")&&Xt(A,et),pt===(pt=ft(t))&&ht?ht.p(t,r):(ht.d(1),ht=pt(t),ht&&(ht.c(),ht.m(R,null))),mt===(mt=gt(t))&&vt?vt.p(t,r):(vt.d(1),vt=mt(t),vt&&(vt.c(),vt.m(N,null))),1&r[0]&&nt!==(nt=`${t[0].top}px`)&&Yt(e,"top",nt),1&r[0]&&rt!==(rt=`${t[0].left}px`)&&Yt(e,"left",rt)},i(t){G||(Ee(r.$$.fragment,t),Ee(W.$$.fragment,t),Z||me((()=>{Z=Ie(e,rn,{duration:150,y:4,easing:tn}),Z.start()})),G=!0)},o(t){Se(r.$$.fragment,t),Se(W.$$.fragment,t),G=!1},d(t){t&&Ht(e),Le(r),ct.d(),at&&at.d(),dt.d(),ht.d(),vt.d(),Le(W),K=!1,X()}}}function Vn(t){let e,n,r,o,i,s=!1,c=()=>{s=!1};return me(t[24]),n=new Cn({props:{$$slots:{default:[Jn]},$$scope:{ctx:t}}}),{c(){Te(n.$$.fragment)},m(a,u){Pe(n,a,u),r=!0,o||(i=Gt(zn,"scroll",(()=>{s=!0,clearTimeout(e),e=setTimeout(c,100),t[24]()})),o=!0)},p(t,r){2&r[0]&&!s&&(s=!0,clearTimeout(e),scrollTo(zn.pageXOffset,t[1]),e=setTimeout(c,100));const o={};983549&r[0]|1&r[1]&&(o.$$scope={dirty:r,ctx:t}),n.$set(o)},i(t){r||(Ee(n.$$.fragment,t),r=!0)},o(t){Se(n.$$.fragment,t),r=!1},d(t){Le(n,t),o=!1,i()}}}function Wn(t){return t%1==0?t:parseFloat(t.toFixed(2))}function Zn(t,e,n){let r,o,i,s,c,a,u,l,d,f,p,h,g,m,v,w,y,b,$=yt,x=yt,_=yt,C=yt,k=yt,F=yt,z=yt;t.$$.on_destroy.push((()=>$())),t.$$.on_destroy.push((()=>x())),t.$$.on_destroy.push((()=>_())),t.$$.on_destroy.push((()=>C())),t.$$.on_destroy.push((()=>k())),t.$$.on_destroy.push((()=>F())),t.$$.on_destroy.push((()=>z()));let{store:E}=e,{size:S}=e,{position:j}=e,I=0,A=0,O=0;ae((()=>{A=I,O=j.top}));const T=function(t,e={}){var n;const r={};let o;if("undefined"!=typeof window&&(o=null===(n=window.Initial_State)||void 0===n?void 0:n.calypsoEnv),0===t.search("https://")){const e=new URL(t);t=`https://${e.host}${e.pathname}`,r.url=encodeURIComponent(t)}else r.source=encodeURIComponent(t);return Object.keys(e).map((t=>{r[t]=encodeURIComponent(e[t])})),!Object.keys(r).includes("site")&&"undefined"!=typeof jetpack_redirects&&jetpack_redirects.hasOwnProperty("currentSiteRawUrl")&&(r.site=jetpack_redirects.currentSiteRawUrl),o&&(r.calypso_env=o),"https://jetpack.com/redirect/?"+Object.keys(r).map((t=>t+"="+r[t])).join("&")}("jetpack-support-boost-image-performance-guide");return t.$$set=t=>{"store"in t&&n(21,E=t.store),"size"in t&&n(22,S=t.size),"position"in t&&n(0,j=t.position)},t.$$.update=()=>{var e;2097152&t.$$.dirty[0]&&(n(15,r=E.loading),C(),C=Et(r,(t=>n(16,v=t)))),2097152&t.$$.dirty[0]&&(n(14,o=E.oversizedRatio),$(),$=Et(o,(t=>n(3,h=t)))),2097152&t.$$.dirty[0]&&(n(13,i=E.fileSize),x(),x=Et(i,(t=>n(4,g=t)))),2097152&t.$$.dirty[0]&&(n(12,s=E.sizeOnPage),F(),F=Et(s,(t=>n(18,y=t)))),2097152&t.$$.dirty[0]&&(n(11,c=E.potentialSavings),z(),z=Et(c,(t=>n(19,b=t)))),2097152&t.$$.dirty[0]&&(n(10,a=E.expectedSize),k(),k=Et(a,(t=>n(17,w=t)))),2097152&t.$$.dirty[0]&&(n(9,u=E.url),_(),_=Et(u,(t=>n(5,m=t)))),32&t.$$.dirty[0]&&n(8,l=m.split("/").pop()),32&t.$$.dirty[0]&&new URL(m).origin,4194304&t.$$.dirty[0]&&n(2,d="normal"===S?100:50),20&t.$$.dirty[0]&&n(7,f=Math.floor(d/(g.width/g.height))),8&t.$$.dirty[0]&&n(6,p=Wn(h)),2&t.$$.dirty[0]&&0!==(e=I)&&A!==e&&n(0,j.top=O+(A-e),j)},new URL(window.location.href).origin,[j,I,d,h,g,m,p,f,l,u,a,c,s,i,o,r,v,w,y,b,T,E,S,function(e){ue.call(this,t,e)},function(){n(1,I=zn.pageYOffset)}]}class Gn extends Ue{constructor(t){super(),Me(this,t,Zn,Vn,kt,{store:21,size:22,position:0},null,[-1,-1])}}function Kn(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function Xn(t){let e,n,r,o,i,s,c,a=t[0],u=[];for(let e=0;e<a.length;e+=1)u[e]=Yn(Kn(t,a,e));const l=t=>Se(u[t],1,1,(()=>{u[t]=null}));let d=!1!==t[1]&&Qn(t);return{c(){e=qt("div"),n=qt("div");for(let t=0;t<u.length;t+=1)u[t].c();r=Wt(),d&&d.c(),Kt(n,"class","previews svelte-11j2opz"),Kt(e,"class",o="guide "+t[3]+" svelte-11j2opz"),Qt(e,"show",!1!==t[1]),Qt(e,"keep-guide-open",!1!==t[1])},m(o,a){Nt(o,e,a),Ut(e,n);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(n,null);Ut(e,r),d&&d.m(e,null),i=!0,s||(c=Gt(e,"mouseleave",t[5]),s=!0)},p(t,r){if(129&r){let e;for(a=t[0],e=0;e<a.length;e+=1){const o=Kn(t,a,e);u[e]?(u[e].p(o,r),Ee(u[e],1)):(u[e]=Yn(o),u[e].c(),Ee(u[e],1),u[e].m(n,null))}for(Fe(),e=a.length;e<u.length;e+=1)l(e);ze()}!1!==t[1]?d?(d.p(t,r),2&r&&Ee(d,1)):(d=Qn(t),d.c(),Ee(d,1),d.m(e,null)):d&&(Fe(),Se(d,1,1,(()=>{d=null})),ze()),(!i||8&r&&o!==(o="guide "+t[3]+" svelte-11j2opz"))&&Kt(e,"class",o),(!i||10&r)&&Qt(e,"show",!1!==t[1]),(!i||10&r)&&Qt(e,"keep-guide-open",!1!==t[1])},i(t){if(!i){for(let t=0;t<a.length;t+=1)Ee(u[t]);Ee(d),i=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)Se(u[t]);Se(d),i=!1},d(t){t&&Ht(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(u,t),d&&d.d(),s=!1,c()}}}function Yn(t){let e,n;return e=new $n({props:{index:t[12],store:t[10]}}),e.$on("hover",t[7]),{c(){Te(e.$$.fragment)},m(t,r){Pe(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.store=t[10]),e.$set(r)},i(t){n||(Ee(e.$$.fragment,t),n=!0)},o(t){Se(e.$$.fragment,t),n=!1},d(t){Le(e,t)}}}function Qn(t){let e,n;return e=new Gn({props:{store:t[0][t[1]],size:t[3],position:t[2]}}),e.$on("mouseleave",t[5]),{c(){Te(e.$$.fragment)},m(t,r){Pe(e,t,r),n=!0},p(t,n){const r={};3&n&&(r.store=t[0][t[1]]),8&n&&(r.size=t[3]),4&n&&(r.position=t[2]),e.$set(r)},i(t){n||(Ee(e.$$.fragment,t),n=!0)},o(t){Se(e.$$.fragment,t),n=!1},d(t){Le(e,t)}}}function tr(t){let e,n,r="active"===t[4]&&Xn(t);return{c(){r&&r.c(),e=Zt()},m(t,o){r&&r.m(t,o),Nt(t,e,o),n=!0},p(t,[n]){"active"===t[4]?r?(r.p(t,n),16&n&&Ee(r,1)):(r=Xn(t),r.c(),Ee(r,1),r.m(e.parentNode,e)):r&&(Fe(),Se(r,1,1,(()=>{r=null})),ze())},i(t){n||(Ee(r),n=!0)},o(t){Se(r),n=!1},d(t){r&&r.d(t),t&&Ht(e)}}}function er(t,e,n){let r,o,i;jt(t,Ke,(t=>n(4,i=t)));let{stores:s}=e,c=!1;ae((()=>{s.forEach((t=>t.updateDimensions()))}));const a=s[0].sizeOnPage;jt(t,a,(t=>n(8,o=t)));let u={top:0,left:0};return t.$$set=t=>{"stores"in t&&n(0,s=t.stores)},t.$$.update=()=>{256&t.$$.dirty&&n(3,r=function(t=-1,e=-1){return t<200||e<200?"micro":t<400||e<400?"small":"normal"}(o.width,o.height)),2&t.$$.dirty&&function(t=!1){t?s.forEach((t=>t.node.classList.add("jetpack-boost-guide__backdrop"))):s.forEach((t=>t.node.classList.remove("jetpack-boost-guide__backdrop")))}(!1!==c)},[s,c,u,r,i,function(t){t.relatedTarget&&t.relatedTarget.classList.contains("keep-guide-open")||n(1,c=!1)},a,function(t){const e=t.detail,r=e.index;n(2,u=e.position),n(1,c=r)},o]}class nr extends Ue{constructor(t){super(),Me(this,t,er,tr,kt,{stores:0})}}let rr=0;function or(t){const e=t.node;if(!(t.node instanceof HTMLImageElement)&&["static","relative"].includes(getComputedStyle(e).position))return e;if(!e.parentNode||!e.parentElement)return;const n=function(t){let e,n=t.parentElement;for(;n&&n instanceof HTMLElement&&n!==document.body;){const t=getComputedStyle(n),r="inline"!==t.display,o="static"===t.position,i="relative"===t.position,s="auto"!==t.zIndex;r&&(!e&&(o||i)||i&&s)&&(e=n),n=n.parentElement}return e}(e);if(null==n?void 0:n.classList.contains("jetpack-boost-guide"))return n;if(n){const t=getComputedStyle(n);if("relative"===t.position){const t=Array.from(n.children).find((t=>t.classList.contains("jetpack-boost-guide")));if(t&&t instanceof HTMLElement)return t}const e=document.createElement("div");return e.classList.add("jetpack-boost-guide"),e.dataset.jetpackBoostGuideId=(++rr).toString(),"static"===t.position&&(n.style.position="relative"),n.prepend(e),e}return e.parentElement}function ir(t){let e,n,r,o,i,s,c,a,u,l;return n=new cn({}),{c(){e=qt("a"),Te(n.$$.fragment),r=Wt(),o=qt("span"),i=Vt("Image Guide: "),s=Vt(t[2]),Kt(e,"id","jetpack-boost-guide-bar"),Kt(e,"href",t[0]),Kt(e,"class",c="ab-item "+t[1]+" svelte-itog5b")},m(c,d){var f;Nt(c,e,d),Pe(n,e,null),Ut(e,r),Ut(e,o),Ut(o,i),Ut(o,s),a=!0,u||(l=Gt(e,"click",(f=t[3],function(t){return t.preventDefault(),f.call(this,t)})),u=!0)},p(t,[n]){(!a||4&n)&&Xt(s,t[2]),(!a||1&n)&&Kt(e,"href",t[0]),(!a||2&n&&c!==(c="ab-item "+t[1]+" svelte-itog5b"))&&Kt(e,"class",c)},i(t){a||(Ee(n.$$.fragment,t),a=!0)},o(t){Se(n.$$.fragment,t),a=!1},d(t){t&&Ht(e),Le(n),u=!1,l()}}}function sr(t,e,n){let r,o;jt(t,Ke,(t=>n(1,r=t))),jt(t,Xe,(t=>n(2,o=t)));let{href:i}=e;return t.$$set=t=>{"href"in t&&n(0,i=t.href)},[i,r,o,function(){Ke.cycle(),Ye.trackUIStateChange()}]}class cr extends Ue{constructor(t){super(),Me(this,t,sr,ir,kt,{href:0})}}function ar(e){return t(this,void 0,void 0,(function*(){if(!function(t){return new URL(t).origin===window.location.origin}(e)){const t=yield wt({action:"boost_proxy_ig",proxy_url:e,nonce:jbImageGuide.proxyNonce},jbImageGuide.ajax_url);if(t.headers.get("content-type")&&-1!==t.headers.get("content-type").indexOf("application/json")){const e=yield t.clone().json();if(e&&e.data["content-length"]){const n=new Headers;for(const t in e.data)e.data.hasOwnProperty(t)&&n.set(t,e.data[t]);return new Response(t.body,{status:t.status,statusText:t.statusText,headers:n})}}}return yield fetch(e,{method:"HEAD",mode:"no-cors"})}))}document.addEventListener("DOMContentLoaded",(()=>{U.initialize(jetpackBoostAnalytics.tracksData.userData.userid,jetpackBoostAnalytics.tracksData.userData.username,{blog_id:jetpackBoostAnalytics.tracksData.blogId});const t=document.getElementById("wp-admin-bar-jetpack-boost-guide"),e=null==t?void 0:t.querySelector("a");if(t&&e){const n=e.getAttribute("href");e.remove(),new cr({target:t,props:{href:n}})}}));const ur=[];function lr(){Ye.trackInitialState(),Ke.subscribe((e=>t(this,void 0,void 0,(function*(){if("paused"===e)return;const t=q(Array.from(document.querySelectorAll("body *:not(.jetpack-boost-guide > *):not(.jetpack-boost-guide)")),ar),n=t.filter((t=>{const{width:e,height:n}=t.getSizeOnPage();return!(!e||!n)&&e>=65&&n>=65}));ur.push(...function(t){const e=t.reduce(((t,e)=>{var n;if(!e.node.parentNode)return console.error("Image has no parent",e.node),t;const r=or(e);if(!r)return console.error("Could not find a parent for image",e),t;const o=parseInt(r.dataset.jetpackBoostGuideId||""),i=(null===(n=t[o])||void 0===n?void 0:n.props.stores)||[],s=new Qe(e);return i.push(s),1===i.length&&(t[o]={target:r,intro:!0,props:{stores:i}}),t}),{});return Object.values(e).map((t=>(new nr(t),t.props.stores))).flat()}(n)),Ye.trackPage(ur)}))))}window.frameElement||window.addEventListener("load",(()=>{lr(),window.addEventListener("resize",function(){let t;return()=>{t&&clearTimeout(t),t=setTimeout((()=>{ur.forEach((t=>{t.updateDimensions()}))}),500)}}())}))}();
