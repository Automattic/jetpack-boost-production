!function(){"use strict";function t(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{a(i.next(t))}catch(t){r(t)}}function c(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((i=i.apply(t,e||[])).next())}))}var e,n={exports:{}};function i(){}self,e=()=>(()=>{var t={38:(t,e,n)=>{n.d(e,{z:()=>r});var i=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{a(i.next(t))}catch(t){r(t)}}function c(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((i=i.apply(t,e||[])).next())}))},o=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}},r=function(){function t(t,e){this.node=t,this.getURLCallback=e}return t.prototype.getURL=function(){return this.getURLCallback(this.node)},t.prototype.getSizeOnPage=function(){var t=this.node.getBoundingClientRect(),e=t.width,n=t.height;return{width:Math.round(e),height:Math.round(n)}},t.prototype.getFileSize=function(t){return i(this,void 0,void 0,(function(){var e,n,i,r,s;return o(this,(function(o){switch(o.label){case 0:return[4,Promise.all([this.fetchFileWeight(t),this.fetchFileDimensions(t)])];case 1:return e=o.sent(),n=e[0],i=e[1],r=i.width,s=i.height,[2,{width:r,height:s,weight:n}]}}))}))},t.prototype.getPotentialSavings=function(t,e){var n=this.getOversizedRatio(t,e);return n<=1?null:Math.round(t.weight-t.weight/n)},t.prototype.getExpectedSize=function(t){var e=window.devicePixelRatio||1;return{width:Math.round(t.width*e),height:Math.round(t.height*e)}},t.prototype.getOversizedRatio=function(t,e){var n=this.getExpectedSize(e),i=n.width,o=n.height;return t.width*t.height/(i*o)},t.prototype.fetchFileWeight=function(t){return i(this,void 0,void 0,(function(){var e,n;return o(this,(function(i){switch(i.label){case 0:return[4,fetch(t,{method:"HEAD",mode:"no-cors"})];case 1:return(e=i.sent()).url?(n=e.headers.get("content-length"))?[2,parseInt(n,10)/1024]:[2,-1]:(console.log("Can't get image size for ".concat(t," likely due to a CORS error.")),[2,-1])}}))}))},t.prototype.fetchFileDimensions=function(t){return i(this,void 0,void 0,(function(){var e;return o(this,(function(n){return(e=new Image).src=t,[2,new Promise((function(t){e.onload=function(){t({width:Math.round(e.width),height:Math.round(e.height)})},e.onerror=function(){t({width:-1,height:-1})}}))]}))}))},t}()},705:(t,e,n)=>{n.d(e,{RK:()=>s});var i=n(38);function o(t){return c(t.currentSrc)?t.currentSrc:c(t.src)?t.src:null}function r(t){var e=getComputedStyle(t).backgroundImage.match(/url\(.?(.*?).?\)/i);return e&&e[1]&&c(e[1])?e[1]:null}function s(t){return function(t){return t.filter((function(t){return t instanceof HTMLImageElement||t instanceof HTMLElement&&"none"!==getComputedStyle(t).backgroundImage}))}(t).map((function(t){return t instanceof HTMLImageElement?new i.z(t,o):t instanceof HTMLElement&&r(t)?new i.z(t,r):null})).filter((function(t){return null!==t}))}function c(t){if(t.startsWith("/"))return!t.split("?")[0].endsWith(".svg");try{var e=new URL(t);return"http:"===e.protocol||"https:"===e.protocol}catch(t){return!1}}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return(()=>{n.r(i),n.d(i,{MeasurableImage:()=>t.z,getMeasurableImages:()=>e.RK});var t=n(38),e=n(705)})(),i})(),n.exports=e();const o=t=>t;function r(t){return t()}function s(){return Object.create(null)}function c(t){t.forEach(r)}function a(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let u;function d(t,e){return u||(u=document.createElement("a")),u.href=e,t===u.href}function f(t,...e){if(null==t)return i;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function h(t){let e;return f(t,(t=>e=t))(),e}function p(t,e,n){t.$$.on_destroy.push(f(e,n))}function g(t,e,n,i){return t[1]&&i?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](i(e))):n.ctx}function m(t){const e="string"==typeof t&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const v="undefined"!=typeof window;let $=v?()=>window.performance.now():()=>Date.now(),w=v?t=>requestAnimationFrame(t):i;const y=new Set;function b(t){y.forEach((e=>{e.c(t)||(y.delete(e),e.f())})),0!==y.size&&w(b)}function x(t){let e;return 0===y.size&&w(b),{promise:new Promise((n=>{y.add(e={c:t,f:n})})),abort(){y.delete(e)}}}function _(t,e){t.appendChild(e)}function k(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function z(t){const e=E("style");return function(t,e){_(t.head||t,e),e.sheet}(k(t),e),e.sheet}function S(t,e,n){t.insertBefore(e,n||null)}function j(t){t.parentNode&&t.parentNode.removeChild(t)}function E(t){return document.createElement(t)}function C(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function O(t){return document.createTextNode(t)}function P(){return O(" ")}function L(){return O("")}function R(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function M(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function I(t,e){e=""+e,t.data!==e&&(t.data=e)}function T(t,e,n,i){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function A(t,e,n){t.classList[n?"add":"remove"](e)}function U(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,i,e),o}const B=new Map;let F,H=0;function N(t,e,n,i,o,r,s,c=0){const a=16.666/i;let l="{\n";for(let t=0;t<=1;t+=a){const i=e+(n-e)*r(t);l+=100*t+`%{${s(i,1-i)}}\n`}const u=l+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`,f=k(t),{stylesheet:h,rules:p}=B.get(f)||function(t,e){const n={stylesheet:z(e),rules:{}};return B.set(t,n),n}(f,t);p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${d} ${i}ms linear ${o}ms 1 both`,H+=1,d}function D(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-i.length;o&&(t.style.animation=i.join(", "),H-=o,H||w((()=>{H||(B.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&j(e)})),B.clear())})))}function J(t){F=t}function W(){if(!F)throw new Error("Function called outside component initialization");return F}function V(t){W().$$.on_mount.push(t)}function X(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const q=[],G=[];let K=[];const Z=[],Y=Promise.resolve();let Q=!1;function tt(t){K.push(t)}const et=new Set;let nt,it=0;function ot(){if(0!==it)return;const t=F;do{try{for(;it<q.length;){const t=q[it];it++,J(t),rt(t.$$)}}catch(t){throw q.length=0,it=0,t}for(J(null),q.length=0,it=0;G.length;)G.pop()();for(let t=0;t<K.length;t+=1){const e=K[t];et.has(e)||(et.add(e),e())}K.length=0}while(q.length);for(;Z.length;)Z.pop()();Q=!1,et.clear(),J(t)}function rt(t){if(null!==t.fragment){t.update(),c(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tt)}}function st(){return nt||(nt=Promise.resolve(),nt.then((()=>{nt=null}))),nt}function ct(t,e,n){t.dispatchEvent(U(`${e?"intro":"outro"}${n}`))}const at=new Set;let lt;function ut(){lt={r:0,c:[],p:lt}}function dt(){lt.r||c(lt.c),lt=lt.p}function ft(t,e){t&&t.i&&(at.delete(t),t.i(e))}function ht(t,e,n,i){if(t&&t.o){if(at.has(t))return;at.add(t),lt.c.push((()=>{at.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}else i&&i()}const pt={duration:0};function gt(t,e,n){const r={direction:"in"};let s,c,l=e(t,n,r),u=!1,d=0;function f(){s&&D(t,s)}function h(){const{delay:e=0,duration:n=300,easing:r=o,tick:a=i,css:h}=l||pt;h&&(s=N(t,0,1,n,e,r,h,d++)),a(0,1);const p=$()+e,g=p+n;c&&c.abort(),u=!0,tt((()=>ct(t,!0,"start"))),c=x((e=>{if(u){if(e>=g)return a(1,0),ct(t,!0,"end"),f(),u=!1;if(e>=p){const t=r((e-p)/n);a(t,1-t)}}return u}))}let p=!1;return{start(){p||(p=!0,D(t),a(l)?(l=l(r),st().then(h)):h())},invalidate(){p=!1},end(){u&&(f(),u=!1)}}}function mt(t,e,n,r){const s={direction:"both"};let l=e(t,n,s),u=r?0:1,d=null,f=null,h=null;function p(){h&&D(t,h)}function g(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function m(e){const{delay:n=0,duration:r=300,easing:s=o,tick:a=i,css:m}=l||pt,v={start:$()+n,b:e};e||(v.group=lt,lt.r+=1),d||f?f=v:(m&&(p(),h=N(t,u,e,r,n,s,m)),e&&a(0,1),d=g(v,r),tt((()=>ct(t,e,"start"))),x((e=>{if(f&&e>f.start&&(d=g(f,r),f=null,ct(t,d.b,"start"),m&&(p(),h=N(t,u,d.b,d.duration,0,s,l.css))),d)if(e>=d.end)a(u=d.b,1-u),ct(t,d.b,"end"),f||(d.b?p():--d.group.r||c(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;u=d.a+d.d*s(t/d.duration),a(u,1-u)}return!(!d&&!f)})))}return{run(t){a(l)?st().then((()=>{l=l(s),m(t)})):m(t)},end(){p(),d=f=null}}}const vt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function $t(t){t&&t.c()}function wt(t,e,n,i){const{fragment:o,after_update:s}=t.$$;o&&o.m(e,n),i||tt((()=>{const e=t.$$.on_mount.map(r).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...e):c(e),t.$$.on_mount=[]})),s.forEach(tt)}function yt(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];K.forEach((i=>-1===t.indexOf(i)?e.push(i):n.push(i))),n.forEach((t=>t())),K=e}(n.after_update),c(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function bt(t,e){-1===t.$$.dirty[0]&&(q.push(t),Q||(Q=!0,Y.then(ot)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function xt(t,e,n,o,r,a,l,u=[-1]){const d=F;J(t);const f=t.$$={fragment:null,ctx:[],props:a,update:i,not_equal:r,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:s(),dirty:u,skip_bound:!1,root:e.target||d.$$.root};l&&l(f.root);let h=!1;if(f.ctx=n?n(t,e.props||{},((e,n,...i)=>{const o=i.length?i[0]:n;return f.ctx&&r(f.ctx[e],f.ctx[e]=o)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](o),h&&bt(t,e)),n})):[],f.update(),h=!0,c(f.before_update),f.fragment=!!o&&o(f.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);f.fragment&&f.fragment.l(t),t.forEach(j)}else f.fragment&&f.fragment.c();e.intro&&ft(t.$$.fragment),wt(t,e.target,e.anchor,e.customElement),ot()}J(d)}class _t{$destroy(){yt(this,1),this.$destroy=i}$on(t,e){if(!a(e))return i;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const kt=[];function zt(t,e=i){let n;const o=new Set;function r(e){if(l(t,e)&&(t=e,n)){const e=!kt.length;for(const e of o)e[1](),kt.push(e,t);if(e){for(let t=0;t<kt.length;t+=2)kt[t][0](kt[t+1]);kt.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(s,c=i){const a=[s,c];return o.add(a),1===o.size&&(n=e(r)||i),s(t),()=>{o.delete(a),0===o.size&&n&&(n(),n=null)}}}}function St(t,e,n){const o=!Array.isArray(t),r=o?[t]:t,s=e.length<2;return l=t=>{let n=!1;const l=[];let u=0,d=i;const h=()=>{if(u)return;d();const n=e(o?l[0]:l,t);s?t(n):d=a(n)?n:i},p=r.map(((t,e)=>f(t,(t=>{l[e]=t,u&=~(1<<e),n&&h()}),(()=>{u|=1<<e}))));return n=!0,h(),function(){c(p),d(),n=!1}},{subscribe:zt(n,l).subscribe};var l}function jt(e,n){return t(this,void 0,void 0,(function*(){const t={};return"undefined"!=typeof Jetpack_Boost&&("version"in Jetpack_Boost&&(t.boost_version=Jetpack_Boost.version),"connection"in Jetpack_Boost&&(t.jetpack_connection=Jetpack_Boost.connection.connected?"connected":"disconnected"),"optimizations"in Jetpack_Boost&&(t.optimizations=JSON.stringify(Jetpack_Boost.optimizations))),n=Object.assign(Object.assign({},t),n),new Promise((t=>{"undefined"!=typeof jpTracksAJAX&&"function"==typeof jpTracksAJAX.record_ajax_event?jpTracksAJAX.record_ajax_event(`boost_${e}`,"click",n).done(t).fail((n=>{console.log(`Recording event 'boost_${e}' failed with error: ${n.responseText}`),t()})):(console.log("Invalid jpTracksAJAX object."),t())}))}))}const Et="jetpack-boost-guide",Ct={active:"Active",paused:"Paused"};let Ot=localStorage.getItem(Et);Ot&&Ct[Ot]||(localStorage.setItem(Et,"Active"),Ot="active");const{set:Pt,update:Lt,subscribe:Rt}=zt(Ot);Rt((t=>{localStorage.setItem(Et,t)}));const Mt={subscribe:Rt,set:Pt,update:Lt,cycle:()=>{Lt((t=>{const e=Object.keys(Ct),n=e.indexOf(t);return e[(n+1)%e.length]}))}},It=St(Mt,(t=>Ct[t]));class Tt{static trackImageOutcome(e){return t(this,void 0,void 0,(function*(){return new Promise((t=>{e.loading.subscribe((n=>{if(!n){const n=h(e.oversizedRatio),i=n>4?"red":n>2.5?"yellow":"green",o=h(e.fileSize),r=h(e.sizeOnPage),s=h(e.expectedSize),c=h(e.potentialSavings),a=h(e.url),l={severity:i,oversized_ratio:n,file_weight:o.weight,file_width:o.width,file_height:o.height,size_on_page_width:r.width,size_on_page_height:r.height,expected_width:s.width,expected_height:s.height,potential_savings:c,image_url:a};jt("image_guide_image_outcome",Object.assign(Object.assign({},l),{window_width:window.innerWidth,window_height:window.innerHeight,device_pixel_ratio:window.devicePixelRatio})),t(l)}}))}))}))}static trackPage(e){return t(this,void 0,void 0,(function*(){if(!e.length||Tt.trackingComplete)return;Tt.trackingComplete=!0;const t=e.map(Tt.trackImageOutcome),n=yield Promise.all(t);jt("image_guide_page_outcome",{total_potential_savings:n.reduce(((t,e)=>t+(e.potential_savings||0)),0),red_severity_count:n.filter((t=>"red"===t.severity)).length,yellow_severity_count:n.filter((t=>"yellow"===t.severity)).length,green_severity_count:n.filter((t=>"green"===t.severity)).length,window_width:window.innerWidth,window_height:window.innerHeight,device_pixel_ratio:window.devicePixelRatio})}))}static trackInitialState(){jt("image_guide_initial_ui_state",{image_guide_state:h(Mt)})}static trackUIStateChange(){jt("image_guide_ui_state_change",{image_guide_state:h(Mt)})}}Tt.trackingComplete=!1;class At{constructor(t){this.loading=zt(!0),this.currentSrc="",this.image=t,this.node=t.node;this.url=zt(t.getURL()),this.fileSize=zt({width:0,height:0,weight:0}),this.sizeOnPage=zt({width:0,height:0}),this.potentialSavings=this.derivePotentialSavings(),this.oversizedRatio=this.deriveOversizedRatio(),this.expectedSize=this.deriveExpectedSize()}deriveOversizedRatio(){return St([this.fileSize,this.sizeOnPage],(([t,e])=>this.image.getOversizedRatio(t,e)))}deriveExpectedSize(){return St(this.sizeOnPage,(t=>this.image.getExpectedSize(t)))}derivePotentialSavings(){return St([this.fileSize,this.sizeOnPage],(([t,e])=>this.image.getPotentialSavings(t,e)))}updateDimensions(){return t(this,void 0,void 0,(function*(){const t=this.image.getSizeOnPage();this.sizeOnPage.set(t),yield this.maybeUpdateWeight()}))}maybeUpdateWeight(){return t(this,void 0,void 0,(function*(){if(this.image.getURL()===this.currentSrc)return;this.loading.set(!0),this.currentSrc=this.image.getURL();const t=yield this.image.getFileSize(this.currentSrc);this.url.set(this.currentSrc),this.fileSize.set(t),this.loading.set(!1)}))}}function Ut(t){const e=1.70158;return--t*t*((e+1)*t+e)+1}function Bt(t){const e=t-1;return e*e*e+1}function Ft(t,{delay:e=0,duration:n=400,easing:i=o}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:t=>"opacity: "+t*r}}function Ht(t,{delay:e=0,duration:n=400,easing:i=Bt,x:o=0,y:r=0,opacity:s=0}={}){const c=getComputedStyle(t),a=+c.opacity,l="none"===c.transform?"":c.transform,u=a*(1-s),[d,f]=m(o),[h,p]=m(r);return{delay:e,duration:n,easing:i,css:(t,e)=>`\n\t\t\ttransform: ${l} translate(${(1-t)*d}${f}, ${(1-t)*h}${p});\n\t\t\topacity: ${a-u*e}`}}function Nt(t){let e,n,o,r,s;return{c(){e=E("div"),n=C("svg"),o=C("path"),r=C("path"),s=C("path"),M(o,"d","M55.4 107.8C84.3397 107.8 107.8 84.3397 107.8 55.4C107.8 26.4603 84.3397 3 55.4 3C26.4603 3 3 26.4603 3 55.4C3 84.3397 26.4603 107.8 55.4 107.8Z"),M(o,"fill",t[1]),M(r,"d","M58 46.6V97.4L84.2 46.6H58Z"),M(r,"fill","white"),M(s,"d","M52.7 64.1V13.4L26.6 64.1H52.7Z"),M(s,"fill","white"),M(n,"viewBox","0 0 110 110"),M(n,"fill","none"),M(n,"xmlns","http://www.w3.org/2000/svg"),T(e,"width",t[0]+"px"),T(e,"height",t[0]+"px"),M(e,"class","svelte-f6jc8")},m(t,i){S(t,e,i),_(e,n),_(n,o),_(n,r),_(n,s)},p(t,[n]){2&n&&M(o,"fill",t[1]),1&n&&T(e,"width",t[0]+"px"),1&n&&T(e,"height",t[0]+"px")},i:i,o:i,d(t){t&&j(e)}}}function Dt(t,e,n){let{size:i=16}=e,{bg:o="#069E08"}=e;return t.$$set=t=>{"size"in t&&n(0,i=t.size),"bg"in t&&n(1,o=t.bg)},[i,o]}class Jt extends _t{constructor(t){super(),xt(this,t,Dt,Nt,l,{size:0,bg:1})}}function Wt(t){let e,n,r,s;return n=new Jt({props:{size:12,bg:"transparent"}}),{c(){e=E("div"),$t(n.$$.fragment),M(e,"class","spinner svelte-2eb8gc")},m(t,i){S(t,e,i),wt(n,e,null),s=!0},p:i,i(t){s||(ft(n.$$.fragment,t),r&&r.end(1),s=!0)},o(t){ht(n.$$.fragment,t),r=function(t,e,n){const r={direction:"out"};let s,l=e(t,n,r),u=!0;const d=lt;function f(){const{delay:e=0,duration:n=300,easing:r=o,tick:a=i,css:f}=l||pt;f&&(s=N(t,1,0,n,e,r,f));const h=$()+e,p=h+n;tt((()=>ct(t,!1,"start"))),x((e=>{if(u){if(e>=p)return a(0,1),ct(t,!1,"end"),--d.r||c(d.c),!1;if(e>=h){const t=r((e-h)/n);a(1-t,t)}}return u}))}return d.r+=1,a(l)?st().then((()=>{l=l(r),f()})):f(),{end(e){e&&l.tick&&l.tick(1,0),u&&(s&&D(t,s),u=!1)}}}(e,Ft,{duration:300}),s=!1},d(t){t&&j(e),yt(n),t&&r&&r.end()}}}class Vt extends _t{constructor(t){super(),xt(this,t,null,Wt,l,{})}}function Xt(t){let e,n;return{c(){e=C("svg"),n=C("path"),M(n,"stroke-linecap","round"),M(n,"stroke-linejoin","round"),M(n,"stroke-width","2"),M(n,"d","M5 13l4 4L19 7"),M(e,"class","w-6 h-6 svelte-jkeb2"),M(e,"fill","none"),M(e,"stroke","white"),M(e,"width","18"),M(e,"height","18"),M(e,"viewBox","0 0 24 24"),M(e,"xmlns","http://www.w3.org/2000/svg")},m(t,i){S(t,e,i),_(e,n)},p:i,i:i,o:i,d(t){t&&j(e)}}}class qt extends _t{constructor(t){super(),xt(this,t,null,Xt,l,{})}}function Gt(t){let e,n,o;return n=new Vt({}),{c(){e=E("div"),$t(n.$$.fragment),M(e,"class","bubble-inner svelte-sip1vm")},m(t,i){S(t,e,i),wt(n,e,null),o=!0},p:i,i(t){o||(ft(n.$$.fragment,t),o=!0)},o(t){ht(n.$$.fragment,t),o=!1},d(t){t&&j(e),yt(n)}}}function Kt(t){let e,n,i,o,r,s;const c=[Qt,Yt,Zt],a=[];function l(t,e){return t[0]>9?0:t[0]>.99?1:2}return i=l(t),o=a[i]=c[i](t),{c(){e=E("div"),n=E("div"),o.c(),M(n,"class","label"),M(e,"class","bubble-inner svelte-sip1vm")},m(t,o){S(t,e,o),_(e,n),a[i].m(n,null),s=!0},p(t,e){let r=i;i=l(t),i===r?a[i].p(t,e):(ut(),ht(a[r],1,1,(()=>{a[r]=null})),dt(),o=a[i],o?o.p(t,e):(o=a[i]=c[i](t),o.c()),ft(o,1),o.m(n,null))},i(t){s||(ft(o),r||tt((()=>{r=gt(n,Ft,{delay:200,duration:300}),r.start()})),s=!0)},o(t){ht(o),s=!1},d(t){t&&j(e),a[i].d()}}}function Zt(t){let e,n;return{c(){e=E("span"),e.textContent="<",n=O(" 1x"),T(e,"font-size","0.75em")},m(t,i){S(t,e,i),S(t,n,i)},p:i,i:i,o:i,d(t){t&&j(e),t&&j(n)}}}function Yt(t){let e,n,i,o;const r=[ee,te],s=[];function c(t,e){return"normal"===t[1]?0:1}return e=c(t),n=s[e]=r[e](t),{c(){n.c(),i=L()},m(t,n){s[e].m(t,n),S(t,i,n),o=!0},p(t,o){let a=e;e=c(t),e===a?s[e].p(t,o):(ut(),ht(s[a],1,1,(()=>{s[a]=null})),dt(),n=s[e],n?n.p(t,o):(n=s[e]=r[e](t),n.c()),ft(n,1),n.m(i.parentNode,i))},i(t){o||(ft(n),o=!0)},o(t){ht(n),o=!1},d(t){s[e].d(t),t&&j(i)}}}function Qt(t){let e,n,o=Math.floor(t[0])+"";return{c(){e=O(o),n=O("x")},m(t,i){S(t,e,i),S(t,n,i)},p(t,n){1&n&&o!==(o=Math.floor(t[0])+"")&&I(e,o)},i:i,o:i,d(t){t&&j(e),t&&j(n)}}}function te(t){let e,n,o=t[0].toFixed(1)+"";return{c(){e=O(o),n=O("x")},m(t,i){S(t,e,i),S(t,n,i)},p(t,n){1&n&&o!==(o=t[0].toFixed(1)+"")&&I(e,o)},i:i,o:i,d(t){t&&j(e),t&&j(n)}}}function ee(t){let e,n;return e=new qt({}),{c(){$t(e.$$.fragment)},m(t,i){wt(e,t,i),n=!0},p:i,i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){ht(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function ne(t){let e,n,i,o,r,s,c,a,l;const u=[Kt,Gt],d=[];function f(t,e){return!1===t[3]?0:1}return i=f(t),o=d[i]=u[i](t),{c(){e=E("div"),n=E("div"),o.c(),M(n,"class","bubble svelte-sip1vm"),M(e,"class",r="interaction-area "+t[1]+" svelte-sip1vm")},m(o,r){S(o,e,r),_(e,n),d[i].m(n,null),t[10](e),c=!0,a||(l=R(e,"mouseenter",t[7]),a=!0)},p(s,[a]){let l=i;i=f(t=s),i===l?d[i].p(t,a):(ut(),ht(d[l],1,1,(()=>{d[l]=null})),dt(),o=d[i],o?o.p(t,a):(o=d[i]=u[i](t),o.c()),ft(o,1),o.m(n,null)),(!c||2&a&&r!==(r="interaction-area "+t[1]+" svelte-sip1vm"))&&M(e,"class",r)},i(n){c||(ft(o),tt((()=>{c&&(s||(s=mt(e,Ht,t[6],!0)),s.run(1))})),c=!0)},o(n){ht(o),s||(s=mt(e,Ht,t[6],!1)),s.run(0),c=!1},d(n){n&&j(e),d[i].d(),t[10](null),n&&s&&s.end(),a=!1,l()}}}function ie(t,e,n){let i,o,r,{index:s}=e,{store:c}=e;const a=c.oversizedRatio;p(t,a,(t=>n(0,i=t)));const l=c.loading;p(t,l,(t=>n(3,o=t)));const u={delay:150+50*s,duration:250,y:2,easing:Ut};let d;const f=function(){const t=W();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=U(e,n,{cancelable:i});return o.slice().forEach((e=>{e.call(t,r)})),!r.defaultPrevented}return!0}}();return t.$$set=t=>{"index"in t&&n(8,s=t.index),"store"in t&&n(9,c=t.store)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r=i>4?"high":i>2.5?"medium":"normal")},[i,r,d,o,a,l,u,function(){const t=d.getBoundingClientRect();f("hover",{index:s,position:{top:t.top+t.height+10,left:t.left}})},s,c,function(t){G[t?"unshift":"push"]((()=>{d=t,n(2,d)}))}]}class oe extends _t{constructor(t){super(),xt(this,t,ie,ne,l,{index:8,store:9})}}function re(t){let e,n;const i=t[2].default,o=function(t,e,n,i){if(t){const o=g(t,e,n,i);return t[0](o)}}(i,t,t[1],null);return{c(){e=E("div"),o&&o.c(),M(e,"class","jetpack-boost-guide-portal")},m(i,r){S(i,e,r),o&&o.m(e,null),t[3](e),n=!0},p(t,[e]){o&&o.p&&(!n||2&e)&&function(t,e,n,i,o,r){if(o){const s=g(e,n,i,r);t.p(s,o)}}(o,i,t,t[1],n?function(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|o[i];return t}return e.dirty|o}return e.dirty}(i,t[1],e,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[1]),null)},i(t){n||(ft(o,t),n=!0)},o(t){ht(o,t),n=!1},d(n){n&&j(e),o&&o.d(n),t[3](null)}}}function se(t,e,n){let i,{$$slots:o={},$$scope:r}=e;var s;return V((()=>{document.body.appendChild(i)})),s=()=>{document.body.removeChild(i)},W().$$.on_destroy.push(s),t.$$set=t=>{"$$scope"in t&&n(1,r=t.$$scope)},[i,r,o,function(t){G[t?"unshift":"push"]((()=>{i=t,n(0,i)}))}]}class ce extends _t{constructor(t){super(),xt(this,t,se,re,l,{})}}function ae(t){let e,n;return{c(){e=C("svg"),n=C("path"),M(n,"d","M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"),M(e,"xmlns","http://www.w3.org/2000/svg"),M(e,"viewBox","0 0 24 24"),M(e,"class","svelte-1g2gjwn")},m(t,i){S(t,e,i),_(e,n)},p:i,i:i,o:i,d(t){t&&j(e)}}}class le extends _t{constructor(t){super(),xt(this,t,null,ae,l,{})}}const{window:ue}=vt;function de(t){let e,n,i,o,r=t[30]+"";return{c(){e=E("div"),n=O("The image file is "),i=O(r),o=O("x smaller than expected on this screen. This might be\n\t\t\t\t\t\tfine, but you may want to check if the image appears blurry."),M(e,"class","explanation svelte-1c7o3v8")},m(t,r){S(t,e,r),_(e,n),_(e,i),_(e,o)},p(t,e){8&e[0]&&r!==(r=t[30]+"")&&I(i,r)},d(t){t&&j(e)}}}function fe(t){let e,n,i=t[6]>1&&ge(t);return{c(){e=E("div"),n=O("The image size is very close to the size it appears in the browser.\n\t\t\t\t\t\t"),i&&i.c(),M(e,"class","explanation svelte-1c7o3v8")},m(t,o){S(t,e,o),_(e,n),i&&i.m(e,null)},p(t,n){t[6]>1?i?i.p(t,n):(i=ge(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(t){t&&j(e),i&&i.d()}}}function he(t){let e;return{c(){e=E("div"),e.textContent="The image is exactly the correct size for this screen.",M(e,"class","explanation svelte-1c7o3v8")},m(t,n){S(t,e,n)},p:i,d(t){t&&j(e)}}}function pe(t){let e,n,i,o,r,s,c=t[4].weight>450&&me();return{c(){e=E("div"),n=O("The image loaded is "),i=E("strong"),o=O(t[6]),r=O("x"),s=O(" larger than it appears in the browser.\n\t\t\t\t\t\t"),c&&c.c(),M(e,"class","explanation svelte-1c7o3v8")},m(t,a){S(t,e,a),_(e,n),_(e,i),_(i,o),_(i,r),_(e,s),c&&c.m(e,null)},p(t,n){64&n[0]&&I(o,t[6]),t[4].weight>450?c||(c=me(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(t){t&&j(e),c&&c.d()}}}function ge(t){let e,n,i,o,r;return{c(){e=O("Because there are various screen sizes, it's okay for the image to be\n\t\t\t\t\t\t\t"),n=E("strong"),i=O(t[6]),o=O("x"),r=O(" than it appears on the page.")},m(t,s){S(t,e,s),S(t,n,s),_(n,i),_(n,o),S(t,r,s)},p(t,e){64&e[0]&&I(i,t[6])},d(t){t&&j(e),t&&j(n),t&&j(r)}}}function me(t){let e;return{c(){e=O("Try using a smaller image or reduce the file size by compressing it.")},m(t,n){S(t,e,n)},d(t){t&&j(e)}}}function ve(t){let e,n;return{c(){e=E("img"),d(e.src,n=t[5])||M(e,"src",n),M(e,"alt",t[10]),T(e,"width",t[2]+"px"),T(e,"height",t[7]+"px"),M(e,"width",t[2]),M(e,"height",t[7]),M(e,"class","svelte-1c7o3v8")},m(t,n){S(t,e,n)},p(t,i){32&i[0]&&!d(e.src,n=t[5])&&M(e,"src",n),1024&i[0]&&M(e,"alt",t[10]),4&i[0]&&T(e,"width",t[2]+"px"),128&i[0]&&T(e,"height",t[7]+"px"),4&i[0]&&M(e,"width",t[2]),128&i[0]&&M(e,"height",t[7])},d(t){t&&j(e)}}}function $e(t){let e;function n(t,e){return t[18]?be:ye}let i=n(t),o=i(t);return{c(){e=E("div"),o.c(),M(e,"class","value")},m(t,n){S(t,e,n),o.m(e,null)},p(t,r){i!==(i=n(t))&&(o.d(1),o=i(t),o&&(o.c(),o.m(e,null)))},d(t){t&&j(e),o.d()}}}function we(t){let e,n,i,o,r=t[4].width+"",s=t[4].height+"";return{c(){e=E("div"),n=O(r),i=O(" x "),o=O(s),M(e,"class","value")},m(t,r){S(t,e,r),_(e,n),_(e,i),_(e,o)},p(t,e){16&e[0]&&r!==(r=t[4].width+"")&&I(n,r),16&e[0]&&s!==(s=t[4].height+"")&&I(o,s)},d(t){t&&j(e)}}}function ye(t){let e;return{c(){e=E("em"),e.textContent="Unknown"},m(t,n){S(t,e,n)},d(t){t&&j(e)}}}function be(t){let e;return{c(){e=O("Loading...")},m(t,n){S(t,e,n)},d(t){t&&j(e)}}}function xe(t){let e;return{c(){e=E("em"),e.textContent="Unknown"},m(t,n){S(t,e,n)},p:i,d(t){t&&j(e)}}}function _e(t){let e;return{c(){e=O("Loading...")},m(t,n){S(t,e,n)},p:i,d(t){t&&j(e)}}}function ke(t){let e,n,i=Math.round(t[4].weight)+"";return{c(){e=O(i),n=O(" KB")},m(t,i){S(t,e,i),S(t,n,i)},p(t,n){16&n[0]&&i!==(i=Math.round(t[4].weight)+"")&&I(e,i)},d(t){t&&j(e),t&&j(n)}}}function ze(t){let e;return{c(){e=E("em"),e.textContent="N/A"},m(t,n){S(t,e,n)},p:i,d(t){t&&j(e)}}}function Se(t){let e;return{c(){e=O("Loading...")},m(t,n){S(t,e,n)},p:i,d(t){t&&j(e)}}}function je(t){let e,n,i;return{c(){e=E("strong"),n=O(t[21]),i=O(" KB")},m(t,o){S(t,e,o),_(e,n),_(e,i)},p(t,e){2097152&e[0]&&I(n,t[21])},d(t){t&&j(e)}}}function Ee(t){let e;return{c(){e=E("div"),e.textContent="Unable to estimate file size savings because the image is hosted on a different domain.",M(e,"class","info svelte-1c7o3v8")},m(t,n){S(t,e,n)},d(t){t&&j(e)}}}function Ce(t){let e,n,i,o,r,s,c,a,l,u,d,f,h,p,g,m,v,$,w,y,b,x,k,z,C,L,A,U,B,F,H,N,D,J,W,V,X,q,G,K,Z,Y,Q,et,nt,it,ot,rt,st,ct,at,lt,ut=t[19].width+"",dt=t[19].height+"",pt=t[20].width+"",mt=t[20].height+"",vt=`${t[0].top}px`,bt=`${t[0].left}px`;function xt(t,e){return t[6]>=1.3?pe:1===t[6]?he:t[6]>=.99&&t[6]<1.3?fe:de}function _t(t,e){return e===de?function(t){const e=t.slice(),n=Pe(1/e[3]);return e[30]=n,e}(t):t}i=new Jt({props:{size:250}});let kt=xt(t),zt=kt(_t(t,kt)),St=t[5]&&ve(t);function jt(t,e){return t[4].width>0&&t[4].height>0?we:$e}let Et=jt(t),Ct=Et(t);function Ot(t,e){return t[4].weight>0?ke:t[18]?_e:xe}let Pt=Ot(t),Lt=Pt(t);function Rt(t,e){return t[21]>0?je:t[18]?Se:ze}let Mt=Rt(t),It=Mt(t),Tt=t[8]!==t[9]&&Ee();return rt=new le({}),{c(){e=E("div"),n=E("div"),$t(i.$$.fragment),o=P(),r=E("div"),s=E("div"),c=E("div"),a=E("a"),l=O(t[10]),u=P(),zt.c(),d=P(),St&&St.c(),f=P(),h=E("div"),p=E("div"),g=E("div"),g.textContent="Image File Dimensions",m=P(),Ct.c(),v=P(),$=E("div"),w=E("div"),w.textContent="Expected Dimensions",y=P(),b=E("div"),x=O(ut),k=O(" x "),z=O(dt),C=P(),L=E("div"),A=E("div"),A.textContent="Size on screen",U=P(),B=E("div"),F=O(pt),H=O(" x "),N=O(mt),D=P(),J=E("div"),W=E("div"),W.textContent="Image Size",V=P(),X=E("div"),Lt.c(),q=P(),G=E("div"),K=E("div"),K.textContent="Potential savings",Z=P(),Y=E("div"),It.c(),Q=P(),Tt&&Tt.c(),et=P(),nt=E("div"),it=E("a"),ot=O("Learn how to improve site speed by optimizing images "),$t(rt.$$.fragment),M(n,"class","logo svelte-1c7o3v8"),M(a,"href",t[5]),M(a,"target","_blank noreferrer"),M(a,"class","svelte-1c7o3v8"),M(c,"class","title svelte-1c7o3v8"),M(s,"class","description svelte-1c7o3v8"),M(r,"class","preview svelte-1c7o3v8"),M(g,"class","label"),M(p,"class","row svelte-1c7o3v8"),M(w,"class","label"),M(b,"class","value"),M($,"class","row svelte-1c7o3v8"),M(A,"class","label"),M(B,"class","value"),M(L,"class","row svelte-1c7o3v8"),M(W,"class","label"),M(X,"class","value"),M(J,"class","row svelte-1c7o3v8"),M(K,"class","label"),M(Y,"class","value"),M(G,"class","row svelte-1c7o3v8"),M(it,"class","documentation svelte-1c7o3v8"),M(it,"href",t[22]),M(it,"target","_blank noreferrer"),M(nt,"class","info svelte-1c7o3v8"),M(h,"class","meta"),M(e,"class","jetpack-boost-guide-popup keep-guide-open svelte-1c7o3v8"),T(e,"top",vt),T(e,"left",bt)},m(j,E){S(j,e,E),_(e,n),wt(i,n,null),_(e,o),_(e,r),_(r,s),_(s,c),_(c,a),_(a,l),_(s,u),zt.m(s,null),_(r,d),St&&St.m(r,null),_(e,f),_(e,h),_(h,p),_(p,g),_(p,m),Ct.m(p,null),_(h,v),_(h,$),_($,w),_($,y),_($,b),_(b,x),_(b,k),_(b,z),_(h,C),_(h,L),_(L,A),_(L,U),_(L,B),_(B,F),_(B,H),_(B,N),_(h,D),_(h,J),_(J,W),_(J,V),_(J,X),Lt.m(X,null),_(h,q),_(h,G),_(G,K),_(G,Z),_(G,Y),It.m(Y,null),_(h,Q),Tt&&Tt.m(h,null),_(h,et),_(h,nt),_(nt,it),_(it,ot),wt(rt,it,null),ct=!0,at||(lt=R(e,"mouseleave",t[25]),at=!0)},p(n,i){t=n,(!ct||1024&i[0])&&I(l,t[10]),(!ct||32&i[0])&&M(a,"href",t[5]),kt===(kt=xt(t))&&zt?zt.p(_t(t,kt),i):(zt.d(1),zt=kt(_t(t,kt)),zt&&(zt.c(),zt.m(s,null))),t[5]?St?St.p(t,i):(St=ve(t),St.c(),St.m(r,null)):St&&(St.d(1),St=null),Et===(Et=jt(t))&&Ct?Ct.p(t,i):(Ct.d(1),Ct=Et(t),Ct&&(Ct.c(),Ct.m(p,null))),(!ct||524288&i[0])&&ut!==(ut=t[19].width+"")&&I(x,ut),(!ct||524288&i[0])&&dt!==(dt=t[19].height+"")&&I(z,dt),(!ct||1048576&i[0])&&pt!==(pt=t[20].width+"")&&I(F,pt),(!ct||1048576&i[0])&&mt!==(mt=t[20].height+"")&&I(N,mt),Pt===(Pt=Ot(t))&&Lt?Lt.p(t,i):(Lt.d(1),Lt=Pt(t),Lt&&(Lt.c(),Lt.m(X,null))),Mt===(Mt=Rt(t))&&It?It.p(t,i):(It.d(1),It=Mt(t),It&&(It.c(),It.m(Y,null))),t[8]!==t[9]?Tt||(Tt=Ee(),Tt.c(),Tt.m(h,et)):Tt&&(Tt.d(1),Tt=null),1&i[0]&&vt!==(vt=`${t[0].top}px`)&&T(e,"top",vt),1&i[0]&&bt!==(bt=`${t[0].left}px`)&&T(e,"left",bt)},i(t){ct||(ft(i.$$.fragment,t),ft(rt.$$.fragment,t),st||tt((()=>{st=gt(e,Ht,{duration:150,y:4,easing:Ut}),st.start()})),ct=!0)},o(t){ht(i.$$.fragment,t),ht(rt.$$.fragment,t),ct=!1},d(t){t&&j(e),yt(i),zt.d(),St&&St.d(),Ct.d(),Lt.d(),It.d(),Tt&&Tt.d(),yt(rt),at=!1,lt()}}}function Oe(t){let e,n,i,o,r,s=!1,c=()=>{s=!1};return tt(t[26]),n=new ce({props:{$$slots:{default:[Ce]},$$scope:{ctx:t}}}),{c(){$t(n.$$.fragment)},m(a,l){wt(n,a,l),i=!0,o||(r=R(ue,"scroll",(()=>{s=!0,clearTimeout(e),e=setTimeout(c,100),t[26]()})),o=!0)},p(t,i){2&i[0]&&!s&&(s=!0,clearTimeout(e),scrollTo(ue.pageXOffset,t[1]),e=setTimeout(c,100));const o={};3934205&i[0]|1&i[1]&&(o.$$scope={dirty:i,ctx:t}),n.$set(o)},i(t){i||(ft(n.$$.fragment,t),i=!0)},o(t){ht(n.$$.fragment,t),i=!1},d(t){yt(n,t),o=!1,r()}}}function Pe(t){return t%1==0?t:parseFloat(t.toFixed(2))}function Le(t,e,n){let o,r,s,c,a,l,u,d,h,p,g,m,v,$,w,y,b,x,_,k,z=i,S=i,j=i,E=i,C=i,O=i,P=i;t.$$.on_destroy.push((()=>z())),t.$$.on_destroy.push((()=>S())),t.$$.on_destroy.push((()=>j())),t.$$.on_destroy.push((()=>E())),t.$$.on_destroy.push((()=>C())),t.$$.on_destroy.push((()=>O())),t.$$.on_destroy.push((()=>P()));let{store:L}=e,{size:R}=e,{position:M}=e,I=0,T=0,A=0;V((()=>{T=I,A=M.top}));const U=function(t,e={}){var n;const i={};let o;if("undefined"!=typeof window&&(o=null===(n=window.Initial_State)||void 0===n?void 0:n.calypsoEnv),0===t.search("https://")){const e=new URL(t);t=`https://${e.host}${e.pathname}`,i.url=encodeURIComponent(t)}else i.source=encodeURIComponent(t);return Object.keys(e).map((t=>{i[t]=encodeURIComponent(e[t])})),!Object.keys(i).includes("site")&&"undefined"!=typeof jetpack_redirects&&jetpack_redirects.hasOwnProperty("currentSiteRawUrl")&&(i.site=jetpack_redirects.currentSiteRawUrl),o&&(i.calypso_env=o),"https://jetpack.com/redirect/?"+Object.keys(i).map((t=>t+"="+i[t])).join("&")}("jetpack-support-boost-image-performance-guide");return t.$$set=t=>{"store"in t&&n(23,L=t.store),"size"in t&&n(24,R=t.size),"position"in t&&n(0,M=t.position)},t.$$.update=()=>{var e;8388608&t.$$.dirty[0]&&(n(17,o=L.loading),E(),E=f(o,(t=>n(18,b=t)))),8388608&t.$$.dirty[0]&&(n(16,r=L.oversizedRatio),z(),z=f(r,(t=>n(3,$=t)))),8388608&t.$$.dirty[0]&&(n(15,s=L.fileSize),S(),S=f(s,(t=>n(4,w=t)))),8388608&t.$$.dirty[0]&&(n(14,c=L.sizeOnPage),O(),O=f(c,(t=>n(20,_=t)))),8388608&t.$$.dirty[0]&&(n(13,a=L.potentialSavings),P(),P=f(a,(t=>n(21,k=t)))),8388608&t.$$.dirty[0]&&(n(12,l=L.expectedSize),C(),C=f(l,(t=>n(19,x=t)))),8388608&t.$$.dirty[0]&&(n(11,u=L.url),j(),j=f(u,(t=>n(5,y=t)))),32&t.$$.dirty[0]&&n(10,d=y.split("/").pop()),32&t.$$.dirty[0]&&n(8,p=new URL(y).origin),16777216&t.$$.dirty[0]&&n(2,g="normal"===R?100:50),20&t.$$.dirty[0]&&n(7,m=Math.floor(g/(w.width/w.height))),8&t.$$.dirty[0]&&n(6,v=Pe($)),2&t.$$.dirty[0]&&0!==(e=I)&&T!==e&&n(0,M.top=A+(T-e),M)},n(9,h=new URL(window.location.href).origin),[M,I,g,$,w,y,v,m,p,h,d,u,l,a,c,s,r,o,b,x,_,k,U,L,R,function(e){X.call(this,t,e)},function(){n(1,I=ue.pageYOffset)}]}class Re extends _t{constructor(t){super(),xt(this,t,Le,Oe,l,{store:23,size:24,position:0},null,[-1,-1])}}function Me(t,e,n){const i=t.slice();return i[10]=e[n],i[12]=n,i}function Ie(t){let e,n,i,o,r,s,c,a=t[0],l=[];for(let e=0;e<a.length;e+=1)l[e]=Te(Me(t,a,e));const u=t=>ht(l[t],1,1,(()=>{l[t]=null}));let d=!1!==t[1]&&Ae(t);return{c(){e=E("div"),n=E("div");for(let t=0;t<l.length;t+=1)l[t].c();i=P(),d&&d.c(),M(n,"class","previews svelte-11j2opz"),M(e,"class",o="guide "+t[3]+" svelte-11j2opz"),A(e,"show",!1!==t[1]),A(e,"keep-guide-open",!1!==t[1])},m(o,a){S(o,e,a),_(e,n);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(n,null);_(e,i),d&&d.m(e,null),r=!0,s||(c=R(e,"mouseleave",t[5]),s=!0)},p(t,i){if(129&i){let e;for(a=t[0],e=0;e<a.length;e+=1){const o=Me(t,a,e);l[e]?(l[e].p(o,i),ft(l[e],1)):(l[e]=Te(o),l[e].c(),ft(l[e],1),l[e].m(n,null))}for(ut(),e=a.length;e<l.length;e+=1)u(e);dt()}!1!==t[1]?d?(d.p(t,i),2&i&&ft(d,1)):(d=Ae(t),d.c(),ft(d,1),d.m(e,null)):d&&(ut(),ht(d,1,1,(()=>{d=null})),dt()),(!r||8&i&&o!==(o="guide "+t[3]+" svelte-11j2opz"))&&M(e,"class",o),(!r||10&i)&&A(e,"show",!1!==t[1]),(!r||10&i)&&A(e,"keep-guide-open",!1!==t[1])},i(t){if(!r){for(let t=0;t<a.length;t+=1)ft(l[t]);ft(d),r=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)ht(l[t]);ht(d),r=!1},d(t){t&&j(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(l,t),d&&d.d(),s=!1,c()}}}function Te(t){let e,n;return e=new oe({props:{index:t[12],store:t[10]}}),e.$on("hover",t[7]),{c(){$t(e.$$.fragment)},m(t,i){wt(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.store=t[10]),e.$set(i)},i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){ht(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Ae(t){let e,n;return e=new Re({props:{store:t[0][t[1]],size:t[3],position:t[2]}}),e.$on("mouseleave",t[5]),{c(){$t(e.$$.fragment)},m(t,i){wt(e,t,i),n=!0},p(t,n){const i={};3&n&&(i.store=t[0][t[1]]),8&n&&(i.size=t[3]),4&n&&(i.position=t[2]),e.$set(i)},i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){ht(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Ue(t){let e,n,i="active"===t[4]&&Ie(t);return{c(){i&&i.c(),e=L()},m(t,o){i&&i.m(t,o),S(t,e,o),n=!0},p(t,[n]){"active"===t[4]?i?(i.p(t,n),16&n&&ft(i,1)):(i=Ie(t),i.c(),ft(i,1),i.m(e.parentNode,e)):i&&(ut(),ht(i,1,1,(()=>{i=null})),dt())},i(t){n||(ft(i),n=!0)},o(t){ht(i),n=!1},d(t){i&&i.d(t),t&&j(e)}}}function Be(t,e,n){let i,o,r;p(t,Mt,(t=>n(4,r=t)));let{stores:s}=e,c=!1;V((()=>{s.forEach((t=>t.updateDimensions()))}));const a=s[0].sizeOnPage;p(t,a,(t=>n(8,o=t)));let l={top:0,left:0};return t.$$set=t=>{"stores"in t&&n(0,s=t.stores)},t.$$.update=()=>{256&t.$$.dirty&&n(3,i=function(t=-1,e=-1){return t<200||e<200?"micro":t<400||e<400?"small":"normal"}(o.width,o.height)),2&t.$$.dirty&&function(t=!1){t?s.forEach((t=>t.node.classList.add("jetpack-boost-guide__backdrop"))):s.forEach((t=>t.node.classList.remove("jetpack-boost-guide__backdrop")))}(!1!==c)},[s,c,l,i,r,function(t){t.relatedTarget&&t.relatedTarget.classList.contains("keep-guide-open")||n(1,c=!1)},a,function(t){const e=t.detail,i=e.index;n(2,l=e.position),n(1,c=i)},o]}class Fe extends _t{constructor(t){super(),xt(this,t,Be,Ue,l,{stores:0})}}let He=0;function Ne(t){const e=t.node;if(!(t.node instanceof HTMLImageElement)&&["static","relative"].includes(getComputedStyle(e).position))return e;if(!e.parentNode||!e.parentElement)return;const n=function(t){let e,n=t.parentElement;for(;n&&n instanceof HTMLElement&&n!==document.body;){const t=getComputedStyle(n),i="inline"!==t.display,o="static"===t.position,r="relative"===t.position,s="auto"!==t.zIndex;i&&(!e&&(o||r)||r&&s)&&(e=n),n=n.parentElement}return e}(e);if(null==n?void 0:n.classList.contains("jetpack-boost-guide"))return n;if(n){const t=getComputedStyle(n);if("relative"===t.position){const t=Array.from(n.children).find((t=>t.classList.contains("jetpack-boost-guide")));if(t&&t instanceof HTMLElement)return t}const e=document.createElement("div");return e.classList.add("jetpack-boost-guide"),e.dataset.jetpackBoostGuideId=(++He).toString(),"static"===t.position&&(n.style.position="relative"),n.prepend(e),e}return e.parentElement}function De(t){let e,n,i,o,r,s,c,a,l,u;return n=new Jt({}),{c(){e=E("a"),$t(n.$$.fragment),i=P(),o=E("span"),r=O("Image Guide: "),s=O(t[2]),M(e,"id","jetpack-boost-guide-bar"),M(e,"href",t[0]),M(e,"class",c="ab-item "+t[1]+" svelte-itog5b")},m(c,d){var f;S(c,e,d),wt(n,e,null),_(e,i),_(e,o),_(o,r),_(o,s),a=!0,l||(u=R(e,"click",(f=t[3],function(t){return t.preventDefault(),f.call(this,t)})),l=!0)},p(t,[n]){(!a||4&n)&&I(s,t[2]),(!a||1&n)&&M(e,"href",t[0]),(!a||2&n&&c!==(c="ab-item "+t[1]+" svelte-itog5b"))&&M(e,"class",c)},i(t){a||(ft(n.$$.fragment,t),a=!0)},o(t){ht(n.$$.fragment,t),a=!1},d(t){t&&j(e),yt(n),l=!1,u()}}}function Je(t,e,n){let i,o;p(t,Mt,(t=>n(1,i=t))),p(t,It,(t=>n(2,o=t)));let{href:r}=e;return t.$$set=t=>{"href"in t&&n(0,r=t.href)},[r,i,o,function(){Mt.cycle(),Tt.trackUIStateChange()}]}class We extends _t{constructor(t){super(),xt(this,t,Je,De,l,{href:0})}}document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("wp-admin-bar-jetpack-boost-guide"),e=null==t?void 0:t.querySelector("a");if(t&&e){const n=e.getAttribute("href");e.remove(),new We({target:t,props:{href:n}})}}));const Ve=[];function Xe(){Tt.trackInitialState(),Mt.subscribe((e=>t(this,void 0,void 0,(function*(){if("paused"===e)return;const t=n.exports.getMeasurableImages(Array.from(document.querySelectorAll("body *:not(.jetpack-boost-guide > *):not(.jetpack-boost-guide)"))),i=t.filter((t=>{const{width:e,height:n}=t.getSizeOnPage();return!(!e||!n)&&e>=65&&n>=65}));Ve.push(...function(t){const e=t.reduce(((t,e)=>{var n;if(!e.node.parentNode)return console.error("Image has no parent",e.node),t;const i=Ne(e);if(!i)return console.error("Could not find a parent for image",e),t;const o=parseInt(i.dataset.jetpackBoostGuideId||""),r=(null===(n=t[o])||void 0===n?void 0:n.props.stores)||[],s=new At(e);return r.push(s),1===r.length&&(t[o]={target:i,intro:!0,props:{stores:r}}),t}),{});return Object.values(e).map((t=>(new Fe(t),t.props.stores))).flat()}(i)),Tt.trackPage(Ve)}))))}window.frameElement||window.addEventListener("load",(()=>{Xe(),window.addEventListener("resize",function(){let t;return()=>{t&&clearTimeout(t),t=setTimeout((()=>{Ve.forEach((t=>{t.updateDimensions()}))}),500)}}())}))}();
