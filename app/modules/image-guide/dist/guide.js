!function(){"use strict";function t(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{a(o.next(t))}catch(t){r(t)}}function c(t){try{a(o.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((o=o.apply(t,e||[])).next())}))}var e={exports:{}},n=1e3,o=60*n,i=60*o,r=24*i,s=7*r,c=365.25*r,a=function(t,e){e=e||{};var a=typeof t;if("string"===a&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*c;case"weeks":case"week":case"w":return a*s;case"days":case"day":case"d":return a*r;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*o;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===a&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=r)return u(t,e,r,"day");if(e>=i)return u(t,e,i,"hour");if(e>=o)return u(t,e,o,"minute");if(e>=n)return u(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=r)return Math.round(t/r)+"d";if(e>=i)return Math.round(t/i)+"h";if(e>=o)return Math.round(t/o)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function u(t,e,n,o){var i=e>=1.5*n;return Math.round(t/n)+" "+o+(i?"s":"")}var l=function(t){function e(t){let o,i,r,s=null;function c(...t){if(!c.enabled)return;const n=c,i=Number(new Date),r=i-(o||i);n.diff=r,n.prev=o,n.curr=i,o=i,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((o,i)=>{if("%%"===o)return"%";s++;const r=e.formatters[i];if("function"==typeof r){const e=t[s];o=r.call(n,e),t.splice(s,1),s--}return o})),e.formatArgs.call(n,t);(n.log||e.log).apply(n,t)}return c.namespace=t,c.useColors=e.useColors(),c.color=e.selectColor(t),c.extend=n,c.destroy=e.destroy,Object.defineProperty(c,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==e.namespaces&&(i=e.namespaces,r=e.enabled(t)),r),set:t=>{s=t}}),"function"==typeof e.init&&e.init(c),c}function n(t,n){const o=e(this.namespace+(void 0===n?":":n)+t);return o.log=this.log,o}function o(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},e.disable=function(){const t=[...e.names.map(o),...e.skips.map(o).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let n;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const o=("string"==typeof t?t:"").split(/[\s,]+/),i=o.length;for(n=0;n<i;n++)o[n]&&("-"===(t=o[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.slice(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let n,o;for(n=0,o=e.skips.length;n<o;n++)if(e.skips[n].test(t))return!1;for(n=0,o=e.names.length;n<o;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=a,e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((n=>{e[n]=t[n]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e};!function(t,e){e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(o++,"%c"===t&&(i=o))})),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=l(e);const{formatters:n}=t.exports;n.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}(e,e.exports);const d=(0,e.exports)("dops:analytics");let f,p;window._tkq=window._tkq||[],window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=+new Date;const h={initialize:function(t,e,n){h.setUser(t,e),h.setSuperProps(n),h.identifyUser()},setGoogleAnalyticsEnabled:function(t,e=null){this.googleAnalyticsEnabled=t,this.googleAnalyticsKey=e},setMcAnalyticsEnabled:function(t){this.mcAnalyticsEnabled=t},setUser:function(t,e){p={ID:t,username:e}},setSuperProps:function(t){f=t},assignSuperProps:function(t){f=Object.assign(f||{},t)},mc:{bumpStat:function(t,e){const n=function(t,e){let n="";if("object"==typeof t){for(const e in t)n+="&x_"+encodeURIComponent(e)+"="+encodeURIComponent(t[e]);d("Bumping stats %o",t)}else n="&x_"+encodeURIComponent(t)+"="+encodeURIComponent(e),d('Bumping stat "%s" in group "%s"',e,t);return n}(t,e);h.mcAnalyticsEnabled&&((new Image).src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom-no-pv"+n+"&t="+Math.random())},bumpStatWithPageView:function(t,e){const n=function(t,e){let n="";if("object"==typeof t){for(const e in t)n+="&"+encodeURIComponent(e)+"="+encodeURIComponent(t[e]);d("Built stats %o",t)}else n="&"+encodeURIComponent(t)+"="+encodeURIComponent(e),d('Built stat "%s" in group "%s"',e,t);return n}(t,e);h.mcAnalyticsEnabled&&((new Image).src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom"+n+"&t="+Math.random())}},pageView:{record:function(t,e){h.tracks.recordPageView(t),h.ga.recordPageView(t,e)}},purchase:{record:function(t,e,n,o,i,r,s){h.ga.recordPurchase(t,e,n,o,i,r,s)}},tracks:{recordEvent:function(t,e){e=e||{},0===t.indexOf("akismet_")||0===t.indexOf("jetpack_")?(f&&(d("- Super Props: %o",f),e=Object.assign(e,f)),d('Record event "%s" called with props %s',t,JSON.stringify(e)),window._tkq.push(["recordEvent",t,e])):d('- Event name must be prefixed by "akismet_" or "jetpack_"')},recordJetpackClick:function(t){const e="object"==typeof t?t:{target:t};h.tracks.recordEvent("jetpack_wpa_click",e)},recordPageView:function(t){h.tracks.recordEvent("akismet_page_view",{path:t})},setOptOut:function(t){d("Pushing setOptOut: %o",t),window._tkq.push(["setOptOut",t])}},ga:{initialized:!1,initialize:function(){let t={};h.ga.initialized||(p&&(t={userId:"u-"+p.ID}),window.ga("create",this.googleAnalyticsKey,"auto",t),h.ga.initialized=!0)},recordPageView:function(t,e){h.ga.initialize(),d("Recording Page View ~ [URL: "+t+"] [Title: "+e+"]"),this.googleAnalyticsEnabled&&(window.ga("set","page",t),window.ga("send",{hitType:"pageview",page:t,title:e}))},recordEvent:function(t,e,n,o){h.ga.initialize();let i="Recording Event ~ [Category: "+t+"] [Action: "+e+"]";void 0!==n&&(i+=" [Option Label: "+n+"]"),void 0!==o&&(i+=" [Option Value: "+o+"]"),d(i),this.googleAnalyticsEnabled&&window.ga("send","event",t,e,n,o)},recordPurchase:function(t,e,n,o,i,r,s){window.ga("require","ecommerce"),window.ga("ecommerce:addTransaction",{id:t,revenue:o,currency:s}),window.ga("ecommerce:addItem",{id:t,name:e,sku:n,price:i,quantity:r}),window.ga("ecommerce:send")}},identifyUser:function(){p&&window._tkq.push(["identifyUser",p.ID,p.username])},setProperties:function(t){window._tkq.push(["setProperties",t])},clearedIdentity:function(){window._tkq.push(["clearIdentity"])}};function g(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{a(o.next(t))}catch(t){r(t)}}function c(t){try{a(o.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((o=o.apply(t,e||[])).next())}))}class m{constructor(t,e,n=fetch){this.fetch=window.fetch,this.node=t,this.getURLCallback=e,this.fetch=n}getURL(){return this.getURLCallback(this.node)}getSizeOnPage(){const{width:t,height:e}=this.node.getBoundingClientRect();return{width:Math.round(t),height:Math.round(e)}}getFileSize(t){return g(this,void 0,void 0,(function*(){const[e,{width:n,height:o}]=yield Promise.all([this.fetchFileWeight(t),this.fetchFileDimensions(t)]);return{width:n,height:o,weight:e}}))}getPotentialSavings(t,e){const n=this.getOversizedRatio(t,e);return n<=1?null:Math.round(t.weight-t.weight/n)}getExpectedSize(t){const e=window.devicePixelRatio||1;return{width:Math.round(t.width*e),height:Math.round(t.height*e)}}getOversizedRatio(t,e){const{width:n,height:o}=this.getExpectedSize(e);return t.width*t.height/(n*o)}fetchFileWeight(t){return g(this,void 0,void 0,(function*(){const e=yield this.fetch(t);return e.ok?parseInt(e.headers.get("content-length"),10)/1024:(console.log(`Can't get image size for ${t} likely due to a CORS error.`),-1)}))}fetchFileDimensions(t){return g(this,void 0,void 0,(function*(){const e=new Image;return e.src=t,new Promise((t=>{e.onload=()=>{t({width:Math.round(e.width),height:Math.round(e.height)})},e.onerror=()=>{t({width:-1,height:-1})}}))}))}}function v(t){return b(t.currentSrc)?t.currentSrc:b(t.src)?t.src:null}function w(t){const e=getComputedStyle(t).backgroundImage.match(/url\(\s*(['"])(.*?)\1\s*\)/i),n=window.location.href.split("#")[0];return e&&e[2]&&e[2]!==n&&b(e[2])?e[2]:null}function y(t,e=fetch){return function(t){return t.filter((t=>t instanceof HTMLImageElement||t instanceof HTMLElement&&"none"!==getComputedStyle(t).backgroundImage))}(t).map((t=>t instanceof HTMLImageElement?new m(t,v,e):t instanceof HTMLElement&&w(t)?new m(t,w):null)).filter((t=>null!==t))}function b(t){if(t.startsWith("/")){return!t.split("?")[0].endsWith(".svg")}try{const e=new URL(t);return"http:"===e.protocol||"https:"===e.protocol}catch(t){return!1}}var $,x={};$=x,function(){var t={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function e(n){return function(n,o){var i,r,s,c,a,u,l,d,f,p=1,h=n.length,g="";for(r=0;r<h;r++)if("string"==typeof n[r])g+=n[r];else if("object"==typeof n[r]){if((c=n[r]).keys)for(i=o[p],s=0;s<c.keys.length;s++){if(null==i)throw new Error(e('[sprintf] Cannot access property "%s" of undefined value "%s"',c.keys[s],c.keys[s-1]));i=i[c.keys[s]]}else i=c.param_no?o[c.param_no]:o[p++];if(t.not_type.test(c.type)&&t.not_primitive.test(c.type)&&i instanceof Function&&(i=i()),t.numeric_arg.test(c.type)&&"number"!=typeof i&&isNaN(i))throw new TypeError(e("[sprintf] expecting number but found %T",i));switch(t.number.test(c.type)&&(d=i>=0),c.type){case"b":i=parseInt(i,10).toString(2);break;case"c":i=String.fromCharCode(parseInt(i,10));break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,c.width?parseInt(c.width):0);break;case"e":i=c.precision?parseFloat(i).toExponential(c.precision):parseFloat(i).toExponential();break;case"f":i=c.precision?parseFloat(i).toFixed(c.precision):parseFloat(i);break;case"g":i=c.precision?String(Number(i.toPrecision(c.precision))):parseFloat(i);break;case"o":i=(parseInt(i,10)>>>0).toString(8);break;case"s":i=String(i),i=c.precision?i.substring(0,c.precision):i;break;case"t":i=String(!!i),i=c.precision?i.substring(0,c.precision):i;break;case"T":i=Object.prototype.toString.call(i).slice(8,-1).toLowerCase(),i=c.precision?i.substring(0,c.precision):i;break;case"u":i=parseInt(i,10)>>>0;break;case"v":i=i.valueOf(),i=c.precision?i.substring(0,c.precision):i;break;case"x":i=(parseInt(i,10)>>>0).toString(16);break;case"X":i=(parseInt(i,10)>>>0).toString(16).toUpperCase()}t.json.test(c.type)?g+=i:(!t.number.test(c.type)||d&&!c.sign?f="":(f=d?"+":"-",i=i.toString().replace(t.sign,"")),u=c.pad_char?"0"===c.pad_char?"0":c.pad_char.charAt(1):" ",l=c.width-(f+i).length,a=c.width&&l>0?u.repeat(l):"",g+=c.align?f+i+a:"0"===u?f+a+i:a+f+i)}return g}(function(e){if(o[e])return o[e];for(var n,i=e,r=[],s=0;i;){if(null!==(n=t.text.exec(i)))r.push(n[0]);else if(null!==(n=t.modulo.exec(i)))r.push("%");else{if(null===(n=t.placeholder.exec(i)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){s|=1;var c=[],a=n[2],u=[];if(null===(u=t.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(c.push(u[1]);""!==(a=a.substring(u[0].length));)if(null!==(u=t.key_access.exec(a)))c.push(u[1]);else{if(null===(u=t.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");c.push(u[1])}n[2]=c}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:n[0],param_no:n[1],keys:n[2],sign:n[3],pad_char:n[4],align:n[5],width:n[6],precision:n[7],type:n[8]})}i=i.substring(n[0].length)}return o[e]=r}(n),arguments)}function n(t,n){return e.apply(null,[t].concat(n||[]))}var o=Object.create(null);$.sprintf=e,$.vsprintf=n,"undefined"!=typeof window&&(window.sprintf=e,window.vsprintf=n)}();const _=function(t,e){var n,o,i=0;function r(){var r,s,c=n,a=arguments.length;t:for(;c;){if(c.args.length===arguments.length){for(s=0;s<a;s++)if(c.args[s]!==arguments[s]){c=c.next;continue t}return c!==n&&(c===o&&(o=c.prev),c.prev.next=c.next,c.next&&(c.next.prev=c.prev),c.next=n,c.prev=null,n.prev=c,n=c),c.val}c=c.next}for(r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return c={args:r,val:t.apply(null,r)},n?(n.prev=c,c.next=n):o=c,i===e.maxSize?(o=o.prev).next=null:i++,n=c,c.val}return e=e||{},r.clear=function(){n=null,o=null,i=0},r}(console.error);var C,k,F,S;C={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},k=["(","?"],F={")":["("],":":["?","?:"]},S=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;var z={"!":function(t){return!t},"*":function(t,e){return t*e},"/":function(t,e){return t/e},"%":function(t,e){return t%e},"+":function(t,e){return t+e},"-":function(t,e){return t-e},"<":function(t,e){return t<e},"<=":function(t,e){return t<=e},">":function(t,e){return t>e},">=":function(t,e){return t>=e},"==":function(t,e){return t===e},"!=":function(t,e){return t!==e},"&&":function(t,e){return t&&e},"||":function(t,e){return t||e},"?:":function(t,e,n){if(t)throw e;return n}};function E(t){var e=function(t){for(var e,n,o,i,r=[],s=[];e=t.match(S);){for(n=e[0],(o=t.substr(0,e.index).trim())&&r.push(o);i=s.pop();){if(F[n]){if(F[n][0]===i){n=F[n][1]||n;break}}else if(k.indexOf(i)>=0||C[i]<C[n]){s.push(i);break}r.push(i)}F[n]||s.push(n),t=t.substr(e.index+n.length)}return(t=t.trim())&&r.push(t),r.concat(s.reverse())}(t);return function(t){return function(t,e){var n,o,i,r,s,c,a=[];for(n=0;n<t.length;n++){if(s=t[n],r=z[s]){for(o=r.length,i=Array(o);o--;)i[o]=a.pop();try{c=r.apply(null,i)}catch(t){return t}}else c=e.hasOwnProperty(s)?e[s]:+s;a.push(c)}return a[0]}(e,t)}}var j={contextDelimiter:"",onMissingKey:null};function I(t,e){var n;for(n in this.data=t,this.pluralForms={},this.options={},j)this.options[n]=void 0!==e&&n in e?e[n]:j[n]}I.prototype.getPluralForm=function(t,e){var n,o,i,r=this.pluralForms[t];return r||("function"!=typeof(i=(n=this.data[t][""])["Plural-Forms"]||n["plural-forms"]||n.plural_forms)&&(o=function(t){var e,n,o;for(e=t.split(";"),n=0;n<e.length;n++)if(0===(o=e[n].trim()).indexOf("plural="))return o.substr(7)}(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms),i=function(t){var e=E(t);return function(t){return+e({n:t})}}(o)),r=this.pluralForms[t]=i),r(e)},I.prototype.dcnpgettext=function(t,e,n,o,i){var r,s,c;return r=void 0===i?0:this.getPluralForm(t,i),s=n,e&&(s=e+this.options.contextDelimiter+n),(c=this.data[t][s])&&c[r]?c[r]:(this.options.onMissingKey&&this.options.onMissingKey(n,t),0===r?n:o)};const O={plural_forms:t=>1===t?0:1},A=/^i18n\.(n?gettext|has_translation)(_|$)/;function P(t){return"string"!=typeof t||""===t?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(t)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}function L(t){return"string"!=typeof t||""===t?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(t)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(t)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}function R(t,e){return function(n,o,i,r=10){const s=t[e];if(!L(n))return;if(!P(o))return;if("function"!=typeof i)return void console.error("The hook callback must be a function.");if("number"!=typeof r)return void console.error("If specified, the hook priority must be a number.");const c={callback:i,priority:r,namespace:o};if(s[n]){const t=s[n].handlers;let e;for(e=t.length;e>0&&!(r>=t[e-1].priority);e--);e===t.length?t[e]=c:t.splice(e,0,c),s.__current.forEach((t=>{t.name===n&&t.currentIndex>=e&&t.currentIndex++}))}else s[n]={handlers:[c],runs:0};"hookAdded"!==n&&t.doAction("hookAdded",n,o,i,r)}}function T(t,e,n=!1){return function(o,i){const r=t[e];if(!L(o))return;if(!n&&!P(i))return;if(!r[o])return 0;let s=0;if(n)s=r[o].handlers.length,r[o]={runs:r[o].runs,handlers:[]};else{const t=r[o].handlers;for(let e=t.length-1;e>=0;e--)t[e].namespace===i&&(t.splice(e,1),s++,r.__current.forEach((t=>{t.name===o&&t.currentIndex>=e&&t.currentIndex--})))}return"hookRemoved"!==o&&t.doAction("hookRemoved",o,i),s}}function M(t,e){return function(n,o){const i=t[e];return void 0!==o?n in i&&i[n].handlers.some((t=>t.namespace===o)):n in i}}function U(t,e,n=!1){return function(o,...i){const r=t[e];r[o]||(r[o]={handlers:[],runs:0}),r[o].runs++;const s=r[o].handlers;if(!s||!s.length)return n?i[0]:void 0;const c={name:o,currentIndex:0};for(r.__current.push(c);c.currentIndex<s.length;){const t=s[c.currentIndex].callback.apply(null,i);n&&(i[0]=t),c.currentIndex++}return r.__current.pop(),n?i[0]:void 0}}function D(t,e){return function(){var n;const o=t[e];return null!==(n=o.__current[o.__current.length-1]?.name)&&void 0!==n?n:null}}function B(t,e){return function(n){const o=t[e];return void 0===n?void 0!==o.__current[0]:!!o.__current[0]&&n===o.__current[0].name}}function N(t,e){return function(n){const o=t[e];if(L(n))return o[n]&&o[n].runs?o[n].runs:0}}class H{constructor(){this.actions=Object.create(null),this.actions.__current=[],this.filters=Object.create(null),this.filters.__current=[],this.addAction=R(this,"actions"),this.addFilter=R(this,"filters"),this.removeAction=T(this,"actions"),this.removeFilter=T(this,"filters"),this.hasAction=M(this,"actions"),this.hasFilter=M(this,"filters"),this.removeAllActions=T(this,"actions",!0),this.removeAllFilters=T(this,"filters",!0),this.doAction=U(this,"actions"),this.applyFilters=U(this,"filters",!0),this.currentAction=D(this,"actions"),this.currentFilter=D(this,"filters"),this.doingAction=B(this,"actions"),this.doingFilter=B(this,"filters"),this.didAction=N(this,"actions"),this.didFilter=N(this,"filters")}}const q=((t,e,n)=>{const o=new I({}),i=new Set,r=()=>{i.forEach((t=>t()))},s=(t,e="default")=>{o.data[e]={...o.data[e],...t},o.data[e][""]={...O,...o.data[e]?.[""]},delete o.pluralForms[e]},c=(t,e)=>{s(t,e),r()},a=(t="default",e,n,i,r)=>(o.data[t]||s(void 0,t),o.dcnpgettext(t,e,n,i,r)),u=(t="default")=>t,l=(t,e,o)=>{let i=a(o,e,t);return n?(i=n.applyFilters("i18n.gettext_with_context",i,t,e,o),n.applyFilters("i18n.gettext_with_context_"+u(o),i,t,e,o)):i};if(t&&c(t,e),n){const t=t=>{A.test(t)&&r()};n.addAction("hookAdded","core/i18n",t),n.addAction("hookRemoved","core/i18n",t)}return{getLocaleData:(t="default")=>o.data[t],setLocaleData:c,addLocaleData:(t,e="default")=>{o.data[e]={...o.data[e],...t,"":{...O,...o.data[e]?.[""],...t?.[""]}},delete o.pluralForms[e],r()},resetLocaleData:(t,e)=>{o.data={},o.pluralForms={},c(t,e)},subscribe:t=>(i.add(t),()=>i.delete(t)),__:(t,e)=>{let o=a(e,void 0,t);return n?(o=n.applyFilters("i18n.gettext",o,t,e),n.applyFilters("i18n.gettext_"+u(e),o,t,e)):o},_x:l,_n:(t,e,o,i)=>{let r=a(i,void 0,t,e,o);return n?(r=n.applyFilters("i18n.ngettext",r,t,e,o,i),n.applyFilters("i18n.ngettext_"+u(i),r,t,e,o,i)):r},_nx:(t,e,o,i,r)=>{let s=a(r,i,t,e,o);return n?(s=n.applyFilters("i18n.ngettext_with_context",s,t,e,o,i,r),n.applyFilters("i18n.ngettext_with_context_"+u(r),s,t,e,o,i,r)):s},isRTL:()=>"rtl"===l("ltr","text direction"),hasTranslation:(t,e,i)=>{const r=e?e+""+t:t;let s=!!o.data?.[null!=i?i:"default"]?.[r];return n&&(s=n.applyFilters("i18n.has_translation",s,t,e,i),s=n.applyFilters("i18n.has_translation_"+u(i),s,t,e,i)),s}}})(void 0,void 0,new H);q.getLocaleData.bind(q),q.setLocaleData.bind(q),q.resetLocaleData.bind(q),q.subscribe.bind(q);const J=q.__.bind(q);q._x.bind(q),q._n.bind(q),q._nx.bind(q),q.isRTL.bind(q),q.hasTranslation.bind(q);class V extends Error{constructor(t){super(t),this.name="AdminAjaxError"}}function W(e,n=ajaxurl){return t(this,void 0,void 0,(function*(){const t={method:"post",body:new URLSearchParams(e),headers:{"Content-Type":"application/x-www-form-urlencoded"}},o=yield fetch(n,t);if(!o.ok)throw new V(function(t,...e){try{return x.sprintf(t,...e)}catch(e){return e instanceof Error&&_("sprintf error: \n\n"+e.toString()),t}}(J("Received HTTP %d while communicating with your WordPress site","jetpack-boost"),o.status));return o}))}function Z(){}const G=t=>t;function K(t){return t()}function X(){return Object.create(null)}function Y(t){t.forEach(K)}function Q(t){return"function"==typeof t}function tt(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let et;function nt(t,e){return et||(et=document.createElement("a")),et.href=e,t===et.href}function ot(t,...e){if(null==t)return Z;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function it(t){let e;return ot(t,(t=>e=t))(),e}function rt(t,e,n){t.$$.on_destroy.push(ot(e,n))}function st(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function ct(t){const e="string"==typeof t&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const at="undefined"!=typeof window;let ut=at?()=>window.performance.now():()=>Date.now(),lt=at?t=>requestAnimationFrame(t):Z;const dt=new Set;function ft(t){dt.forEach((e=>{e.c(t)||(dt.delete(e),e.f())})),0!==dt.size&&lt(ft)}function pt(t){let e;return 0===dt.size&&lt(ft),{promise:new Promise((n=>{dt.add(e={c:t,f:n})})),abort(){dt.delete(e)}}}function ht(t,e){t.appendChild(e)}function gt(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function mt(t){const e=yt("style");return function(t,e){ht(t.head||t,e),e.sheet}(gt(t),e),e.sheet}function vt(t,e,n){t.insertBefore(e,n||null)}function wt(t){t.parentNode&&t.parentNode.removeChild(t)}function yt(t){return document.createElement(t)}function bt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function $t(t){return document.createTextNode(t)}function xt(){return $t(" ")}function _t(){return $t("")}function Ct(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function kt(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ft(t,e){e=""+e,t.data!==e&&(t.data=e)}function St(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function zt(t,e,n){t.classList[n?"add":"remove"](e)}function Et(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,o,e),i}const jt=new Map;let It,Ot=0;function At(t,e,n,o,i,r,s,c=0){const a=16.666/o;let u="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*r(t);u+=100*t+`%{${s(o,1-o)}}\n`}const l=u+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(l)}_${c}`,f=gt(t),{stylesheet:p,rules:h}=jt.get(f)||function(t,e){const n={stylesheet:mt(e),rules:{}};return jt.set(t,n),n}(f,t);h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${l}`,p.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${d} ${o}ms linear ${i}ms 1 both`,Ot+=1,d}function Pt(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Ot-=i,Ot||lt((()=>{Ot||(jt.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&wt(e)})),jt.clear())})))}function Lt(t){It=t}function Rt(){if(!It)throw new Error("Function called outside component initialization");return It}function Tt(t){Rt().$$.on_mount.push(t)}function Mt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const Ut=[],Dt=[];let Bt=[];const Nt=[],Ht=Promise.resolve();let qt=!1;function Jt(t){Bt.push(t)}const Vt=new Set;let Wt,Zt=0;function Gt(){if(0!==Zt)return;const t=It;do{try{for(;Zt<Ut.length;){const t=Ut[Zt];Zt++,Lt(t),Kt(t.$$)}}catch(t){throw Ut.length=0,Zt=0,t}for(Lt(null),Ut.length=0,Zt=0;Dt.length;)Dt.pop()();for(let t=0;t<Bt.length;t+=1){const e=Bt[t];Vt.has(e)||(Vt.add(e),e())}Bt.length=0}while(Ut.length);for(;Nt.length;)Nt.pop()();qt=!1,Vt.clear(),Lt(t)}function Kt(t){if(null!==t.fragment){t.update(),Y(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Jt)}}function Xt(){return Wt||(Wt=Promise.resolve(),Wt.then((()=>{Wt=null}))),Wt}function Yt(t,e,n){t.dispatchEvent(Et(`${e?"intro":"outro"}${n}`))}const Qt=new Set;let te;function ee(){te={r:0,c:[],p:te}}function ne(){te.r||Y(te.c),te=te.p}function oe(t,e){t&&t.i&&(Qt.delete(t),t.i(e))}function ie(t,e,n,o){if(t&&t.o){if(Qt.has(t))return;Qt.add(t),te.c.push((()=>{Qt.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}const re={duration:0};function se(t,e,n){const o={direction:"in"};let i,r,s=e(t,n,o),c=!1,a=0;function u(){i&&Pt(t,i)}function l(){const{delay:e=0,duration:n=300,easing:o=G,tick:l=Z,css:d}=s||re;d&&(i=At(t,0,1,n,e,o,d,a++)),l(0,1);const f=ut()+e,p=f+n;r&&r.abort(),c=!0,Jt((()=>Yt(t,!0,"start"))),r=pt((e=>{if(c){if(e>=p)return l(1,0),Yt(t,!0,"end"),u(),c=!1;if(e>=f){const t=o((e-f)/n);l(t,1-t)}}return c}))}let d=!1;return{start(){d||(d=!0,Pt(t),Q(s)?(s=s(o),Xt().then(l)):l())},invalidate(){d=!1},end(){c&&(u(),c=!1)}}}function ce(t,e,n,o){const i={direction:"both"};let r=e(t,n,i),s=o?0:1,c=null,a=null,u=null;function l(){u&&Pt(t,u)}function d(t,e){const n=t.b-s;return e*=Math.abs(n),{a:s,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function f(e){const{delay:n=0,duration:o=300,easing:i=G,tick:f=Z,css:p}=r||re,h={start:ut()+n,b:e};e||(h.group=te,te.r+=1),c||a?a=h:(p&&(l(),u=At(t,s,e,o,n,i,p)),e&&f(0,1),c=d(h,o),Jt((()=>Yt(t,e,"start"))),pt((e=>{if(a&&e>a.start&&(c=d(a,o),a=null,Yt(t,c.b,"start"),p&&(l(),u=At(t,s,c.b,c.duration,0,i,r.css))),c)if(e>=c.end)f(s=c.b,1-s),Yt(t,c.b,"end"),a||(c.b?l():--c.group.r||Y(c.group.c)),c=null;else if(e>=c.start){const t=e-c.start;s=c.a+c.d*i(t/c.duration),f(s,1-s)}return!(!c&&!a)})))}return{run(t){Q(r)?Xt().then((()=>{r=r(i),f(t)})):f(t)},end(){l(),c=a=null}}}const ae="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ue(t){t&&t.c()}function le(t,e,n,o){const{fragment:i,after_update:r}=t.$$;i&&i.m(e,n),o||Jt((()=>{const e=t.$$.on_mount.map(K).filter(Q);t.$$.on_destroy?t.$$.on_destroy.push(...e):Y(e),t.$$.on_mount=[]})),r.forEach(Jt)}function de(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];Bt.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),Bt=e}(n.after_update),Y(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function fe(t,e){-1===t.$$.dirty[0]&&(Ut.push(t),qt||(qt=!0,Ht.then(Gt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function pe(t,e,n,o,i,r,s,c=[-1]){const a=It;Lt(t);const u=t.$$={fragment:null,ctx:[],props:r,update:Z,not_equal:i,bound:X(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:X(),dirty:c,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let l=!1;if(u.ctx=n?n(t,e.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return u.ctx&&i(u.ctx[e],u.ctx[e]=r)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](r),l&&fe(t,e)),n})):[],u.update(),l=!0,Y(u.before_update),u.fragment=!!o&&o(u.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);u.fragment&&u.fragment.l(t),t.forEach(wt)}else u.fragment&&u.fragment.c();e.intro&&oe(t.$$.fragment),le(t,e.target,e.anchor,e.customElement),Gt()}Lt(a)}class he{$destroy(){de(this,1),this.$destroy=Z}$on(t,e){if(!Q(e))return Z;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ge=[];function me(t,e=Z){let n;const o=new Set;function i(e){if(tt(t,e)&&(t=e,n)){const e=!ge.length;for(const e of o)e[1](),ge.push(e,t);if(e){for(let t=0;t<ge.length;t+=2)ge[t][0](ge[t+1]);ge.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(r,s=Z){const c=[r,s];return o.add(c),1===o.size&&(n=e(i)||Z),r(t),()=>{o.delete(c),0===o.size&&n&&(n(),n=null)}}}}function ve(t,e,n){const o=!Array.isArray(t),i=o?[t]:t,r=e.length<2;return s=t=>{let n=!1;const s=[];let c=0,a=Z;const u=()=>{if(c)return;a();const n=e(o?s[0]:s,t);r?t(n):a=Q(n)?n:Z},l=i.map(((t,e)=>ot(t,(t=>{s[e]=t,c&=~(1<<e),n&&u()}),(()=>{c|=1<<e}))));return n=!0,u(),function(){Y(l),a(),n=!1}},{subscribe:me(n,s).subscribe};var s}function we(e,n){return t(this,void 0,void 0,(function*(){n=function(t){const e={};"undefined"!=typeof Jetpack_Boost&&("version"in Jetpack_Boost&&(e.boost_version=Jetpack_Boost.version),"connection"in Jetpack_Boost&&(e.jetpack_connection=Jetpack_Boost.connection.connected?"connected":"disconnected"),"optimizations"in Jetpack_Boost&&(e.optimizations=JSON.stringify(Jetpack_Boost.optimizations)));return Object.assign(Object.assign({},e),t)}(n),h.tracks.recordEvent(`jetpack_boost_${e}`,n)}))}const ye="jetpack-boost-guide",be={active:"Active",paused:"Paused"};let $e=localStorage.getItem(ye);$e&&be[$e]||(localStorage.setItem(ye,"Active"),$e="active");const{set:xe,update:_e,subscribe:Ce}=me($e);Ce((t=>{localStorage.setItem(ye,t)}));const ke={subscribe:Ce,set:xe,update:_e,cycle:()=>{_e((t=>{const e=Object.keys(be),n=e.indexOf(t);return e[(n+1)%e.length]}))}},Fe=ve(ke,(t=>be[t]));class Se{static trackImageOutcome(e){return t(this,void 0,void 0,(function*(){return new Promise((t=>{e.loading.subscribe((n=>{if(!n){const n=it(e.oversizedRatio),o=n>4?"red":n>2.5?"yellow":"green",i=it(e.fileSize),r=it(e.sizeOnPage),s=it(e.expectedSize),c=it(e.potentialSavings),a=it(e.url),u={severity:o,oversized_ratio:n,file_weight:i.weight,file_width:i.width,file_height:i.height,size_on_page_width:r.width,size_on_page_height:r.height,expected_width:s.width,expected_height:s.height,potential_savings:c,image_url:a};we("image_guide_image_outcome",Object.assign(Object.assign({},u),{window_width:window.innerWidth,window_height:window.innerHeight,device_pixel_ratio:window.devicePixelRatio})),t(u)}}))}))}))}static trackPage(e){return t(this,void 0,void 0,(function*(){if(!e.length||Se.trackingComplete)return;Se.trackingComplete=!0;const t=e.map(Se.trackImageOutcome),n=yield Promise.all(t);we("image_guide_page_outcome",{total_potential_savings:n.reduce(((t,e)=>t+(e.potential_savings||0)),0),red_severity_count:n.filter((t=>"red"===t.severity)).length,yellow_severity_count:n.filter((t=>"yellow"===t.severity)).length,green_severity_count:n.filter((t=>"green"===t.severity)).length,window_width:window.innerWidth,window_height:window.innerHeight,device_pixel_ratio:window.devicePixelRatio})}))}static trackInitialState(){we("image_guide_initial_ui_state",{image_guide_state:it(ke)})}static trackUIStateChange(){we("image_guide_ui_state_change",{image_guide_state:it(ke)})}}Se.trackingComplete=!1;class ze{constructor(t){this.loading=me(!0),this.currentSrc="",this.image=t,this.node=t.node;this.url=me(t.getURL()),this.fileSize=me({width:0,height:0,weight:0}),this.sizeOnPage=me({width:0,height:0}),this.potentialSavings=this.derivePotentialSavings(),this.oversizedRatio=this.deriveOversizedRatio(),this.expectedSize=this.deriveExpectedSize()}deriveOversizedRatio(){return ve([this.fileSize,this.sizeOnPage],(([t,e])=>this.image.getOversizedRatio(t,e)))}deriveExpectedSize(){return ve(this.sizeOnPage,(t=>this.image.getExpectedSize(t)))}derivePotentialSavings(){return ve([this.fileSize,this.sizeOnPage],(([t,e])=>this.image.getPotentialSavings(t,e)))}updateDimensions(){return t(this,void 0,void 0,(function*(){const t=this.image.getSizeOnPage();this.sizeOnPage.set(t),yield this.maybeUpdateWeight()}))}maybeUpdateWeight(){return t(this,void 0,void 0,(function*(){if(this.image.getURL()===this.currentSrc)return;this.loading.set(!0),this.currentSrc=this.image.getURL();const t=yield this.image.getFileSize(this.currentSrc);this.url.set(this.currentSrc),this.fileSize.set(t),this.loading.set(!1)}))}}function Ee(t){const e=1.70158;return--t*t*((e+1)*t+e)+1}function je(t){const e=t-1;return e*e*e+1}function Ie(t,{delay:e=0,duration:n=400,easing:o=G}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:t=>"opacity: "+t*i}}function Oe(t,{delay:e=0,duration:n=400,easing:o=je,x:i=0,y:r=0,opacity:s=0}={}){const c=getComputedStyle(t),a=+c.opacity,u="none"===c.transform?"":c.transform,l=a*(1-s),[d,f]=ct(i),[p,h]=ct(r);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${u} translate(${(1-t)*d}${f}, ${(1-t)*p}${h});\n\t\t\topacity: ${a-l*e}`}}function Ae(t){let e,n,o,i,r;return{c(){e=yt("div"),n=bt("svg"),o=bt("path"),i=bt("path"),r=bt("path"),kt(o,"d","M55.4 107.8C84.3397 107.8 107.8 84.3397 107.8 55.4C107.8 26.4603 84.3397 3 55.4 3C26.4603 3 3 26.4603 3 55.4C3 84.3397 26.4603 107.8 55.4 107.8Z"),kt(o,"fill",t[1]),kt(i,"d","M58 46.6V97.4L84.2 46.6H58Z"),kt(i,"fill","white"),kt(r,"d","M52.7 64.1V13.4L26.6 64.1H52.7Z"),kt(r,"fill","white"),kt(n,"viewBox","0 0 110 110"),kt(n,"fill","none"),kt(n,"xmlns","http://www.w3.org/2000/svg"),St(e,"width",t[0]+"px"),St(e,"height",t[0]+"px"),kt(e,"class","svelte-f6jc8")},m(t,s){vt(t,e,s),ht(e,n),ht(n,o),ht(n,i),ht(n,r)},p(t,[n]){2&n&&kt(o,"fill",t[1]),1&n&&St(e,"width",t[0]+"px"),1&n&&St(e,"height",t[0]+"px")},i:Z,o:Z,d(t){t&&wt(e)}}}function Pe(t,e,n){let{size:o=16}=e,{bg:i="#069E08"}=e;return t.$$set=t=>{"size"in t&&n(0,o=t.size),"bg"in t&&n(1,i=t.bg)},[o,i]}class Le extends he{constructor(t){super(),pe(this,t,Pe,Ae,tt,{size:0,bg:1})}}function Re(t){let e,n,o,i;return n=new Le({props:{size:12,bg:"transparent"}}),{c(){e=yt("div"),ue(n.$$.fragment),kt(e,"class","spinner svelte-2eb8gc")},m(t,o){vt(t,e,o),le(n,e,null),i=!0},p:Z,i(t){i||(oe(n.$$.fragment,t),o&&o.end(1),i=!0)},o(t){ie(n.$$.fragment,t),o=function(t,e,n){const o={direction:"out"};let i,r=e(t,n,o),s=!0;const c=te;function a(){const{delay:e=0,duration:n=300,easing:o=G,tick:a=Z,css:u}=r||re;u&&(i=At(t,1,0,n,e,o,u));const l=ut()+e,d=l+n;Jt((()=>Yt(t,!1,"start"))),pt((e=>{if(s){if(e>=d)return a(0,1),Yt(t,!1,"end"),--c.r||Y(c.c),!1;if(e>=l){const t=o((e-l)/n);a(1-t,t)}}return s}))}return c.r+=1,Q(r)?Xt().then((()=>{r=r(o),a()})):a(),{end(e){e&&r.tick&&r.tick(1,0),s&&(i&&Pt(t,i),s=!1)}}}(e,Ie,{duration:300}),i=!1},d(t){t&&wt(e),de(n),t&&o&&o.end()}}}class Te extends he{constructor(t){super(),pe(this,t,null,Re,tt,{})}}function Me(t){let e,n;return{c(){e=bt("svg"),n=bt("path"),kt(n,"stroke-linecap","round"),kt(n,"stroke-linejoin","round"),kt(n,"stroke-width","2"),kt(n,"d","M5 13l4 4L19 7"),kt(e,"class","w-6 h-6 svelte-jkeb2"),kt(e,"fill","none"),kt(e,"stroke","white"),kt(e,"width","18"),kt(e,"height","18"),kt(e,"viewBox","0 0 24 24"),kt(e,"xmlns","http://www.w3.org/2000/svg")},m(t,o){vt(t,e,o),ht(e,n)},p:Z,i:Z,o:Z,d(t){t&&wt(e)}}}class Ue extends he{constructor(t){super(),pe(this,t,null,Me,tt,{})}}function De(t){let e,n,o;return n=new Te({}),{c(){e=yt("div"),ue(n.$$.fragment),kt(e,"class","bubble-inner svelte-sip1vm")},m(t,i){vt(t,e,i),le(n,e,null),o=!0},p:Z,i(t){o||(oe(n.$$.fragment,t),o=!0)},o(t){ie(n.$$.fragment,t),o=!1},d(t){t&&wt(e),de(n)}}}function Be(t){let e,n,o,i,r,s;const c=[qe,He,Ne],a=[];function u(t,e){return t[0]>9?0:t[0]>.99?1:2}return o=u(t),i=a[o]=c[o](t),{c(){e=yt("div"),n=yt("div"),i.c(),kt(n,"class","label"),kt(e,"class","bubble-inner svelte-sip1vm")},m(t,i){vt(t,e,i),ht(e,n),a[o].m(n,null),s=!0},p(t,e){let r=o;o=u(t),o===r?a[o].p(t,e):(ee(),ie(a[r],1,1,(()=>{a[r]=null})),ne(),i=a[o],i?i.p(t,e):(i=a[o]=c[o](t),i.c()),oe(i,1),i.m(n,null))},i(t){s||(oe(i),r||Jt((()=>{r=se(n,Ie,{delay:200,duration:300}),r.start()})),s=!0)},o(t){ie(i),s=!1},d(t){t&&wt(e),a[o].d()}}}function Ne(t){let e,n;return{c(){e=yt("span"),e.textContent="<",n=$t(" 1x"),St(e,"font-size","0.75em")},m(t,o){vt(t,e,o),vt(t,n,o)},p:Z,i:Z,o:Z,d(t){t&&wt(e),t&&wt(n)}}}function He(t){let e,n,o,i;const r=[Ve,Je],s=[];function c(t,e){return"normal"===t[1]?0:1}return e=c(t),n=s[e]=r[e](t),{c(){n.c(),o=_t()},m(t,n){s[e].m(t,n),vt(t,o,n),i=!0},p(t,i){let a=e;e=c(t),e===a?s[e].p(t,i):(ee(),ie(s[a],1,1,(()=>{s[a]=null})),ne(),n=s[e],n?n.p(t,i):(n=s[e]=r[e](t),n.c()),oe(n,1),n.m(o.parentNode,o))},i(t){i||(oe(n),i=!0)},o(t){ie(n),i=!1},d(t){s[e].d(t),t&&wt(o)}}}function qe(t){let e,n,o=Math.floor(t[0])+"";return{c(){e=$t(o),n=$t("x")},m(t,o){vt(t,e,o),vt(t,n,o)},p(t,n){1&n&&o!==(o=Math.floor(t[0])+"")&&Ft(e,o)},i:Z,o:Z,d(t){t&&wt(e),t&&wt(n)}}}function Je(t){let e,n,o=t[0].toFixed(1)+"";return{c(){e=$t(o),n=$t("x")},m(t,o){vt(t,e,o),vt(t,n,o)},p(t,n){1&n&&o!==(o=t[0].toFixed(1)+"")&&Ft(e,o)},i:Z,o:Z,d(t){t&&wt(e),t&&wt(n)}}}function Ve(t){let e,n;return e=new Ue({}),{c(){ue(e.$$.fragment)},m(t,o){le(e,t,o),n=!0},p:Z,i(t){n||(oe(e.$$.fragment,t),n=!0)},o(t){ie(e.$$.fragment,t),n=!1},d(t){de(e,t)}}}function We(t){let e,n,o,i,r,s,c,a,u;const l=[Be,De],d=[];function f(t,e){return!1===t[3]?0:1}return o=f(t),i=d[o]=l[o](t),{c(){e=yt("div"),n=yt("div"),i.c(),kt(n,"class","bubble svelte-sip1vm"),kt(e,"class",r="interaction-area "+t[1]+" svelte-sip1vm")},m(i,r){vt(i,e,r),ht(e,n),d[o].m(n,null),t[10](e),c=!0,a||(u=Ct(e,"mouseenter",t[7]),a=!0)},p(s,[a]){let u=o;o=f(t=s),o===u?d[o].p(t,a):(ee(),ie(d[u],1,1,(()=>{d[u]=null})),ne(),i=d[o],i?i.p(t,a):(i=d[o]=l[o](t),i.c()),oe(i,1),i.m(n,null)),(!c||2&a&&r!==(r="interaction-area "+t[1]+" svelte-sip1vm"))&&kt(e,"class",r)},i(n){c||(oe(i),Jt((()=>{c&&(s||(s=ce(e,Oe,t[6],!0)),s.run(1))})),c=!0)},o(n){ie(i),s||(s=ce(e,Oe,t[6],!1)),s.run(0),c=!1},d(n){n&&wt(e),d[o].d(),t[10](null),n&&s&&s.end(),a=!1,u()}}}function Ze(t,e,n){let o,i,r,{index:s}=e,{store:c}=e;const a=c.oversizedRatio;rt(t,a,(t=>n(0,o=t)));const u=c.loading;rt(t,u,(t=>n(3,i=t)));const l={delay:150+50*s,duration:250,y:2,easing:Ee};let d;const f=function(){const t=Rt();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=Et(e,n,{cancelable:o});return i.slice().forEach((e=>{e.call(t,r)})),!r.defaultPrevented}return!0}}();return t.$$set=t=>{"index"in t&&n(8,s=t.index),"store"in t&&n(9,c=t.store)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r=o>4?"high":o>2.5?"medium":"normal")},[o,r,d,i,a,u,l,function(){const t=d.getBoundingClientRect();f("hover",{index:s,position:{top:t.top+t.height+10,left:t.left}})},s,c,function(t){Dt[t?"unshift":"push"]((()=>{d=t,n(2,d)}))}]}class Ge extends he{constructor(t){super(),pe(this,t,Ze,We,tt,{index:8,store:9})}}function Ke(t){let e,n;const o=t[2].default,i=function(t,e,n,o){if(t){const i=st(t,e,n,o);return t[0](i)}}(o,t,t[1],null);return{c(){e=yt("div"),i&&i.c(),kt(e,"class","jetpack-boost-guide-portal")},m(o,r){vt(o,e,r),i&&i.m(e,null),t[3](e),n=!0},p(t,[e]){i&&i.p&&(!n||2&e)&&function(t,e,n,o,i,r){if(i){const s=st(e,n,o,r);t.p(s,i)}}(i,o,t,t[1],n?function(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|i[o];return t}return e.dirty|i}return e.dirty}(o,t[1],e,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[1]),null)},i(t){n||(oe(i,t),n=!0)},o(t){ie(i,t),n=!1},d(n){n&&wt(e),i&&i.d(n),t[3](null)}}}function Xe(t,e,n){let o,{$$slots:i={},$$scope:r}=e;var s;return Tt((()=>{document.body.appendChild(o)})),s=()=>{document.body.removeChild(o)},Rt().$$.on_destroy.push(s),t.$$set=t=>{"$$scope"in t&&n(1,r=t.$$scope)},[o,r,i,function(t){Dt[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class Ye extends he{constructor(t){super(),pe(this,t,Xe,Ke,tt,{})}}function Qe(t){let e,n;return{c(){e=bt("svg"),n=bt("path"),kt(n,"d","M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"),kt(e,"xmlns","http://www.w3.org/2000/svg"),kt(e,"viewBox","0 0 24 24"),kt(e,"class","svelte-1g2gjwn")},m(t,o){vt(t,e,o),ht(e,n)},p:Z,i:Z,o:Z,d(t){t&&wt(e)}}}class tn extends he{constructor(t){super(),pe(this,t,null,Qe,tt,{})}}const{window:en}=ae;function nn(t){let e,n,o,i,r=t[30]+"";return{c(){e=yt("div"),n=$t("The image file is "),o=$t(r),i=$t("x smaller than expected on this screen. This might be\n\t\t\t\t\t\tfine, but you may want to check if the image appears blurry."),kt(e,"class","explanation svelte-1c7o3v8")},m(t,r){vt(t,e,r),ht(e,n),ht(e,o),ht(e,i)},p(t,e){8&e[0]&&r!==(r=t[30]+"")&&Ft(o,r)},d(t){t&&wt(e)}}}function on(t){let e,n,o=t[6]>1&&cn(t);return{c(){e=yt("div"),n=$t("The image size is very close to the size it appears in the browser.\n\t\t\t\t\t\t"),o&&o.c(),kt(e,"class","explanation svelte-1c7o3v8")},m(t,i){vt(t,e,i),ht(e,n),o&&o.m(e,null)},p(t,n){t[6]>1?o?o.p(t,n):(o=cn(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(t){t&&wt(e),o&&o.d()}}}function rn(t){let e;return{c(){e=yt("div"),e.textContent="The image is exactly the correct size for this screen.",kt(e,"class","explanation svelte-1c7o3v8")},m(t,n){vt(t,e,n)},p:Z,d(t){t&&wt(e)}}}function sn(t){let e,n,o,i,r,s,c=t[4].weight>450&&an();return{c(){e=yt("div"),n=$t("The image loaded is "),o=yt("strong"),i=$t(t[6]),r=$t("x"),s=$t(" larger than it appears in the browser.\n\t\t\t\t\t\t"),c&&c.c(),kt(e,"class","explanation svelte-1c7o3v8")},m(t,a){vt(t,e,a),ht(e,n),ht(e,o),ht(o,i),ht(o,r),ht(e,s),c&&c.m(e,null)},p(t,n){64&n[0]&&Ft(i,t[6]),t[4].weight>450?c||(c=an(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(t){t&&wt(e),c&&c.d()}}}function cn(t){let e,n,o,i,r;return{c(){e=$t("Because there are various screen sizes, it's okay for the image to be\n\t\t\t\t\t\t\t"),n=yt("strong"),o=$t(t[6]),i=$t("x"),r=$t(" than it appears on the page.")},m(t,s){vt(t,e,s),vt(t,n,s),ht(n,o),ht(n,i),vt(t,r,s)},p(t,e){64&e[0]&&Ft(o,t[6])},d(t){t&&wt(e),t&&wt(n),t&&wt(r)}}}function an(t){let e;return{c(){e=$t("Try using a smaller image or reduce the file size by compressing it.")},m(t,n){vt(t,e,n)},d(t){t&&wt(e)}}}function un(t){let e,n;return{c(){e=yt("img"),nt(e.src,n=t[5])||kt(e,"src",n),kt(e,"alt",t[8]),St(e,"width",t[2]+"px"),St(e,"height",t[7]+"px"),kt(e,"width",t[2]),kt(e,"height",t[7]),kt(e,"class","svelte-1c7o3v8")},m(t,n){vt(t,e,n)},p(t,o){32&o[0]&&!nt(e.src,n=t[5])&&kt(e,"src",n),256&o[0]&&kt(e,"alt",t[8]),4&o[0]&&St(e,"width",t[2]+"px"),128&o[0]&&St(e,"height",t[7]+"px"),4&o[0]&&kt(e,"width",t[2]),128&o[0]&&kt(e,"height",t[7])},d(t){t&&wt(e)}}}function ln(t){let e;function n(t,e){return t[16]?pn:fn}let o=n(t),i=o(t);return{c(){e=yt("div"),i.c(),kt(e,"class","value")},m(t,n){vt(t,e,n),i.m(e,null)},p(t,r){o!==(o=n(t))&&(i.d(1),i=o(t),i&&(i.c(),i.m(e,null)))},d(t){t&&wt(e),i.d()}}}function dn(t){let e,n,o,i,r=t[4].width+"",s=t[4].height+"";return{c(){e=yt("div"),n=$t(r),o=$t(" x "),i=$t(s),kt(e,"class","value")},m(t,r){vt(t,e,r),ht(e,n),ht(e,o),ht(e,i)},p(t,e){16&e[0]&&r!==(r=t[4].width+"")&&Ft(n,r),16&e[0]&&s!==(s=t[4].height+"")&&Ft(i,s)},d(t){t&&wt(e)}}}function fn(t){let e;return{c(){e=yt("em"),e.textContent="Unknown"},m(t,n){vt(t,e,n)},d(t){t&&wt(e)}}}function pn(t){let e;return{c(){e=$t("Loading...")},m(t,n){vt(t,e,n)},d(t){t&&wt(e)}}}function hn(t){let e;return{c(){e=yt("em"),e.textContent="Unknown"},m(t,n){vt(t,e,n)},p:Z,d(t){t&&wt(e)}}}function gn(t){let e;return{c(){e=$t("Loading...")},m(t,n){vt(t,e,n)},p:Z,d(t){t&&wt(e)}}}function mn(t){let e,n,o=Math.round(t[4].weight)+"";return{c(){e=$t(o),n=$t(" KB")},m(t,o){vt(t,e,o),vt(t,n,o)},p(t,n){16&n[0]&&o!==(o=Math.round(t[4].weight)+"")&&Ft(e,o)},d(t){t&&wt(e),t&&wt(n)}}}function vn(t){let e;return{c(){e=yt("em"),e.textContent="N/A"},m(t,n){vt(t,e,n)},p:Z,d(t){t&&wt(e)}}}function wn(t){let e;return{c(){e=$t("Loading...")},m(t,n){vt(t,e,n)},p:Z,d(t){t&&wt(e)}}}function yn(t){let e,n,o;return{c(){e=yt("strong"),n=$t(t[19]),o=$t(" KB")},m(t,i){vt(t,e,i),ht(e,n),ht(e,o)},p(t,e){524288&e[0]&&Ft(n,t[19])},d(t){t&&wt(e)}}}function bn(t){let e,n,o,i,r,s,c,a,u,l,d,f,p,h,g,m,v,w,y,b,$,x,_,C,k,F,S,z,E,j,I,O,A,P,L,R,T,M,U,D,B,N,H,q,J,V,W,Z,G,K,X,Y=t[17].width+"",Q=t[17].height+"",tt=t[18].width+"",et=t[18].height+"",nt=`${t[0].top}px`,ot=`${t[0].left}px`;function it(t,e){return t[6]>=1.3?sn:1===t[6]?rn:t[6]>=.99&&t[6]<1.3?on:nn}function rt(t,e){return e===nn?function(t){const e=t.slice(),n=xn(1/e[3]);return e[30]=n,e}(t):t}o=new Le({props:{size:250}});let st=it(t),ct=st(rt(t,st)),at=t[5]&&un(t);function ut(t,e){return t[4].width>0&&t[4].height>0?dn:ln}let lt=ut(t),dt=lt(t);function ft(t,e){return t[4].weight>0?mn:t[16]?gn:hn}let pt=ft(t),gt=pt(t);function mt(t,e){return t[19]>0?yn:t[16]?wn:vn}let bt=mt(t),_t=bt(t);return W=new tn({}),{c(){e=yt("div"),n=yt("div"),ue(o.$$.fragment),i=xt(),r=yt("div"),s=yt("div"),c=yt("div"),a=yt("a"),u=$t(t[8]),l=xt(),ct.c(),d=xt(),at&&at.c(),f=xt(),p=yt("div"),h=yt("div"),g=yt("div"),g.textContent="Image File Dimensions",m=xt(),dt.c(),v=xt(),w=yt("div"),y=yt("div"),y.textContent="Expected Dimensions",b=xt(),$=yt("div"),x=$t(Y),_=$t(" x "),C=$t(Q),k=xt(),F=yt("div"),S=yt("div"),S.textContent="Size on screen",z=xt(),E=yt("div"),j=$t(tt),I=$t(" x "),O=$t(et),A=xt(),P=yt("div"),L=yt("div"),L.textContent="Image Size",R=xt(),T=yt("div"),gt.c(),M=xt(),U=yt("div"),D=yt("div"),D.textContent="Potential savings",B=xt(),N=yt("div"),_t.c(),H=xt(),q=yt("div"),J=yt("a"),V=$t("Learn how to improve site speed by optimizing images "),ue(W.$$.fragment),kt(n,"class","logo svelte-1c7o3v8"),kt(a,"href",t[5]),kt(a,"target","_blank noreferrer"),kt(a,"class","svelte-1c7o3v8"),kt(c,"class","title svelte-1c7o3v8"),kt(s,"class","description svelte-1c7o3v8"),kt(r,"class","preview svelte-1c7o3v8"),kt(g,"class","label"),kt(h,"class","row svelte-1c7o3v8"),kt(y,"class","label"),kt($,"class","value"),kt(w,"class","row svelte-1c7o3v8"),kt(S,"class","label"),kt(E,"class","value"),kt(F,"class","row svelte-1c7o3v8"),kt(L,"class","label"),kt(T,"class","value"),kt(P,"class","row svelte-1c7o3v8"),kt(D,"class","label"),kt(N,"class","value"),kt(U,"class","row svelte-1c7o3v8"),kt(J,"class","documentation svelte-1c7o3v8"),kt(J,"href",t[20]),kt(J,"target","_blank noreferrer"),kt(q,"class","info svelte-1c7o3v8"),kt(p,"class","meta"),kt(e,"class","jetpack-boost-guide-popup keep-guide-open svelte-1c7o3v8"),St(e,"top",nt),St(e,"left",ot)},m(Z,Y){vt(Z,e,Y),ht(e,n),le(o,n,null),ht(e,i),ht(e,r),ht(r,s),ht(s,c),ht(c,a),ht(a,u),ht(s,l),ct.m(s,null),ht(r,d),at&&at.m(r,null),ht(e,f),ht(e,p),ht(p,h),ht(h,g),ht(h,m),dt.m(h,null),ht(p,v),ht(p,w),ht(w,y),ht(w,b),ht(w,$),ht($,x),ht($,_),ht($,C),ht(p,k),ht(p,F),ht(F,S),ht(F,z),ht(F,E),ht(E,j),ht(E,I),ht(E,O),ht(p,A),ht(p,P),ht(P,L),ht(P,R),ht(P,T),gt.m(T,null),ht(p,M),ht(p,U),ht(U,D),ht(U,B),ht(U,N),_t.m(N,null),ht(p,H),ht(p,q),ht(q,J),ht(J,V),le(W,J,null),G=!0,K||(X=Ct(e,"mouseleave",t[23]),K=!0)},p(n,o){t=n,(!G||256&o[0])&&Ft(u,t[8]),(!G||32&o[0])&&kt(a,"href",t[5]),st===(st=it(t))&&ct?ct.p(rt(t,st),o):(ct.d(1),ct=st(rt(t,st)),ct&&(ct.c(),ct.m(s,null))),t[5]?at?at.p(t,o):(at=un(t),at.c(),at.m(r,null)):at&&(at.d(1),at=null),lt===(lt=ut(t))&&dt?dt.p(t,o):(dt.d(1),dt=lt(t),dt&&(dt.c(),dt.m(h,null))),(!G||131072&o[0])&&Y!==(Y=t[17].width+"")&&Ft(x,Y),(!G||131072&o[0])&&Q!==(Q=t[17].height+"")&&Ft(C,Q),(!G||262144&o[0])&&tt!==(tt=t[18].width+"")&&Ft(j,tt),(!G||262144&o[0])&&et!==(et=t[18].height+"")&&Ft(O,et),pt===(pt=ft(t))&&gt?gt.p(t,o):(gt.d(1),gt=pt(t),gt&&(gt.c(),gt.m(T,null))),bt===(bt=mt(t))&&_t?_t.p(t,o):(_t.d(1),_t=bt(t),_t&&(_t.c(),_t.m(N,null))),1&o[0]&&nt!==(nt=`${t[0].top}px`)&&St(e,"top",nt),1&o[0]&&ot!==(ot=`${t[0].left}px`)&&St(e,"left",ot)},i(t){G||(oe(o.$$.fragment,t),oe(W.$$.fragment,t),Z||Jt((()=>{Z=se(e,Oe,{duration:150,y:4,easing:Ee}),Z.start()})),G=!0)},o(t){ie(o.$$.fragment,t),ie(W.$$.fragment,t),G=!1},d(t){t&&wt(e),de(o),ct.d(),at&&at.d(),dt.d(),gt.d(),_t.d(),de(W),K=!1,X()}}}function $n(t){let e,n,o,i,r,s=!1,c=()=>{s=!1};return Jt(t[24]),n=new Ye({props:{$$slots:{default:[bn]},$$scope:{ctx:t}}}),{c(){ue(n.$$.fragment)},m(a,u){le(n,a,u),o=!0,i||(r=Ct(en,"scroll",(()=>{s=!0,clearTimeout(e),e=setTimeout(c,100),t[24]()})),i=!0)},p(t,o){2&o[0]&&!s&&(s=!0,clearTimeout(e),scrollTo(en.pageXOffset,t[1]),e=setTimeout(c,100));const i={};983549&o[0]|1&o[1]&&(i.$$scope={dirty:o,ctx:t}),n.$set(i)},i(t){o||(oe(n.$$.fragment,t),o=!0)},o(t){ie(n.$$.fragment,t),o=!1},d(t){de(n,t),i=!1,r()}}}function xn(t){return t%1==0?t:parseFloat(t.toFixed(2))}function _n(t,e,n){let o,i,r,s,c,a,u,l,d,f,p,h,g,m,v,w,y,b,$=Z,x=Z,_=Z,C=Z,k=Z,F=Z,S=Z;t.$$.on_destroy.push((()=>$())),t.$$.on_destroy.push((()=>x())),t.$$.on_destroy.push((()=>_())),t.$$.on_destroy.push((()=>C())),t.$$.on_destroy.push((()=>k())),t.$$.on_destroy.push((()=>F())),t.$$.on_destroy.push((()=>S()));let{store:z}=e,{size:E}=e,{position:j}=e,I=0,O=0,A=0;Tt((()=>{O=I,A=j.top}));const P=function(t,e={}){var n;const o={};let i;if("undefined"!=typeof window&&(i=null===(n=window.Initial_State)||void 0===n?void 0:n.calypsoEnv),0===t.search("https://")){const e=new URL(t);t=`https://${e.host}${e.pathname}`,o.url=encodeURIComponent(t)}else o.source=encodeURIComponent(t);return Object.keys(e).map((t=>{o[t]=encodeURIComponent(e[t])})),!Object.keys(o).includes("site")&&"undefined"!=typeof jetpack_redirects&&jetpack_redirects.hasOwnProperty("currentSiteRawUrl")&&(o.site=jetpack_redirects.currentSiteRawUrl),i&&(o.calypso_env=i),"https://jetpack.com/redirect/?"+Object.keys(o).map((t=>t+"="+o[t])).join("&")}("jetpack-support-boost-image-performance-guide");return t.$$set=t=>{"store"in t&&n(21,z=t.store),"size"in t&&n(22,E=t.size),"position"in t&&n(0,j=t.position)},t.$$.update=()=>{var e;2097152&t.$$.dirty[0]&&(n(15,o=z.loading),C(),C=ot(o,(t=>n(16,v=t)))),2097152&t.$$.dirty[0]&&(n(14,i=z.oversizedRatio),$(),$=ot(i,(t=>n(3,h=t)))),2097152&t.$$.dirty[0]&&(n(13,r=z.fileSize),x(),x=ot(r,(t=>n(4,g=t)))),2097152&t.$$.dirty[0]&&(n(12,s=z.sizeOnPage),F(),F=ot(s,(t=>n(18,y=t)))),2097152&t.$$.dirty[0]&&(n(11,c=z.potentialSavings),S(),S=ot(c,(t=>n(19,b=t)))),2097152&t.$$.dirty[0]&&(n(10,a=z.expectedSize),k(),k=ot(a,(t=>n(17,w=t)))),2097152&t.$$.dirty[0]&&(n(9,u=z.url),_(),_=ot(u,(t=>n(5,m=t)))),32&t.$$.dirty[0]&&n(8,l=m.split("/").pop()),32&t.$$.dirty[0]&&new URL(m).origin,4194304&t.$$.dirty[0]&&n(2,d="normal"===E?100:50),20&t.$$.dirty[0]&&n(7,f=Math.floor(d/(g.width/g.height))),8&t.$$.dirty[0]&&n(6,p=xn(h)),2&t.$$.dirty[0]&&0!==(e=I)&&O!==e&&n(0,j.top=A+(O-e),j)},new URL(window.location.href).origin,[j,I,d,h,g,m,p,f,l,u,a,c,s,r,i,o,v,w,y,b,P,z,E,function(e){Mt.call(this,t,e)},function(){n(1,I=en.pageYOffset)}]}class Cn extends he{constructor(t){super(),pe(this,t,_n,$n,tt,{store:21,size:22,position:0},null,[-1,-1])}}function kn(t,e,n){const o=t.slice();return o[10]=e[n],o[12]=n,o}function Fn(t){let e,n,o,i,r,s,c,a=t[0],u=[];for(let e=0;e<a.length;e+=1)u[e]=Sn(kn(t,a,e));const l=t=>ie(u[t],1,1,(()=>{u[t]=null}));let d=!1!==t[1]&&zn(t);return{c(){e=yt("div"),n=yt("div");for(let t=0;t<u.length;t+=1)u[t].c();o=xt(),d&&d.c(),kt(n,"class","previews svelte-1828btn"),kt(e,"class",i="guide "+t[3]+" svelte-1828btn"),zt(e,"show",!1!==t[1]),zt(e,"keep-guide-open",!1!==t[1])},m(i,a){vt(i,e,a),ht(e,n);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(n,null);ht(e,o),d&&d.m(e,null),r=!0,s||(c=Ct(e,"mouseleave",t[5]),s=!0)},p(t,o){if(129&o){let e;for(a=t[0],e=0;e<a.length;e+=1){const i=kn(t,a,e);u[e]?(u[e].p(i,o),oe(u[e],1)):(u[e]=Sn(i),u[e].c(),oe(u[e],1),u[e].m(n,null))}for(ee(),e=a.length;e<u.length;e+=1)l(e);ne()}!1!==t[1]?d?(d.p(t,o),2&o&&oe(d,1)):(d=zn(t),d.c(),oe(d,1),d.m(e,null)):d&&(ee(),ie(d,1,1,(()=>{d=null})),ne()),(!r||8&o&&i!==(i="guide "+t[3]+" svelte-1828btn"))&&kt(e,"class",i),(!r||10&o)&&zt(e,"show",!1!==t[1]),(!r||10&o)&&zt(e,"keep-guide-open",!1!==t[1])},i(t){if(!r){for(let t=0;t<a.length;t+=1)oe(u[t]);oe(d),r=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)ie(u[t]);ie(d),r=!1},d(t){t&&wt(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(u,t),d&&d.d(),s=!1,c()}}}function Sn(t){let e,n;return e=new Ge({props:{index:t[12],store:t[10]}}),e.$on("hover",t[7]),{c(){ue(e.$$.fragment)},m(t,o){le(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.store=t[10]),e.$set(o)},i(t){n||(oe(e.$$.fragment,t),n=!0)},o(t){ie(e.$$.fragment,t),n=!1},d(t){de(e,t)}}}function zn(t){let e,n;return e=new Cn({props:{store:t[0][t[1]],size:t[3],position:t[2]}}),e.$on("mouseleave",t[5]),{c(){ue(e.$$.fragment)},m(t,o){le(e,t,o),n=!0},p(t,n){const o={};3&n&&(o.store=t[0][t[1]]),8&n&&(o.size=t[3]),4&n&&(o.position=t[2]),e.$set(o)},i(t){n||(oe(e.$$.fragment,t),n=!0)},o(t){ie(e.$$.fragment,t),n=!1},d(t){de(e,t)}}}function En(t){let e,n,o="active"===t[4]&&Fn(t);return{c(){o&&o.c(),e=_t()},m(t,i){o&&o.m(t,i),vt(t,e,i),n=!0},p(t,[n]){"active"===t[4]?o?(o.p(t,n),16&n&&oe(o,1)):(o=Fn(t),o.c(),oe(o,1),o.m(e.parentNode,e)):o&&(ee(),ie(o,1,1,(()=>{o=null})),ne())},i(t){n||(oe(o),n=!0)},o(t){ie(o),n=!1},d(t){o&&o.d(t),t&&wt(e)}}}function jn(t,e,n){let o,i,r;rt(t,ke,(t=>n(4,r=t)));let{stores:s}=e,c=!1;Tt((()=>{s.forEach((t=>t.updateDimensions()))}));const a=s[0].sizeOnPage;rt(t,a,(t=>n(8,i=t)));let u={top:0,left:0};return t.$$set=t=>{"stores"in t&&n(0,s=t.stores)},t.$$.update=()=>{256&t.$$.dirty&&n(3,o=function(t=-1,e=-1){return t<200||e<200?"micro":t<400||e<400?"small":"normal"}(i.width,i.height)),2&t.$$.dirty&&function(t=!1){t?s.forEach((t=>t.node.classList.add("jetpack-boost-guide__backdrop"))):s.forEach((t=>t.node.classList.remove("jetpack-boost-guide__backdrop")))}(!1!==c)},[s,c,u,o,r,function(t){t.relatedTarget&&t.relatedTarget.classList.contains("keep-guide-open")||n(1,c=!1)},a,function(t){const e=t.detail,o=e.index;n(2,u=e.position),n(1,c=o)},i]}class In extends he{constructor(t){super(),pe(this,t,jn,En,tt,{stores:0})}}let On=0;function An(t){const e=t.node;if(!(t.node instanceof HTMLImageElement)&&["static","relative"].includes(getComputedStyle(e).position))return e.classList.contains("jetpack-boost-guide")||(e.classList.add("jetpack-boost-guide","relative"),e.dataset.jetpackBoostGuideId=(++On).toString()),e;if(!e.parentNode||!e.parentElement)return;const n=function(t){let e,n=t.parentElement;for(;n&&n instanceof HTMLElement&&n!==document.body;){const t=getComputedStyle(n),o="inline"!==t.display,i="static"===t.position,r="relative"===t.position,s="auto"!==t.zIndex;o&&(!e&&(i||r)||r&&s)&&(e=n),n=n.parentElement}return e}(e);if(null==n?void 0:n.classList.contains("jetpack-boost-guide"))return n;if(n){const e=getComputedStyle(n);if("relative"===e.position){const t=Array.from(n.children).find((t=>t.classList.contains("jetpack-boost-guide")));if(t&&t instanceof HTMLElement)return t}const o=document.createElement("div");return o.classList.add("jetpack-boost-guide"),o.dataset.jetpackBoostGuideId=(++On).toString(),"static"===e.position&&(n.style.position="relative"),t.node instanceof HTMLImageElement&&(o.style.top=`${t.node.offsetTop}px`),n.prepend(o),o}return e.parentElement}function Pn(t){let e,n,o,i,r,s,c,a,u,l;return n=new Le({}),{c(){e=yt("a"),ue(n.$$.fragment),o=xt(),i=yt("span"),r=$t("Image Guide: "),s=$t(t[2]),kt(e,"id","jetpack-boost-guide-bar"),kt(e,"href",t[0]),kt(e,"class",c="ab-item "+t[1]+" svelte-itog5b")},m(c,d){var f;vt(c,e,d),le(n,e,null),ht(e,o),ht(e,i),ht(i,r),ht(i,s),a=!0,u||(l=Ct(e,"click",(f=t[3],function(t){return t.preventDefault(),f.call(this,t)})),u=!0)},p(t,[n]){(!a||4&n)&&Ft(s,t[2]),(!a||1&n)&&kt(e,"href",t[0]),(!a||2&n&&c!==(c="ab-item "+t[1]+" svelte-itog5b"))&&kt(e,"class",c)},i(t){a||(oe(n.$$.fragment,t),a=!0)},o(t){ie(n.$$.fragment,t),a=!1},d(t){t&&wt(e),de(n),u=!1,l()}}}function Ln(t,e,n){let o,i;rt(t,ke,(t=>n(1,o=t))),rt(t,Fe,(t=>n(2,i=t)));let{href:r}=e;return t.$$set=t=>{"href"in t&&n(0,r=t.href)},[r,o,i,function(){ke.cycle(),Se.trackUIStateChange()}]}class Rn extends he{constructor(t){super(),pe(this,t,Ln,Pn,tt,{href:0})}}function Tn(e){return t(this,void 0,void 0,(function*(){if(!function(t){return new URL(t).origin===window.location.origin}(e)){const t=yield W({action:"boost_proxy_ig",proxy_url:e,nonce:jbImageGuide.proxyNonce},jbImageGuide.ajax_url);if(t.headers.get("content-type")&&-1!==t.headers.get("content-type").indexOf("application/json")){const e=yield t.clone().json();if(e&&e.data["content-length"]){const n=new Headers;for(const t in e.data)e.data.hasOwnProperty(t)&&n.set(t,e.data[t]);return new Response(t.body,{status:t.status,statusText:t.statusText,headers:n})}}}return yield fetch(e,{method:"HEAD",mode:"no-cors"})}))}document.addEventListener("DOMContentLoaded",(()=>{h.initialize(jetpackBoostAnalytics.tracksData.userData.userid,jetpackBoostAnalytics.tracksData.userData.username,{blog_id:jetpackBoostAnalytics.tracksData.blogId});const t=document.getElementById("wp-admin-bar-jetpack-boost-guide"),e=null==t?void 0:t.querySelector("a");if(t&&e){const n=e.getAttribute("href");e.remove(),new Rn({target:t,props:{href:n}})}}));const Mn=[];function Un(){Se.trackInitialState(),ke.subscribe((e=>t(this,void 0,void 0,(function*(){if("paused"===e)return;const t=y(Array.from(document.querySelectorAll("body *:not(.jetpack-boost-guide > *):not(.jetpack-boost-guide)")),Tn),n=t.filter((t=>{const{width:e,height:n}=t.getSizeOnPage();return!(!e||!n)&&e>=65&&n>=65}));Mn.push(...function(t){const e=t.reduce(((t,e)=>{var n;if(!e.node.parentNode)return console.error("Image has no parent",e.node),t;const o=An(e);if(!o)return console.error("Could not find a parent for image",e),t;const i=parseInt(o.dataset.jetpackBoostGuideId||""),r=(null===(n=t[i])||void 0===n?void 0:n.props.stores)||[],s=new ze(e);return r.push(s),1===r.length&&(t[i]={target:o,intro:!0,props:{stores:r}}),t}),{});return Object.values(e).map((t=>(new In(t),t.props.stores))).flat()}(n)),Se.trackPage(Mn)}))))}window.frameElement||window.addEventListener("load",(()=>{Un(),window.addEventListener("resize",function(){let t;return()=>{t&&clearTimeout(t),t=setTimeout((()=>{Mn.forEach((t=>{t.updateDimensions()}))}),500)}}())}))}();
