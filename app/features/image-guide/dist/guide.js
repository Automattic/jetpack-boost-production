!function(){"use strict";function e(e,t,n,o){return new(n||(n=Promise))((function(i,s){function r(e){try{a(o.next(e))}catch(e){s(e)}}function c(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}a((o=o.apply(e,t||[])).next())}))}class t{node;getURLCallback;constructor(e,t){this.node=e,this.getURLCallback=t}getURL(){return this.getURLCallback(this.node)}getSizeOnPage(){const{width:e,height:t}=this.node.getBoundingClientRect();return{width:Math.round(e),height:Math.round(t)}}async getFileSize(e){const[t,{width:n,height:o}]=await Promise.all([this.fetchFileWeight(e),this.fetchFileDimensions(e)]);return{width:n,height:o,weight:t}}getPotentialSavings(e,t){const n=this.getOversizedRatio(e,t);return n<=1?null:Math.round(e.weight-e.weight/n)}getExpectedSize(e){const t=window.devicePixelRatio||1;return{width:Math.round(e.width*t),height:Math.round(e.height*t)}}getOversizedRatio(e,t){const{width:n,height:o}=this.getExpectedSize(t);return e.width*e.height/(n*o)}async fetchFileWeight(e){const t=await fetch(e,{method:"HEAD",mode:"no-cors"});if(!t.url)return console.log(`Can't get image size for ${e} likely due to a CORS error.`),-1;const n=t.headers.get("content-length");return n?parseInt(n,10)/1024:-1}async fetchFileDimensions(e){const t=new Image;return t.src=e,new Promise((e=>{t.onload=()=>{e({width:Math.round(t.width),height:Math.round(t.height)})},t.onerror=()=>{e({width:-1,height:-1})}}))}}function n(e){return s(e.currentSrc)?e.currentSrc:s(e.src)?e.src:null}function o(e){const t=getComputedStyle(e).backgroundImage.match(/url\(.?(.*?).?\)/i);if(t&&t[1]&&s(t[1]))return t[1]}function i(e){return function(e){return e.filter((e=>e instanceof HTMLImageElement||e instanceof HTMLElement&&"none"!==getComputedStyle(e).backgroundImage))}(e).map((e=>e instanceof HTMLImageElement?new t(e,n):e instanceof HTMLElement&&o(e)?new t(e,o):null)).filter((e=>null!==e))}function s(e){if(e.startsWith("/")){return!e.split("?")[0].endsWith(".svg")}try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(e){return!1}}function r(){}const c=e=>e;function a(e,t,n,o,i){e.__svelte_meta={loc:{file:t,line:n,column:o,char:i}}}function l(e){return e()}function u(){return Object.create(null)}function d(e){e.forEach(l)}function f(e){return"function"==typeof e}function p(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let h;function g(e,t){return h||(h=document.createElement("a")),h.href=t,e===h.href}function m(e,t){if(null!=e&&"function"!=typeof e.subscribe)throw new Error(`'${t}' is not a store with a 'subscribe' method`)}function $(e,...t){if(null==e)return r;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function w(e){let t;return $(e,(e=>t=e))(),t}function v(e,t,n){e.$$.on_destroy.push($(t,n))}const b="undefined"!=typeof window;let y=b?()=>window.performance.now():()=>Date.now(),k=b?e=>requestAnimationFrame(e):r;const x=new Set;function S(e){x.forEach((t=>{t.c(e)||(x.delete(t),t.f())})),0!==x.size&&k(S)}function z(e){let t;return 0===x.size&&k(S),{promise:new Promise((n=>{x.add(t={c:e,f:n})})),abort(){x.delete(t)}}}function j(e,t){e.appendChild(t)}function _(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function R(e){const t=O("style");return function(e,t){j(e.head||e,t),t.sheet}(_(e),t),t.sheet}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function O(e){return document.createElement(e)}function B(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function P(e){return document.createTextNode(e)}function L(){return P(" ")}function C(){return P("")}function M(e,t,n,o){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function A(e,t,n){e.classList[n?"add":"remove"](t)}function T(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}const I=new Map;let N,U=0;function D(e,t,n,o,i,s,r,c=0){const a=16.666/o;let l="{\n";for(let e=0;e<=1;e+=a){const o=t+(n-t)*s(e);l+=100*e+`%{${r(o,1-o)}}\n`}const u=l+`100% {${r(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${c}`,f=_(e),{stylesheet:p,rules:h}=I.get(f)||function(e,t){const n={stylesheet:R(t),rules:{}};return I.set(e,n),n}(f,e);h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${d} ${o}ms linear ${i}ms 1 both`,U+=1,d}function J(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-o.length;i&&(e.style.animation=o.join(", "),U-=i,U||k((()=>{U||(I.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&E(t)})),I.clear())})))}function H(e){N=e}function W(e){(function(){if(!N)throw new Error("Function called outside component initialization");return N})().$$.on_mount.push(e)}function F(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const G=[],V=[],q=[],X=[],Z=Promise.resolve();let K=!1;function Y(e){q.push(e)}const Q=new Set;let ee,te=0;function ne(){const e=N;do{for(;te<G.length;){const e=G[te];te++,H(e),oe(e.$$)}for(H(null),G.length=0,te=0;V.length;)V.pop()();for(let e=0;e<q.length;e+=1){const t=q[e];Q.has(t)||(Q.add(t),t())}q.length=0}while(G.length);for(;X.length;)X.pop()();K=!1,Q.clear(),H(e)}function oe(e){if(null!==e.fragment){e.update(),d(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Y)}}function ie(){return ee||(ee=Promise.resolve(),ee.then((()=>{ee=null}))),ee}function se(e,t,n){e.dispatchEvent(T(`${t?"intro":"outro"}${n}`))}const re=new Set;let ce;function ae(){ce={r:0,c:[],p:ce}}function le(){ce.r||d(ce.c),ce=ce.p}function ue(e,t){e&&e.i&&(re.delete(e),e.i(t))}function de(e,t,n,o){if(e&&e.o){if(re.has(e))return;re.add(e),ce.c.push((()=>{re.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const fe={duration:0};function pe(e,t,n){let o,i,s=t(e,n),a=!1,l=0;function u(){o&&J(e,o)}function d(){const{delay:t=0,duration:n=300,easing:d=c,tick:f=r,css:p}=s||fe;p&&(o=D(e,0,1,n,t,d,p,l++)),f(0,1);const h=y()+t,g=h+n;i&&i.abort(),a=!0,Y((()=>se(e,!0,"start"))),i=z((t=>{if(a){if(t>=g)return f(1,0),se(e,!0,"end"),u(),a=!1;if(t>=h){const e=d((t-h)/n);f(e,1-e)}}return a}))}let p=!1;return{start(){p||(p=!0,J(e),f(s)?(s=s(),ie().then(d)):d())},invalidate(){p=!1},end(){a&&(u(),a=!1)}}}function he(e,t,n,o){let i=t(e,n),s=o?0:1,a=null,l=null,u=null;function p(){u&&J(e,u)}function h(e,t){const n=e.b-s;return t*=Math.abs(n),{a:s,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function g(t){const{delay:n=0,duration:o=300,easing:f=c,tick:g=r,css:m}=i||fe,$={start:y()+n,b:t};t||($.group=ce,ce.r+=1),a||l?l=$:(m&&(p(),u=D(e,s,t,o,n,f,m)),t&&g(0,1),a=h($,o),Y((()=>se(e,t,"start"))),z((t=>{if(l&&t>l.start&&(a=h(l,o),l=null,se(e,a.b,"start"),m&&(p(),u=D(e,s,a.b,a.duration,0,f,i.css))),a)if(t>=a.end)g(s=a.b,1-s),se(e,a.b,"end"),l||(a.b?p():--a.group.r||d(a.group.c)),a=null;else if(t>=a.start){const e=t-a.start;s=a.a+a.d*f(e/a.duration),g(s,1-s)}return!(!a&&!l)})))}return{run(e){f(i)?ie().then((()=>{i=i(),g(e)})):g(e)},end(){p(),a=l=null}}}function ge(e){e&&e.c()}function me(e,t,n,o){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),o||Y((()=>{const t=e.$$.on_mount.map(l).filter(f);e.$$.on_destroy?e.$$.on_destroy.push(...t):d(t),e.$$.on_mount=[]})),s.forEach(Y)}function $e(e,t){const n=e.$$;null!==n.fragment&&(d(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function we(e,t){-1===e.$$.dirty[0]&&(G.push(e),K||(K=!0,Z.then(ne)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ve(e,t,n,o,i,s,c,a=[-1]){const l=N;H(e);const f=e.$$={fragment:null,ctx:[],props:s,update:r,not_equal:i,bound:u(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:u(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};c&&c(f.root);let p=!1;if(f.ctx=n?n(e,t.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return f.ctx&&i(f.ctx[t],f.ctx[t]=s)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](s),p&&we(e,t)),n})):[],f.update(),p=!0,d(f.before_update),f.fragment=!!o&&o(f.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);f.fragment&&f.fragment.l(e),e.forEach(E)}else f.fragment&&f.fragment.c();t.intro&&ue(e.$$.fragment),me(e,t.target,t.anchor,t.customElement),ne()}H(l)}class be{$destroy(){$e(this,1),this.$destroy=r}$on(e,t){if(!f(t))return r;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ye(e,t){document.dispatchEvent(T(e,Object.assign({version:"3.53.1"},t),{bubbles:!0}))}function ke(e,t){ye("SvelteDOMInsert",{target:e,node:t}),j(e,t)}function xe(e,t,n){ye("SvelteDOMInsert",{target:e,node:t,anchor:n}),function(e,t,n){e.insertBefore(t,n||null)}(e,t,n)}function Se(e){ye("SvelteDOMRemove",{node:e}),E(e)}function ze(e,t,n,o,i,s){const r=!0===o?["capture"]:o?Array.from(Object.keys(o)):[];i&&r.push("preventDefault"),s&&r.push("stopPropagation"),ye("SvelteDOMAddEventListener",{node:e,event:t,handler:n,modifiers:r});const c=function(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}(e,t,n,o);return()=>{ye("SvelteDOMRemoveEventListener",{node:e,event:t,handler:n,modifiers:r}),c()}}function je(e,t,n){!function(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}(e,t,n),null==n?ye("SvelteDOMRemoveAttribute",{node:e,attribute:t}):ye("SvelteDOMSetAttribute",{node:e,attribute:t,value:n})}function _e(e,t){t=""+t,e.wholeText!==t&&(ye("SvelteDOMSetData",{node:e,data:t}),e.data=t)}function Re(e){if(!("string"==typeof e||e&&"object"==typeof e&&"length"in e)){let t="{#each} only iterates over array-like objects.";throw"function"==typeof Symbol&&e&&Symbol.iterator in e&&(t+=" You can use a spread to convert this iterable into an array."),new Error(t)}}function Ee(e,t,n){for(const o of Object.keys(t))~n.indexOf(o)||console.warn(`<${e}> received an unexpected slot "${o}".`)}class Oe extends be{constructor(e){if(!e||!e.target&&!e.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}const Be=[];function Pe(e,t=r){let n;const o=new Set;function i(t){if(p(e,t)&&(e=t,n)){const t=!Be.length;for(const t of o)t[1](),Be.push(t,e);if(t){for(let e=0;e<Be.length;e+=2)Be[e][0](Be[e+1]);Be.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,c=r){const a=[s,c];return o.add(a),1===o.size&&(n=t(i)||r),s(e),()=>{o.delete(a),0===o.size&&(n(),n=null)}}}}function Le(e,t,n){const o=!Array.isArray(e),i=o?[e]:e,s=t.length<2;return c=e=>{let n=!1;const c=[];let a=0,l=r;const u=()=>{if(a)return;l();const n=t(o?c[0]:c,e);s?e(n):l=f(n)?n:r},p=i.map(((e,t)=>$(e,(e=>{c[t]=e,a&=~(1<<t),n&&u()}),(()=>{a|=1<<t}))));return n=!0,u(),function(){d(p),l()}},{subscribe:Pe(n,c).subscribe};var c}function Ce(t,n){return e(this,void 0,void 0,(function*(){const e={};return"undefined"!=typeof Jetpack_Boost&&("version"in Jetpack_Boost&&(e.boost_version=Jetpack_Boost.version),"connection"in Jetpack_Boost&&(e.jetpack_connection=Jetpack_Boost.connection.connected?"connected":"disconnected"),"optimizations"in Jetpack_Boost&&(e.optimizations=JSON.stringify(Jetpack_Boost.optimizations))),n=Object.assign(Object.assign({},e),n),new Promise((e=>{"undefined"!=typeof jpTracksAJAX&&"function"==typeof jpTracksAJAX.record_ajax_event?jpTracksAJAX.record_ajax_event(`boost_${t}`,"click",n).done(e).fail((n=>{console.log(`Recording event 'boost_${t}' failed with error: ${n.responseText}`),e()})):(console.log("Invalid jpTracksAJAX object."),e())}))}))}const Me="jetpack-boost-guide",Ae={active:"Active",always_on:"Always On",paused:"Paused"};let Te=localStorage.getItem(Me);Te&&Ae[Te]||(localStorage.setItem(Me,"Active"),Te="active");const{set:Ie,update:Ne,subscribe:Ue}=Pe(Te);Ue((e=>{localStorage.setItem(Me,e)}));const De={subscribe:Ue,set:Ie,update:Ne,cycle:()=>{Ne((e=>{const t=Object.keys(Ae),n=t.indexOf(e);return t[(n+1)%t.length]}))}},Je=Le(De,(e=>Ae[e]));class He{static trackImageOutcome(t){return e(this,void 0,void 0,(function*(){return new Promise((e=>{t.loading.subscribe((n=>{if(!n){const n=w(t.oversizedRatio),o=n>4?"red":n>2.5?"yellow":"green",i=w(t.fileSize),s=w(t.sizeOnPage),r=w(t.expectedSize),c=w(t.potentialSavings),a=w(t.url),l={severity:o,oversizedRatio:n,fileWeight:i.weight,fileWidth:i.width,fileHeight:i.height,sizeOnPageWidth:s.width,sizeOnPageHeight:s.height,expectedWidth:r.width,expectedHeight:r.height,potentialSavings:c,imageURL:a};Ce("image_guide_image_outcome",Object.assign(Object.assign({},l),{windowWidth:window.innerWidth,windowHeight:window.innerHeight,devicePixelRatio:window.devicePixelRatio})),e(l)}}))}))}))}static trackPage(t){return e(this,void 0,void 0,(function*(){if(!t.length||He.trackingComplete)return;He.trackingComplete=!0;const e=t.map(He.trackImageOutcome),n=yield Promise.all(e);Ce("image_guide_page_outcome",{totalPotentialSavings:n.reduce(((e,t)=>e+(t.potentialSavings||0)),0),redSeverityCount:n.filter((e=>"red"===e.severity)).length,yellowSeverityCount:n.filter((e=>"yellow"===e.severity)).length,greenSeverityCount:n.filter((e=>"green"===e.severity)).length,windowWidth:window.innerWidth,windowHeight:window.innerHeight,devicePixelRatio:window.devicePixelRatio})}))}static trackInitialState(){Ce("image_guide_initial_ui_state",{imageGuideState:w(De)})}static trackUIStateChange(){Ce("image_guide_ui_state_change",{imageGuideState:w(De)})}}He.trackingComplete=!1;class We{constructor(e){this.loading=Pe(!0),this.currentSrc="",this.image=e,this.node=e.node;this.url=Pe(e.getURL()),this.fileSize=Pe({width:0,height:0,weight:0}),this.sizeOnPage=Pe({width:0,height:0}),this.potentialSavings=this.derivePotentialSavings(),this.oversizedRatio=this.deriveOversizedRatio(),this.expectedSize=this.deriveExpectedSize()}deriveOversizedRatio(){return Le([this.fileSize,this.sizeOnPage],(([e,t])=>this.image.getOversizedRatio(e,t)))}deriveExpectedSize(){return Le(this.sizeOnPage,(e=>this.image.getExpectedSize(e)))}derivePotentialSavings(){return Le([this.fileSize,this.sizeOnPage],(([e,t])=>this.image.getPotentialSavings(e,t)))}updateDimensions(){return e(this,void 0,void 0,(function*(){const e=this.image.getSizeOnPage();this.sizeOnPage.set(e),yield this.maybeUpdateWeight()}))}maybeUpdateWeight(){return e(this,void 0,void 0,(function*(){if(this.image.getURL()===this.currentSrc)return;this.loading.set(!0),this.currentSrc=this.image.getURL();const e=yield this.image.getFileSize(this.currentSrc);this.url.set(this.currentSrc),this.fileSize.set(e),this.loading.set(!1)}))}}function Fe(e){const t=1.70158;return--e*e*((t+1)*e+t)+1}function Ge(e){const t=e-1;return t*t*t+1}function Ve(e,{delay:t=0,duration:n=400,easing:o=c}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:o,css:e=>"opacity: "+e*i}}function qe(e,{delay:t=0,duration:n=400,easing:o=Ge,x:i=0,y:s=0,opacity:r=0}={}){const c=getComputedStyle(e),a=+c.opacity,l="none"===c.transform?"":c.transform,u=a*(1-r);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${l} translate(${(1-e)*i}px, ${(1-e)*s}px);\n\t\t\topacity: ${a-u*t}`}}const Xe="app/features/image-guide/src/ui/JetpackLogo.svelte";function Ze(e){let t,n,o,i,s;const c={c:function(){t=O("div"),n=B("svg"),o=B("path"),i=B("path"),s=B("path"),je(o,"d","M55.4 107.8C84.3397 107.8 107.8 84.3397 107.8 55.4C107.8 26.4603 84.3397 3 55.4 3C26.4603 3 3 26.4603 3 55.4C3 84.3397 26.4603 107.8 55.4 107.8Z"),je(o,"fill",e[1]),a(o,Xe,6,2,205),je(i,"d","M58 46.6V97.4L84.2 46.6H58Z"),je(i,"fill","white"),a(i,Xe,10,2,383),je(s,"d","M52.7 64.1V13.4L26.6 64.1H52.7Z"),je(s,"fill","white"),a(s,Xe,11,2,439),je(n,"viewBox","0 0 110 110"),je(n,"fill","none"),je(n,"xmlns","http://www.w3.org/2000/svg"),a(n,Xe,5,1,128),M(t,"width",e[0]+"px"),M(t,"height",e[0]+"px"),je(t,"class","svelte-8mh1rw"),a(t,Xe,4,0,78)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){xe(e,t,r),ke(t,n),ke(n,o),ke(n,i),ke(n,s)},p:function(e,[n]){2&n&&je(o,"fill",e[1]),1&n&&M(t,"width",e[0]+"px"),1&n&&M(t,"height",e[0]+"px")},i:r,o:r,d:function(e){e&&Se(t)}};return ye("SvelteRegisterBlock",{block:c,id:Ze.name,type:"component",source:"",ctx:e}),c}function Ke(e,t,n){let{$$slots:o={},$$scope:i}=t;Ee("JetpackLogo",o,[]);let{size:s=16}=t,{bg:r="#069E08"}=t;const c=["size","bg"];return Object.keys(t).forEach((e=>{~c.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<JetpackLogo> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,s=e.size),"bg"in e&&n(1,r=e.bg)},e.$capture_state=()=>({size:s,bg:r}),e.$inject_state=e=>{"size"in e&&n(0,s=e.size),"bg"in e&&n(1,r=e.bg)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[s,r]}class Ye extends Oe{constructor(e){super(e),ve(this,e,Ke,Ze,p,{size:0,bg:1}),ye("SvelteRegisterComponent",{component:this,tagName:"JetpackLogo",options:e,id:Ze.name})}get size(){throw new Error("<JetpackLogo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<JetpackLogo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get bg(){throw new Error("<JetpackLogo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set bg(e){throw new Error("<JetpackLogo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function Qe(e){let t,n,o,i;n=new Ye({props:{size:12,bg:"transparent"},$$inline:!0});const s={c:function(){t=O("div"),ge(n.$$.fragment),je(t,"class","spinner svelte-2eb8gc"),a(t,"app/features/image-guide/src/ui/Spinner.svelte",4,0,119)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,o){xe(e,t,o),me(n,t,null),i=!0},p:r,i:function(e){i||(ue(n.$$.fragment,e),o&&o.end(1),i=!0)},o:function(e){de(n.$$.fragment,e),o=function(e,t,n){let o,i=t(e,n),s=!0;const a=ce;function l(){const{delay:t=0,duration:n=300,easing:l=c,tick:u=r,css:f}=i||fe;f&&(o=D(e,1,0,n,t,l,f));const p=y()+t,h=p+n;Y((()=>se(e,!1,"start"))),z((t=>{if(s){if(t>=h)return u(0,1),se(e,!1,"end"),--a.r||d(a.c),!1;if(t>=p){const e=l((t-p)/n);u(1-e,e)}}return s}))}return a.r+=1,f(i)?ie().then((()=>{i=i(),l()})):l(),{end(t){t&&i.tick&&i.tick(1,0),s&&(o&&J(e,o),s=!1)}}}(t,Ve,{duration:300}),i=!1},d:function(e){e&&Se(t),$e(n),e&&o&&o.end()}};return ye("SvelteRegisterBlock",{block:s,id:Qe.name,type:"component",source:"",ctx:e}),s}function et(e,t,n){let{$$slots:o={},$$scope:i}=t;Ee("Spinner",o,[]);const s=[];return Object.keys(t).forEach((e=>{~s.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Spinner> was created with unknown prop '${e}'`)})),e.$capture_state=()=>({fade:Ve,JetpackLogo:Ye}),[]}class tt extends Oe{constructor(e){super(e),ve(this,e,et,Qe,p,{}),ye("SvelteRegisterComponent",{component:this,tagName:"Spinner",options:e,id:Qe.name})}}const nt="app/features/image-guide/src/ui/assets/Checkmark.svelte";function ot(e){let t,n;const o={c:function(){t=B("svg"),n=B("path"),je(n,"stroke-linecap","round"),je(n,"stroke-linejoin","round"),je(n,"stroke-width","2"),je(n,"d","M5 13l4 4L19 7"),a(n,nt,8,2,135),je(t,"class","w-6 h-6 svelte-1v7xz6y"),je(t,"fill","none"),je(t,"stroke","white"),je(t,"width","18"),je(t,"height","18"),je(t,"viewBox","0 0 24 24"),je(t,"xmlns","http://www.w3.org/2000/svg"),a(t,nt,0,0,0)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,o){xe(e,t,o),ke(t,n)},p:r,i:r,o:r,d:function(e){e&&Se(t)}};return ye("SvelteRegisterBlock",{block:o,id:ot.name,type:"component",source:"",ctx:e}),o}function it(e,t){let{$$slots:n={},$$scope:o}=t;Ee("Checkmark",n,[]);const i=[];return Object.keys(t).forEach((e=>{~i.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Checkmark> was created with unknown prop '${e}'`)})),[]}class st extends Oe{constructor(e){super(e),ve(this,e,it,ot,p,{}),ye("SvelteRegisterComponent",{component:this,tagName:"Checkmark",options:e,id:ot.name})}}const rt="app/features/image-guide/src/ui/Bubble.svelte";function ct(e){let t,n,o;n=new tt({$$inline:!0});const i={c:function(){t=O("div"),ge(n.$$.fragment),je(t,"class","bubble-inner svelte-pxjt9k"),a(t,rt,37,3,1109)},m:function(e,i){xe(e,t,i),me(n,t,null),o=!0},p:r,i:function(e){o||(ue(n.$$.fragment,e),o=!0)},o:function(e){de(n.$$.fragment,e),o=!1},d:function(e){e&&Se(t),$e(n)}};return ye("SvelteRegisterBlock",{block:i,id:ct.name,type:"else",source:"(37:2) {:else}",ctx:e}),i}function at(e){let t,n,o,i,s,r;const c=[dt,ut,lt],l=[];function u(e,t){return e[0]>9?0:e[0]>.99?1:2}o=u(e),i=l[o]=c[o](e);const d={c:function(){t=O("div"),n=O("div"),i.c(),je(n,"class","label"),a(n,rt,22,4,708),je(t,"class","bubble-inner svelte-pxjt9k"),a(t,rt,21,3,677)},m:function(e,i){xe(e,t,i),ke(t,n),l[o].m(n,null),r=!0},p:function(e,t){let s=o;o=u(e),o===s?l[o].p(e,t):(ae(),de(l[s],1,1,(()=>{l[s]=null})),le(),i=l[o],i?i.p(e,t):(i=l[o]=c[o](e),i.c()),ue(i,1),i.m(n,null))},i:function(e){r||(ue(i),s||Y((()=>{s=pe(n,Ve,{delay:200,duration:300}),s.start()})),r=!0)},o:function(e){de(i),r=!1},d:function(e){e&&Se(t),l[o].d()}};return ye("SvelteRegisterBlock",{block:d,id:at.name,type:"if",source:"(21:2) {#if false === $isLoading}",ctx:e}),d}function lt(e){let t,n;const o={c:function(){t=O("span"),t.textContent="<",n=P(" 1x"),M(t,"font-size","0.75em"),a(t,rt,32,6,1016)},m:function(e,o){xe(e,t,o),xe(e,n,o)},p:r,i:r,o:r,d:function(e){e&&Se(t),e&&Se(n)}};return ye("SvelteRegisterBlock",{block:o,id:lt.name,type:"else",source:"(32:5) {:else}",ctx:e}),o}function ut(e){let t,n,o,i;const s=[pt,ft],r=[];function c(e,t){return"normal"===e[1]?0:1}t=c(e),n=r[t]=s[t](e);const a={c:function(){n.c(),o=C()},m:function(e,n){r[t].m(e,n),xe(e,o,n),i=!0},p:function(e,i){let a=t;t=c(e),t===a?r[t].p(e,i):(ae(),de(r[a],1,1,(()=>{r[a]=null})),le(),n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),ue(n,1),n.m(o.parentNode,o))},i:function(e){i||(ue(n),i=!0)},o:function(e){de(n),i=!1},d:function(e){r[t].d(e),e&&Se(o)}};return ye("SvelteRegisterBlock",{block:a,id:ut.name,type:"if",source:"(26:38) ",ctx:e}),a}function dt(e){let t,n,o=Math.floor(e[0])+"";const i={c:function(){t=P(o),n=P("x")},m:function(e,o){xe(e,t,o),xe(e,n,o)},p:function(e,n){1&n&&o!==(o=Math.floor(e[0])+"")&&_e(t,o)},i:r,o:r,d:function(e){e&&Se(t),e&&Se(n)}};return ye("SvelteRegisterBlock",{block:i,id:dt.name,type:"if",source:"(24:5) {#if $oversizedRatio > 9}",ctx:e}),i}function ft(e){let t,n,o=e[0].toFixed(1)+"";const i={c:function(){t=P(o),n=P("x")},m:function(e,o){xe(e,t,o),xe(e,n,o)},p:function(e,n){1&n&&o!==(o=e[0].toFixed(1)+"")&&_e(t,o)},i:r,o:r,d:function(e){e&&Se(t),e&&Se(n)}};return ye("SvelteRegisterBlock",{block:i,id:ft.name,type:"else",source:"(29:6) {:else}",ctx:e}),i}function pt(e){let t,n;t=new st({$$inline:!0});const o={c:function(){ge(t.$$.fragment)},m:function(e,o){me(t,e,o),n=!0},p:r,i:function(e){n||(ue(t.$$.fragment,e),n=!0)},o:function(e){de(t.$$.fragment,e),n=!1},d:function(e){$e(t,e)}};return ye("SvelteRegisterBlock",{block:o,id:pt.name,type:"if",source:"(27:6) {#if severity === 'normal'}",ctx:e}),o}function ht(e){let t,n,o,i,s,r,c,l,u;const d=[at,ct],f=[];function p(e,t){return!1===e[2]?0:1}o=p(e),i=f[o]=d[o](e);const h={c:function(){t=O("div"),n=O("div"),i.c(),je(n,"class","bubble svelte-pxjt9k"),a(n,rt,19,1,624),je(t,"class",s="interaction-area "+e[1]+" svelte-pxjt9k"),a(t,rt,18,0,534)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(i,s){xe(i,t,s),ke(t,n),f[o].m(n,null),c=!0,l||(u=ze(t,"mouseenter",e[8],!1,!1,!1),l=!0)},p:function(r,[a]){let l=o;o=p(e=r),o===l?f[o].p(e,a):(ae(),de(f[l],1,1,(()=>{f[l]=null})),le(),i=f[o],i?i.p(e,a):(i=f[o]=d[o](e),i.c()),ue(i,1),i.m(n,null)),(!c||2&a&&s!==(s="interaction-area "+e[1]+" svelte-pxjt9k"))&&je(t,"class",s)},i:function(n){c||(ue(i),Y((()=>{r||(r=he(t,qe,e[5],!0)),r.run(1)})),c=!0)},o:function(n){de(i),r||(r=he(t,qe,e[5],!1)),r.run(0),c=!1},d:function(e){e&&Se(t),f[o].d(),e&&r&&r.end(),l=!1,u()}};return ye("SvelteRegisterBlock",{block:h,id:ht.name,type:"component",source:"",ctx:e}),h}function gt(e,t,n){let o,i,{$$slots:s={},$$scope:r}=t;Ee("Bubble",s,[]);let c,{index:a}=t,{store:l}=t;const u=l.oversizedRatio;m(u,"oversizedRatio"),v(e,u,(e=>n(0,o=e)));const d=l.loading;m(d,"isLoading"),v(e,d,(e=>n(2,i=e)));const f={delay:150+50*a,duration:250,y:2,easing:Fe};e.$$.on_mount.push((function(){void 0!==a||"index"in t||e.$$.bound[e.$$.props.index]||console.warn("<Bubble> was created without expected prop 'index'"),void 0!==l||"store"in t||e.$$.bound[e.$$.props.store]||console.warn("<Bubble> was created without expected prop 'store'")}));const p=["index","store"];return Object.keys(t).forEach((e=>{~p.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Bubble> was created with unknown prop '${e}'`)})),e.$$set=e=>{"index"in e&&n(6,a=e.index),"store"in e&&n(7,l=e.store)},e.$capture_state=()=>({backOut:Fe,fade:Ve,fly:qe,Spinner:tt,Checkmark:st,index:a,store:l,severity:c,oversizedRatio:u,isLoading:d,scaleTransition:f,$oversizedRatio:o,$isLoading:i}),e.$inject_state=e=>{"index"in e&&n(6,a=e.index),"store"in e&&n(7,l=e.store),"severity"in e&&n(1,c=e.severity)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{1&e.$$.dirty&&n(1,c=o>4?"high":o>2.5?"medium":"normal")},[o,c,i,u,d,f,a,l,function(t){F.call(this,e,t)}]}class mt extends Oe{constructor(e){super(e),ve(this,e,gt,ht,p,{index:6,store:7}),ye("SvelteRegisterComponent",{component:this,tagName:"Bubble",options:e,id:ht.name})}get index(){throw new Error("<Bubble>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set index(e){throw new Error("<Bubble>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get store(){throw new Error("<Bubble>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set store(e){throw new Error("<Bubble>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const $t="app/features/image-guide/src/ui/assets/External.svelte";function wt(e){let t,n;const o={c:function(){t=B("svg"),n=B("path"),je(n,"d","M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"),a(n,$t,1,1,62),je(t,"xmlns","http://www.w3.org/2000/svg"),je(t,"viewBox","0 0 24 24"),je(t,"class","svelte-1raif77"),a(t,$t,0,0,0)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,o){xe(e,t,o),ke(t,n)},p:r,i:r,o:r,d:function(e){e&&Se(t)}};return ye("SvelteRegisterBlock",{block:o,id:wt.name,type:"component",source:"",ctx:e}),o}function vt(e,t){let{$$slots:n={},$$scope:o}=t;Ee("External",n,[]);const i=[];return Object.keys(t).forEach((e=>{~i.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<External> was created with unknown prop '${e}'`)})),[]}class bt extends Oe{constructor(e){super(e),ve(this,e,vt,wt,p,{}),ye("SvelteRegisterComponent",{component:this,tagName:"External",options:e,id:wt.name})}}const yt="app/features/image-guide/src/ui/Popup.svelte";function kt(e){let t,n,o,i,s=e[23]+"";const r={c:function(){t=O("div"),n=P("The image file is "),o=P(s),i=P("x smaller than expected on this screen. This might be fine,\n\t\t\t\t\tbut you may want to check if the image appears blurry."),je(t,"class","explanation svelte-1mel0jj"),a(t,yt,63,4,2341)},m:function(e,s){xe(e,t,s),ke(t,n),ke(t,o),ke(t,i)},p:function(e,t){2&t&&s!==(s=e[23]+"")&&_e(o,s)},d:function(e){e&&Se(t)}};return ye("SvelteRegisterBlock",{block:r,id:kt.name,type:"else",source:"(62:3) {:else}",ctx:e}),r}function xt(e){let t,n,o=e[4]>1&&jt(e);const i={c:function(){t=O("div"),n=P("The image size is very close to the size it appears in the browser.\n\t\t\t\t\t"),o&&o.c(),je(t,"class","explanation svelte-1mel0jj"),a(t,yt,54,4,1981)},m:function(e,i){xe(e,t,i),ke(t,n),o&&o.m(t,null)},p:function(e,n){e[4]>1?o?o.p(e,n):(o=jt(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d:function(e){e&&Se(t),o&&o.d()}};return ye("SvelteRegisterBlock",{block:i,id:xt.name,type:"if",source:"(54:42) ",ctx:e}),i}function St(e){let t;const n={c:function(){t=O("div"),t.textContent="The image is exactly the correct size for this screen.",je(t,"class","explanation svelte-1mel0jj"),a(t,yt,52,4,1848)},m:function(e,n){xe(e,t,n)},p:r,d:function(e){e&&Se(t)}};return ye("SvelteRegisterBlock",{block:n,id:St.name,type:"if",source:"(52:25) ",ctx:e}),n}function zt(e){let t,n,o,i,s,r,c=e[2].weight>450&&_t(e);const l={c:function(){t=O("div"),n=P("The image loaded is "),o=O("strong"),i=P(e[4]),s=P("x"),r=P(" larger than it appears in the browser.\n\t\t\t\t\t"),c&&c.c(),a(o,yt,46,25,1622),je(t,"class","explanation svelte-1mel0jj"),a(t,yt,45,4,1571)},m:function(e,a){xe(e,t,a),ke(t,n),ke(t,o),ke(o,i),ke(o,s),ke(t,r),c&&c.m(t,null)},p:function(e,n){16&n&&_e(i,e[4]),e[2].weight>450?c||(c=_t(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},d:function(e){e&&Se(t),c&&c.d()}};return ye("SvelteRegisterBlock",{block:l,id:zt.name,type:"if",source:"(45:3) {#if ratio >= 1.3}",ctx:e}),l}function jt(e){let t,n,o,i,s;const r={c:function(){t=P("Because there are various screen sizes, it's okay for the image to be\n\t\t\t\t\t\t"),n=O("strong"),o=P(e[4]),i=P("x"),s=P(" than it appears on the page."),a(n,yt,58,6,2183)},m:function(e,r){xe(e,t,r),xe(e,n,r),ke(n,o),ke(n,i),xe(e,s,r)},p:function(e,t){16&t&&_e(o,e[4])},d:function(e){e&&Se(t),e&&Se(n),e&&Se(s)}};return ye("SvelteRegisterBlock",{block:r,id:jt.name,type:"if",source:"(57:5) {#if ratio > 1}",ctx:e}),r}function _t(e){let t;const n={c:function(){t=P("Try using a smaller image or reduce the file size by compressing it.")},m:function(e,n){xe(e,t,n)},d:function(e){e&&Se(t)}};return ye("SvelteRegisterBlock",{block:n,id:_t.name,type:"if",source:"(48:5) {#if $fileSize.weight > 450}",ctx:e}),n}function Rt(e){let t,n;const o={c:function(){t=O("img"),g(t.src,n=e[3])||je(t,"src",n),je(t,"alt",e[8]),M(t,"width",e[0]+"px"),M(t,"height",e[5]+"px"),je(t,"width",e[0]),je(t,"height",e[5]),je(t,"class","svelte-1mel0jj"),a(t,yt,70,3,2573)},m:function(e,n){xe(e,t,n)},p:function(e,o){8&o&&!g(t.src,n=e[3])&&je(t,"src",n),256&o&&je(t,"alt",e[8]),1&o&&M(t,"width",e[0]+"px"),32&o&&M(t,"height",e[5]+"px"),1&o&&je(t,"width",e[0]),32&o&&je(t,"height",e[5])},d:function(e){e&&Se(t)}};return ye("SvelteRegisterBlock",{block:o,id:Rt.name,type:"if",source:"(70:2) {#if $imageURL}",ctx:e}),o}function Et(e){let t;function n(e,t){return e[16]?Pt:Bt}let o=n(e),i=o(e);const s={c:function(){t=O("div"),i.c(),je(t,"class","value"),a(t,yt,86,4,2983)},m:function(e,n){xe(e,t,n),i.m(t,null)},p:function(e,s){o!==(o=n(e))&&(i.d(1),i=o(e),i&&(i.c(),i.m(t,null)))},d:function(e){e&&Se(t),i.d()}};return ye("SvelteRegisterBlock",{block:s,id:Et.name,type:"else",source:"(86:3) {:else}",ctx:e}),s}function Ot(e){let t,n,o,i,s=e[2].width+"",r=e[2].height+"";const c={c:function(){t=O("div"),n=P(s),o=P(" x "),i=P(r),je(t,"class","value"),a(t,yt,84,4,2904)},m:function(e,s){xe(e,t,s),ke(t,n),ke(t,o),ke(t,i)},p:function(e,t){4&t&&s!==(s=e[2].width+"")&&_e(n,s),4&t&&r!==(r=e[2].height+"")&&_e(i,r)},d:function(e){e&&Se(t)}};return ye("SvelteRegisterBlock",{block:c,id:Ot.name,type:"if",source:"(84:3) {#if $fileSize.width > 0 && $fileSize.height > 0}",ctx:e}),c}function Bt(e){let t;const n={c:function(){t=O("em"),t.textContent="Unknown",a(t,yt,90,6,3061)},m:function(e,n){xe(e,t,n)},d:function(e){e&&Se(t)}};return ye("SvelteRegisterBlock",{block:n,id:Bt.name,type:"else",source:"(90:5) {:else}",ctx:e}),n}function Pt(e){let t;const n={c:function(){t=P("Loading...")},m:function(e,n){xe(e,t,n)},d:function(e){e&&Se(t)}};return ye("SvelteRegisterBlock",{block:n,id:Pt.name,type:"if",source:"(88:5) {#if $isLoading}",ctx:e}),n}function Lt(e){let t;const n={c:function(){t=O("em"),t.textContent="Unknown",a(t,yt,114,5,3629)},m:function(e,n){xe(e,t,n)},p:r,d:function(e){e&&Se(t)}};return ye("SvelteRegisterBlock",{block:n,id:Lt.name,type:"else",source:"(114:4) {:else}",ctx:e}),n}function Ct(e){let t;const n={c:function(){t=P("Loading...")},m:function(e,n){xe(e,t,n)},p:r,d:function(e){e&&Se(t)}};return ye("SvelteRegisterBlock",{block:n,id:Ct.name,type:"if",source:"(112:25) ",ctx:e}),n}function Mt(e){let t,n,o=Math.round(e[2].weight)+"";const i={c:function(){t=P(o),n=P(" KB")},m:function(e,o){xe(e,t,o),xe(e,n,o)},p:function(e,n){4&n&&o!==(o=Math.round(e[2].weight)+"")&&_e(t,o)},d:function(e){e&&Se(t),e&&Se(n)}};return ye("SvelteRegisterBlock",{block:i,id:Mt.name,type:"if",source:"(110:4) {#if $fileSize.weight > 0}",ctx:e}),i}function At(e){let t;const n={c:function(){t=O("em"),t.textContent="N/A",a(t,yt,127,5,3901)},m:function(e,n){xe(e,t,n)},p:r,d:function(e){e&&Se(t)}};return ye("SvelteRegisterBlock",{block:n,id:At.name,type:"else",source:"(127:4) {:else}",ctx:e}),n}function Tt(e){let t;const n={c:function(){t=P("Loading...")},m:function(e,n){xe(e,t,n)},p:r,d:function(e){e&&Se(t)}};return ye("SvelteRegisterBlock",{block:n,id:Tt.name,type:"if",source:"(125:25) ",ctx:e}),n}function It(e){let t,n,o;const i={c:function(){t=O("strong"),n=P(e[19]),o=P(" KB"),a(t,yt,123,5,3802)},m:function(e,i){xe(e,t,i),ke(t,n),ke(t,o)},p:function(e,t){524288&t&&_e(n,e[19])},d:function(e){e&&Se(t)}};return ye("SvelteRegisterBlock",{block:i,id:It.name,type:"if",source:"(123:4) {#if $potentialSavings > 0}",ctx:e}),i}function Nt(e){let t;const n={c:function(){t=O("div"),t.textContent="Unable to estimate file size savings because the image is hosted on a different domain.",je(t,"class","info svelte-1mel0jj"),a(t,yt,133,3,3978)},m:function(e,n){xe(e,t,n)},d:function(e){e&&Se(t)}};return ye("SvelteRegisterBlock",{block:n,id:Nt.name,type:"if",source:"(133:2) {#if imageOrigin !== origin}",ctx:e}),n}function Ut(e){let t,n,o,i,s,r,c,l,u,d,f,p,h,g,m,$,w,v,b,y,k,x,S,z,j,_,R,E,B,C,M,A,T,I,N,U,D,J,H,W,F,G,V,q,X,Z,K,Q,ee,te,ne=e[17].width+"",oe=e[17].height+"",ie=e[18].width+"",se=e[18].height+"";function re(e,t){return e[4]>=1.3?zt:1===e[4]?St:e[4]>=.99&&e[4]<1.3?xt:kt}function ce(e,t){return t===kt?function(e){const t=e.slice(),n=Dt(1/t[1]);return t[23]=n,t}(e):e}o=new Ye({props:{size:250},$$inline:!0});let ae=re(e),le=ae(ce(e,ae)),fe=e[3]&&Rt(e);function he(e,t){return e[2].width>0&&e[2].height>0?Ot:Et}let we=he(e),ve=we(e);function be(e,t){return e[2].weight>0?Mt:e[16]?Ct:Lt}let ze=be(e),Re=ze(e);function Ee(e,t){return e[19]>0?It:e[16]?Tt:At}let Oe=Ee(e),Be=Oe(e),Pe=e[6]!==e[7]&&Nt(e);Q=new bt({$$inline:!0});const Le={c:function(){t=O("div"),n=O("div"),ge(o.$$.fragment),i=L(),s=O("div"),r=O("div"),c=O("div"),l=O("a"),u=P(e[8]),d=L(),le.c(),f=L(),fe&&fe.c(),p=L(),h=O("div"),g=O("div"),m=O("div"),m.textContent="Image File Dimensions",$=L(),ve.c(),w=L(),v=O("div"),b=O("div"),b.textContent="Expected Dimensions",y=L(),k=O("div"),x=P(ne),S=P(" x "),z=P(oe),j=L(),_=O("div"),R=O("div"),R.textContent="Size on screen",E=L(),B=O("div"),C=P(ie),M=P(" x "),A=P(se),T=L(),I=O("div"),N=O("div"),N.textContent="Image Size",U=L(),D=O("div"),Re.c(),J=L(),H=O("div"),W=O("div"),W.textContent="Potential savings",F=L(),G=O("div"),Be.c(),V=L(),Pe&&Pe.c(),q=L(),X=O("div"),Z=O("a"),K=P("Learn how to improve site speed by optimizing images "),ge(Q.$$.fragment),je(n,"class","logo svelte-1mel0jj"),a(n,yt,35,1,1337),je(l,"href",e[3]),je(l,"target","_blank noreferrer"),je(l,"class","svelte-1mel0jj"),a(l,yt,42,4,1472),je(c,"class","title svelte-1mel0jj"),a(c,yt,41,3,1448),je(r,"class","description svelte-1mel0jj"),a(r,yt,40,2,1419),je(s,"class","preview svelte-1mel0jj"),a(s,yt,39,1,1395),je(m,"class","label"),a(m,yt,82,3,2800),je(g,"class","row svelte-1mel0jj"),a(g,yt,81,2,2779),je(b,"class","label"),a(b,yt,97,3,3142),je(k,"class","value"),a(k,yt,98,3,3190),je(v,"class","row svelte-1mel0jj"),a(v,yt,96,2,3121),je(R,"class","label"),a(R,yt,102,3,3295),je(B,"class","value"),a(B,yt,103,3,3338),je(_,"class","row svelte-1mel0jj"),a(_,yt,101,2,3274),je(N,"class","label"),a(N,yt,107,3,3439),je(D,"class","value"),a(D,yt,108,3,3478),je(I,"class","row svelte-1mel0jj"),a(I,yt,106,2,3418),je(W,"class","label"),a(W,yt,120,3,3699),je(G,"class","value"),a(G,yt,121,3,3745),je(H,"class","row svelte-1mel0jj"),a(H,yt,119,2,3678),je(Z,"class","documentation svelte-1mel0jj"),je(Z,"href",e[20]),je(Z,"target","_blank noreferrer"),a(Z,yt,139,3,4132),je(X,"class","info svelte-1mel0jj"),a(X,yt,138,2,4110),je(h,"class","meta"),a(h,yt,80,1,2758),je(t,"class","details svelte-1mel0jj"),a(t,yt,34,0,1264)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,a){xe(e,t,a),ke(t,n),me(o,n,null),ke(t,i),ke(t,s),ke(s,r),ke(r,c),ke(c,l),ke(l,u),ke(r,d),le.m(r,null),ke(s,f),fe&&fe.m(s,null),ke(t,p),ke(t,h),ke(h,g),ke(g,m),ke(g,$),ve.m(g,null),ke(h,w),ke(h,v),ke(v,b),ke(v,y),ke(v,k),ke(k,x),ke(k,S),ke(k,z),ke(h,j),ke(h,_),ke(_,R),ke(_,E),ke(_,B),ke(B,C),ke(B,M),ke(B,A),ke(h,T),ke(h,I),ke(I,N),ke(I,U),ke(I,D),Re.m(D,null),ke(h,J),ke(h,H),ke(H,W),ke(H,F),ke(H,G),Be.m(G,null),ke(h,V),Pe&&Pe.m(h,null),ke(h,q),ke(h,X),ke(X,Z),ke(Z,K),me(Q,Z,null),te=!0},p:function(t,[n]){e=t,(!te||256&n)&&_e(u,e[8]),(!te||8&n)&&je(l,"href",e[3]),ae===(ae=re(e))&&le?le.p(ce(e,ae),n):(le.d(1),le=ae(ce(e,ae)),le&&(le.c(),le.m(r,null))),e[3]?fe?fe.p(e,n):(fe=Rt(e),fe.c(),fe.m(s,null)):fe&&(fe.d(1),fe=null),we===(we=he(e))&&ve?ve.p(e,n):(ve.d(1),ve=we(e),ve&&(ve.c(),ve.m(g,null))),(!te||131072&n)&&ne!==(ne=e[17].width+"")&&_e(x,ne),(!te||131072&n)&&oe!==(oe=e[17].height+"")&&_e(z,oe),(!te||262144&n)&&ie!==(ie=e[18].width+"")&&_e(C,ie),(!te||262144&n)&&se!==(se=e[18].height+"")&&_e(A,se),ze===(ze=be(e))&&Re?Re.p(e,n):(Re.d(1),Re=ze(e),Re&&(Re.c(),Re.m(D,null))),Oe===(Oe=Ee(e))&&Be?Be.p(e,n):(Be.d(1),Be=Oe(e),Be&&(Be.c(),Be.m(G,null))),e[6]!==e[7]?Pe||(Pe=Nt(e),Pe.c(),Pe.m(h,q)):Pe&&(Pe.d(1),Pe=null)},i:function(e){te||(ue(o.$$.fragment,e),ue(Q.$$.fragment,e),ee||Y((()=>{ee=pe(t,qe,{duration:150,y:4,easing:Fe}),ee.start()})),te=!0)},o:function(e){de(o.$$.fragment,e),de(Q.$$.fragment,e),te=!1},d:function(e){e&&Se(t),$e(o),le.d(),fe&&fe.d(),ve.d(),Re.d(),Be.d(),Pe&&Pe.d(),$e(Q)}};return ye("SvelteRegisterBlock",{block:Le,id:Ut.name,type:"component",source:"",ctx:e}),Le}function Dt(e){return e%1==0?e:parseFloat(e.toFixed(2))}function Jt(e,t,n){let o,i,s,c,a,l,u,d,f,p,h,g,m,w,v,b,y,k,x,S,z=r,j=()=>(z(),z=$(i,(e=>n(1,w=e))),i),_=r,R=()=>(_(),_=$(s,(e=>n(2,v=e))),s),E=r,O=()=>(E(),E=$(u,(e=>n(3,b=e))),u),B=r,P=()=>(B(),B=$(o,(e=>n(16,y=e))),o),L=r,C=()=>(L(),L=$(l,(e=>n(17,k=e))),l),M=r,A=()=>(M(),M=$(c,(e=>n(18,x=e))),c),T=r,I=()=>(T(),T=$(a,(e=>n(19,S=e))),a);e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>_())),e.$$.on_destroy.push((()=>E())),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>L())),e.$$.on_destroy.push((()=>M())),e.$$.on_destroy.push((()=>T()));let{$$slots:N={},$$scope:U}=t;Ee("Popup",N,[]);let{store:D}=t,{size:J}=t;const H="https://jetpack.com/support/jetpack-boost/image-performance-guide/";e.$$.on_mount.push((function(){void 0!==D||"store"in t||e.$$.bound[e.$$.props.store]||console.warn("<Popup> was created without expected prop 'store'"),void 0!==J||"size"in t||e.$$.bound[e.$$.props.size]||console.warn("<Popup> was created without expected prop 'size'")}));const W=["store","size"];return Object.keys(t).forEach((e=>{~W.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Popup> was created with unknown prop '${e}'`)})),e.$$set=e=>{"store"in e&&n(21,D=e.store),"size"in e&&n(22,J=e.size)},e.$capture_state=()=>({backOut:Fe,fly:qe,JetpackLogo:Ye,External:bt,store:D,size:J,maybeDecimals:Dt,DOCUMENTATION_URL:H,ratio:m,previewWidth:h,previewHeight:g,imageOrigin:p,origin:f,imageName:d,imageURL:u,expectedSize:l,potentialSavings:a,sizeOnPage:c,fileSize:s,oversizedRatio:i,isLoading:o,$oversizedRatio:w,$fileSize:v,$imageURL:b,$isLoading:y,$expectedSize:k,$sizeOnPage:x,$potentialSavings:S}),e.$inject_state=e=>{"store"in e&&n(21,D=e.store),"size"in e&&n(22,J=e.size),"ratio"in e&&n(4,m=e.ratio),"previewWidth"in e&&n(0,h=e.previewWidth),"previewHeight"in e&&n(5,g=e.previewHeight),"imageOrigin"in e&&n(6,p=e.imageOrigin),"origin"in e&&n(7,f=e.origin),"imageName"in e&&n(8,d=e.imageName),"imageURL"in e&&O(n(9,u=e.imageURL)),"expectedSize"in e&&C(n(10,l=e.expectedSize)),"potentialSavings"in e&&I(n(11,a=e.potentialSavings)),"sizeOnPage"in e&&A(n(12,c=e.sizeOnPage)),"fileSize"in e&&R(n(13,s=e.fileSize)),"oversizedRatio"in e&&j(n(14,i=e.oversizedRatio)),"isLoading"in e&&P(n(15,o=e.isLoading))},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{2097152&e.$$.dirty&&P(n(15,o=D.loading)),2097152&e.$$.dirty&&j(n(14,i=D.oversizedRatio)),2097152&e.$$.dirty&&R(n(13,s=D.fileSize)),2097152&e.$$.dirty&&A(n(12,c=D.sizeOnPage)),2097152&e.$$.dirty&&I(n(11,a=D.potentialSavings)),2097152&e.$$.dirty&&C(n(10,l=D.expectedSize)),2097152&e.$$.dirty&&O(n(9,u=D.url)),8&e.$$.dirty&&n(8,d=b.split("/").pop()),8&e.$$.dirty&&n(6,p=new URL(b).origin),4194304&e.$$.dirty&&n(0,h="normal"===J?100:50),5&e.$$.dirty&&n(5,g=Math.floor(h/(v.width/v.height))),2&e.$$.dirty&&n(4,m=Dt(w))},n(7,f=new URL(window.location.href).origin),[h,w,v,b,m,g,p,f,d,u,l,a,c,s,i,o,y,k,x,S,H,D,J]}class Ht extends Oe{constructor(e){super(e),ve(this,e,Jt,Ut,p,{store:21,size:22}),ye("SvelteRegisterComponent",{component:this,tagName:"Popup",options:e,id:Ut.name})}get store(){throw new Error("<Popup>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set store(e){throw new Error("<Popup>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get size(){throw new Error("<Popup>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Popup>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Wt="app/features/image-guide/src/ui/Main.svelte";function Ft(e,t,n){const o=e.slice();return o[9]=t[n],o[11]=n,o}function Gt(e){let t,n,o,i,s,r,c,l=e[0];Re(l);let u=[];for(let t=0;t<l.length;t+=1)u[t]=Vt(Ft(e,l,t));const d=e=>de(u[e],1,1,(()=>{u[e]=null}));let f=!1!==e[1]&&qt(e);const p={c:function(){t=O("div"),n=O("div");for(let e=0;e<u.length;e+=1)u[e].c();o=L(),f&&f.c(),je(n,"class","previews svelte-tmtsk"),a(n,Wt,44,2,1374),je(t,"class",i="guide "+e[3]+" svelte-tmtsk"),A(t,"show",!1!==e[1]),a(t,Wt,43,1,1288)},m:function(i,a){xe(i,t,a),ke(t,n);for(let e=0;e<u.length;e+=1)u[e].m(n,null);ke(t,o),f&&f.m(t,null),s=!0,r||(c=ze(t,"mouseleave",e[4],!1,!1,!1),r=!0)},p:function(e,o){if(3&o){let t;for(l=e[0],Re(l),t=0;t<l.length;t+=1){const i=Ft(e,l,t);u[t]?(u[t].p(i,o),ue(u[t],1)):(u[t]=Vt(i),u[t].c(),ue(u[t],1),u[t].m(n,null))}for(ae(),t=l.length;t<u.length;t+=1)d(t);le()}!1!==e[1]?f?(f.p(e,o),2&o&&ue(f,1)):(f=qt(e),f.c(),ue(f,1),f.m(t,null)):f&&(ae(),de(f,1,1,(()=>{f=null})),le()),(!s||8&o&&i!==(i="guide "+e[3]+" svelte-tmtsk"))&&je(t,"class",i),(!s||10&o)&&A(t,"show",!1!==e[1])},i:function(e){if(!s){for(let e=0;e<l.length;e+=1)ue(u[e]);ue(f),s=!0}},o:function(e){u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)de(u[e]);de(f),s=!1},d:function(e){e&&Se(t),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(u,e),f&&f.d(),r=!1,c()}};return ye("SvelteRegisterBlock",{block:p,id:Gt.name,type:"if",source:"(43:0) {#if $guideState === 'active' || $guideState === 'always_on'}",ctx:e}),p}function Vt(e){let t,n;t=new mt({props:{index:e[11],store:e[9]},$$inline:!0}),t.$on("mouseenter",(function(){return e[7](e[11])}));const o={c:function(){ge(t.$$.fragment)},m:function(e,o){me(t,e,o),n=!0},p:function(n,o){e=n;const i={};1&o&&(i.store=e[9]),t.$set(i)},i:function(e){n||(ue(t.$$.fragment,e),n=!0)},o:function(e){de(t.$$.fragment,e),n=!1},d:function(e){$e(t,e)}};return ye("SvelteRegisterBlock",{block:o,id:Vt.name,type:"each",source:"(46:3) {#each stores as store, index}",ctx:e}),o}function qt(e){let t,n;t=new Ht({props:{store:e[0][e[1]],size:e[3]},$$inline:!0});const o={c:function(){ge(t.$$.fragment)},m:function(e,o){me(t,e,o),n=!0},p:function(e,n){const o={};3&n&&(o.store=e[0][e[1]]),8&n&&(o.size=e[3]),t.$set(o)},i:function(e){n||(ue(t.$$.fragment,e),n=!0)},o:function(e){de(t.$$.fragment,e),n=!1},d:function(e){$e(t,e)}};return ye("SvelteRegisterBlock",{block:o,id:qt.name,type:"if",source:"(50:2) {#if show !== false}",ctx:e}),o}function Xt(e){let t,n,o=("active"===e[2]||"always_on"===e[2])&&Gt(e);const i={c:function(){o&&o.c(),t=C()},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,i){o&&o.m(e,i),xe(e,t,i),n=!0},p:function(e,[n]){"active"===e[2]||"always_on"===e[2]?o?(o.p(e,n),4&n&&ue(o,1)):(o=Gt(e),o.c(),ue(o,1),o.m(t.parentNode,t)):o&&(ae(),de(o,1,1,(()=>{o=null})),le())},i:function(e){n||(ue(o),n=!0)},o:function(e){de(o),n=!1},d:function(e){o&&o.d(e),e&&Se(t)}};return ye("SvelteRegisterBlock",{block:i,id:Xt.name,type:"component",source:"",ctx:e}),i}function Zt(e=-1,t=-1){return e<200||t<200?"micro":e<400||t<400?"small":"normal"}function Kt(e,t,n){let o,i,s;m(De,"guideState"),v(e,De,(e=>n(2,i=e)));let{$$slots:r={},$$scope:c}=t;Ee("Main",r,[]);let a,{stores:l}=t;function u(){"always_on"!==i&&n(1,a=!1)}function d(e=!1){e?l.forEach((e=>e.node.classList.add("jetpack-boost-guide__backdrop"))):l.forEach((e=>e.node.classList.remove("jetpack-boost-guide__backdrop")))}W((()=>{l.forEach((e=>e.updateDimensions()))}));const f=l[0].sizeOnPage;m(f,"sizeOnPage"),v(e,f,(e=>n(6,s=e))),e.$$.on_mount.push((function(){void 0!==l||"stores"in t||e.$$.bound[e.$$.props.stores]||console.warn("<Main> was created without expected prop 'stores'")}));const p=["stores"];Object.keys(t).forEach((e=>{~p.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Main> was created with unknown prop '${e}'`)}));return e.$$set=e=>{"stores"in e&&n(0,l=e.stores)},e.$capture_state=()=>({onMount:W,guideState:De,Bubble:mt,Popup:Ht,stores:l,show:a,onMouseLeave:u,getGuideSize:Zt,toggleBackdrop:d,sizeOnPage:f,size:o,$guideState:i,$sizeOnPage:s}),e.$inject_state=e=>{"stores"in e&&n(0,l=e.stores),"show"in e&&n(1,a=e.show),"size"in e&&n(3,o=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{64&e.$$.dirty&&n(3,o=Zt(s.width,s.height)),4&e.$$.dirty&&n(1,a="always_on"===i&&0),2&e.$$.dirty&&d(!1!==a)},[l,a,i,o,u,f,s,e=>n(1,a=e)]}class Yt extends Oe{constructor(e){super(e),ve(this,e,Kt,Xt,p,{stores:0}),ye("SvelteRegisterComponent",{component:this,tagName:"Main",options:e,id:Xt.name})}get stores(){throw new Error("<Main>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set stores(e){throw new Error("<Main>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}let Qt=0;function en(e){const t=e.node;if(!(e.node instanceof HTMLImageElement)&&["static","relative"].includes(getComputedStyle(t).position))return t;if(!t.parentNode||!t.parentElement)return;const n=function(e){let t=e.parentElement,n=[];for(;t&&t instanceof HTMLElement&&t!==document.body;){const e=getComputedStyle(t);"auto"!==e.zIndex||"static"!==e.position&&"relative"!==e.position?n=[]:n.push(t),t=t.parentElement}return n.length>0?n[0]:document.body}(t);if(null==n?void 0:n.classList.contains("jetpack-boost-guide"))return n;if(n){const e=getComputedStyle(n);if("relative"===e.position){const e=Array.from(n.children).find((e=>e.classList.contains("jetpack-boost-guide")));if(e&&e instanceof HTMLElement)return e}const t=document.createElement("div");return t.classList.add("jetpack-boost-guide"),t.dataset.jetpackBoostGuideId=(++Qt).toString(),"static"===e.position&&(t.classList.add("relative"),Array.from(n.children).reverse().forEach((e=>t.appendChild(e)))),n.prepend(t),t}return t.parentElement}const tn="app/features/image-guide/src/ui/AdminBarToggle.svelte";function nn(e){let t,n,o,i,s,r,c,l,u,d;n=new Ye({$$inline:!0});const f={c:function(){t=O("a"),ge(n.$$.fragment),o=L(),i=O("span"),s=P("Image Guide: "),r=P(e[2]),a(i,tn,17,1,427),je(t,"id","jetpack-boost-guide-bar"),je(t,"href",e[0]),je(t,"class",c="ab-item "+e[1]+" svelte-itog5b"),a(t,tn,10,0,299)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(c,a){var f;xe(c,t,a),me(n,t,null),ke(t,o),ke(t,i),ke(i,s),ke(i,r),l=!0,u||(d=ze(t,"click",(f=e[3],function(e){return e.preventDefault(),f.call(this,e)}),!1,!0,!1),u=!0)},p:function(e,[n]){(!l||4&n)&&_e(r,e[2]),(!l||1&n)&&je(t,"href",e[0]),(!l||2&n&&c!==(c="ab-item "+e[1]+" svelte-itog5b"))&&je(t,"class",c)},i:function(e){l||(ue(n.$$.fragment,e),l=!0)},o:function(e){de(n.$$.fragment,e),l=!1},d:function(e){e&&Se(t),$e(n),u=!1,d()}};return ye("SvelteRegisterBlock",{block:f,id:nn.name,type:"component",source:"",ctx:e}),f}function on(e,t,n){let o,i;m(De,"guideState"),v(e,De,(e=>n(1,o=e))),m(Je,"guideLabel"),v(e,Je,(e=>n(2,i=e)));let{$$slots:s={},$$scope:r}=t;Ee("AdminBarToggle",s,[]);let{href:c}=t;function a(){De.cycle(),He.trackUIStateChange()}e.$$.on_mount.push((function(){void 0!==c||"href"in t||e.$$.bound[e.$$.props.href]||console.warn("<AdminBarToggle> was created without expected prop 'href'")}));const l=["href"];return Object.keys(t).forEach((e=>{~l.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<AdminBarToggle> was created with unknown prop '${e}'`)})),e.$$set=e=>{"href"in e&&n(0,c=e.href)},e.$capture_state=()=>({ImageGuideAnalytics:He,guideState:De,guideLabel:Je,JetpackLogo:Ye,href:c,toggleUI:a,$guideState:o,$guideLabel:i}),e.$inject_state=e=>{"href"in e&&n(0,c=e.href)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c,o,i,a]}class sn extends Oe{constructor(e){super(e),ve(this,e,on,nn,p,{href:0}),ye("SvelteRegisterComponent",{component:this,tagName:"AdminBarToggle",options:e,id:nn.name})}get href(){throw new Error("<AdminBarToggle>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set href(e){throw new Error("<AdminBarToggle>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("wp-admin-bar-jetpack-boost-image-guide"),t=null==e?void 0:e.querySelector("a");if(e&&t){const n=t.getAttribute("href");t.remove(),new sn({target:e,props:{href:n}})}}));const rn=[];function cn(){He.trackInitialState(),De.subscribe((t=>e(this,void 0,void 0,(function*(){if("paused"===t)return;const e=i(Array.from(document.querySelectorAll("body *:not(.jetpack-boost-guide > *):not(.jetpack-boost-guide)"))),n=e.filter((e=>{const{width:t,height:n}=e.getSizeOnPage();return!(!t||!n)&&t>=65&&n>=65}));rn.push(...function(e){const t=e.reduce(((e,t)=>{var n;if(!t.node.parentNode)return console.error("Image has no parent",t.node),e;const o=en(t);if(!o)return console.error("Could not find a parent for image",t),e;const i=parseInt(o.dataset.jetpackBoostGuideId||""),s=(null===(n=e[i])||void 0===n?void 0:n.props.stores)||[],r=new We(t);return s.push(r),1===s.length&&(e[i]={target:o,intro:!0,props:{stores:s}}),e}),{});return Object.values(t).map((e=>(new Yt(e),e.props.stores))).flat()}(n)),He.trackPage(rn)}))))}window.addEventListener("load",(()=>{cn(),window.addEventListener("resize",function(){let e;return()=>{e&&clearTimeout(e),e=setTimeout((()=>{rn.forEach((e=>{e.updateDimensions()}))}),500)}}())}))}();
//# sourceMappingURL=guide.js.map
