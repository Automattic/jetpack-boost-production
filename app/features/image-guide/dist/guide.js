!function(){"use strict";function t(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function c(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}l((i=i.apply(t,e||[])).next())}))}class e{node;getURLCallback;constructor(t,e){this.node=t,this.getURLCallback=e}getURL(){return this.getURLCallback(this.node)}getSizeOnPage(){const{width:t,height:e}=this.node.getBoundingClientRect();return{width:Math.round(t),height:Math.round(e)}}async getFileSize(t){const[e,{width:n,height:i}]=await Promise.all([this.fetchFileWeight(t),this.fetchFileDimensions(t)]);return{width:n,height:i,weight:e}}getPotentialSavings(t,e){const n=this.getOversizedRatio(t,e);return n<=1?null:Math.round(t.weight-t.weight/n)}getExpectedSize(t){const e=window.devicePixelRatio||1;return{width:Math.round(t.width*e),height:Math.round(t.height*e)}}getOversizedRatio(t,e){const{width:n,height:i}=this.getExpectedSize(e);return t.width*t.height/(n*i)}async fetchFileWeight(t){const e=await fetch(t,{method:"HEAD",mode:"no-cors"});if(!e.url)return console.log(`Can't get image size for ${t} likely due to a CORS error.`),-1;const n=e.headers.get("content-length");return n?parseInt(n,10)/1024:-1}async fetchFileDimensions(t){const e=new Image;return e.src=t,new Promise((t=>{e.onload=()=>{t({width:Math.round(e.width),height:Math.round(e.height)})},e.onerror=()=>{t({width:-1,height:-1})}}))}}function n(t){return r(t.currentSrc)?t.currentSrc:r(t.src)?t.src:null}function i(t){const e=getComputedStyle(t).backgroundImage.match(/url\(.?(.*?).?\)/i);if(e&&e[1]&&r(e[1]))return e[1]}function o(t){return function(t){return t.filter((t=>t instanceof HTMLImageElement||t instanceof HTMLElement&&"none"!==getComputedStyle(t).backgroundImage))}(t).map((t=>t instanceof HTMLImageElement?new e(t,n):t instanceof HTMLElement&&i(t)?new e(t,i):null)).filter((t=>null!==t))}function r(t){if(t.startsWith("/")){return!t.split("?")[0].endsWith(".svg")}try{const e=new URL(t);return"http:"===e.protocol||"https:"===e.protocol}catch(t){return!1}}function s(){}const c=t=>t;function l(t){return t()}function a(){return Object.create(null)}function u(t){t.forEach(l)}function d(t){return"function"==typeof t}function h(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let f;function g(t,e){return f||(f=document.createElement("a")),f.href=e,t===f.href}function p(t,...e){if(null==t)return s;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function m(t){let e;return p(t,(t=>e=t))(),e}function v(t,e,n){t.$$.on_destroy.push(p(e,n))}const $="undefined"!=typeof window;let w=$?()=>window.performance.now():()=>Date.now(),y=$?t=>requestAnimationFrame(t):s;const b=new Set;function x(t){b.forEach((e=>{e.c(t)||(b.delete(e),e.f())})),0!==b.size&&y(x)}function k(t){let e;return 0===b.size&&y(x),{promise:new Promise((n=>{b.add(e={c:t,f:n})})),abort(){b.delete(e)}}}function j(t,e){t.appendChild(e)}function _(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function z(t){const e=E("style");return function(t,e){j(t.head||t,e),e.sheet}(_(t),e),e.sheet}function S(t,e,n){t.insertBefore(e,n||null)}function C(t){t.parentNode&&t.parentNode.removeChild(t)}function E(t){return document.createElement(t)}function O(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function L(t){return document.createTextNode(t)}function P(){return L(" ")}function R(){return L("")}function I(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function M(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function A(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function U(t,e,n,i){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function T(t,e,n){t.classList[n?"add":"remove"](e)}const B=new Map;let H,N=0;function W(t,e,n,i,o,r,s,c=0){const l=16.666/i;let a="{\n";for(let t=0;t<=1;t+=l){const i=e+(n-e)*r(t);a+=100*t+`%{${s(i,1-i)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`,h=_(t),{stylesheet:f,rules:g}=B.get(h)||function(t,e){const n={stylesheet:z(e),rules:{}};return B.set(t,n),n}(h,t);g[d]||(g[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${d} ${i}ms linear ${o}ms 1 both`,N+=1,d}function D(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-i.length;o&&(t.style.animation=i.join(", "),N-=o,N||y((()=>{N||(B.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&C(e)})),B.clear())})))}function F(t){H=t}function J(t){(function(){if(!H)throw new Error("Function called outside component initialization");return H})().$$.on_mount.push(t)}function V(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const G=[],q=[],X=[],Z=[],K=Promise.resolve();let Q=!1;function Y(t){X.push(t)}const tt=new Set;let et,nt=0;function it(){const t=H;do{for(;nt<G.length;){const t=G[nt];nt++,F(t),ot(t.$$)}for(F(null),G.length=0,nt=0;q.length;)q.pop()();for(let t=0;t<X.length;t+=1){const e=X[t];tt.has(e)||(tt.add(e),e())}X.length=0}while(G.length);for(;Z.length;)Z.pop()();Q=!1,tt.clear(),F(t)}function ot(t){if(null!==t.fragment){t.update(),u(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}function rt(){return et||(et=Promise.resolve(),et.then((()=>{et=null}))),et}function st(t,e,n){t.dispatchEvent(function(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,i,e),o}(`${e?"intro":"outro"}${n}`))}const ct=new Set;let lt;function at(){lt={r:0,c:[],p:lt}}function ut(){lt.r||u(lt.c),lt=lt.p}function dt(t,e){t&&t.i&&(ct.delete(t),t.i(e))}function ht(t,e,n,i){if(t&&t.o){if(ct.has(t))return;ct.add(t),lt.c.push((()=>{ct.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}else i&&i()}const ft={duration:0};function gt(t,e,n){let i,o,r=e(t,n),l=!1,a=0;function u(){i&&D(t,i)}function h(){const{delay:e=0,duration:n=300,easing:d=c,tick:h=s,css:f}=r||ft;f&&(i=W(t,0,1,n,e,d,f,a++)),h(0,1);const g=w()+e,p=g+n;o&&o.abort(),l=!0,Y((()=>st(t,!0,"start"))),o=k((e=>{if(l){if(e>=p)return h(1,0),st(t,!0,"end"),u(),l=!1;if(e>=g){const t=d((e-g)/n);h(t,1-t)}}return l}))}let f=!1;return{start(){f||(f=!0,D(t),d(r)?(r=r(),rt().then(h)):h())},invalidate(){f=!1},end(){l&&(u(),l=!1)}}}function pt(t,e,n,i){let o=e(t,n),r=i?0:1,l=null,a=null,h=null;function f(){h&&D(t,h)}function g(t,e){const n=t.b-r;return e*=Math.abs(n),{a:r,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function p(e){const{delay:n=0,duration:i=300,easing:d=c,tick:p=s,css:m}=o||ft,v={start:w()+n,b:e};e||(v.group=lt,lt.r+=1),l||a?a=v:(m&&(f(),h=W(t,r,e,i,n,d,m)),e&&p(0,1),l=g(v,i),Y((()=>st(t,e,"start"))),k((e=>{if(a&&e>a.start&&(l=g(a,i),a=null,st(t,l.b,"start"),m&&(f(),h=W(t,r,l.b,l.duration,0,d,o.css))),l)if(e>=l.end)p(r=l.b,1-r),st(t,l.b,"end"),a||(l.b?f():--l.group.r||u(l.group.c)),l=null;else if(e>=l.start){const t=e-l.start;r=l.a+l.d*d(t/l.duration),p(r,1-r)}return!(!l&&!a)})))}return{run(t){d(o)?rt().then((()=>{o=o(),p(t)})):p(t)},end(){f(),l=a=null}}}function mt(t){t&&t.c()}function vt(t,e,n,i){const{fragment:o,after_update:r}=t.$$;o&&o.m(e,n),i||Y((()=>{const e=t.$$.on_mount.map(l).filter(d);t.$$.on_destroy?t.$$.on_destroy.push(...e):u(e),t.$$.on_mount=[]})),r.forEach(Y)}function $t(t,e){const n=t.$$;null!==n.fragment&&(u(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function wt(t,e){-1===t.$$.dirty[0]&&(G.push(t),Q||(Q=!0,K.then(it)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function yt(t,e,n,i,o,r,c,l=[-1]){const d=H;F(t);const h=t.$$={fragment:null,ctx:[],props:r,update:s,not_equal:o,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:a(),dirty:l,skip_bound:!1,root:e.target||d.$$.root};c&&c(h.root);let f=!1;if(h.ctx=n?n(t,e.props||{},((e,n,...i)=>{const r=i.length?i[0]:n;return h.ctx&&o(h.ctx[e],h.ctx[e]=r)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](r),f&&wt(t,e)),n})):[],h.update(),f=!0,u(h.before_update),h.fragment=!!i&&i(h.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(t),t.forEach(C)}else h.fragment&&h.fragment.c();e.intro&&dt(t.$$.fragment),vt(t,e.target,e.anchor,e.customElement),it()}F(d)}class bt{$destroy(){$t(this,1),this.$destroy=s}$on(t,e){if(!d(e))return s;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const xt=[];function kt(t,e=s){let n;const i=new Set;function o(e){if(h(t,e)&&(t=e,n)){const e=!xt.length;for(const e of i)e[1](),xt.push(e,t);if(e){for(let t=0;t<xt.length;t+=2)xt[t][0](xt[t+1]);xt.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(r,c=s){const l=[r,c];return i.add(l),1===i.size&&(n=e(o)||s),r(t),()=>{i.delete(l),0===i.size&&(n(),n=null)}}}}function jt(t,e,n){const i=!Array.isArray(t),o=i?[t]:t,r=e.length<2;return c=t=>{let n=!1;const c=[];let l=0,a=s;const h=()=>{if(l)return;a();const n=e(i?c[0]:c,t);r?t(n):a=d(n)?n:s},f=o.map(((t,e)=>p(t,(t=>{c[e]=t,l&=~(1<<e),n&&h()}),(()=>{l|=1<<e}))));return n=!0,h(),function(){u(f),a()}},{subscribe:kt(n,c).subscribe};var c}function _t(e,n){return t(this,void 0,void 0,(function*(){const t={};return"undefined"!=typeof Jetpack_Boost&&("version"in Jetpack_Boost&&(t.boost_version=Jetpack_Boost.version),"connection"in Jetpack_Boost&&(t.jetpack_connection=Jetpack_Boost.connection.connected?"connected":"disconnected"),"optimizations"in Jetpack_Boost&&(t.optimizations=JSON.stringify(Jetpack_Boost.optimizations))),n=Object.assign(Object.assign({},t),n),new Promise((t=>{"undefined"!=typeof jpTracksAJAX&&"function"==typeof jpTracksAJAX.record_ajax_event?jpTracksAJAX.record_ajax_event(`boost_${e}`,"click",n).done(t).fail((n=>{console.log(`Recording event 'boost_${e}' failed with error: ${n.responseText}`),t()})):(console.log("Invalid jpTracksAJAX object."),t())}))}))}const zt="jetpack-boost-guide",St={active:"Active",always_on:"Always On",paused:"Paused"};let Ct=localStorage.getItem(zt);Ct&&St[Ct]||(localStorage.setItem(zt,"Active"),Ct="active");const{set:Et,update:Ot,subscribe:Lt}=kt(Ct);Lt((t=>{localStorage.setItem(zt,t)}));const Pt={subscribe:Lt,set:Et,update:Ot,cycle:()=>{Ot((t=>{const e=Object.keys(St),n=e.indexOf(t);return e[(n+1)%e.length]}))}},Rt=jt(Pt,(t=>St[t]));class It{static trackImageOutcome(e){return t(this,void 0,void 0,(function*(){return new Promise((t=>{e.loading.subscribe((n=>{if(!n){const n=m(e.oversizedRatio),i=n>4?"red":n>2.5?"yellow":"green",o=m(e.fileSize),r=m(e.sizeOnPage),s=m(e.expectedSize),c=m(e.potentialSavings),l=m(e.url),a={severity:i,oversizedRatio:n,fileWeight:o.weight,fileWidth:o.width,fileHeight:o.height,sizeOnPageWidth:r.width,sizeOnPageHeight:r.height,expectedWidth:s.width,expectedHeight:s.height,potentialSavings:c,imageURL:l};_t("image_guide_image_outcome",Object.assign(Object.assign({},a),{windowWidth:window.innerWidth,windowHeight:window.innerHeight,devicePixelRatio:window.devicePixelRatio})),t(a)}}))}))}))}static trackPage(e){return t(this,void 0,void 0,(function*(){if(!e.length||It.trackingComplete)return;It.trackingComplete=!0;const t=e.map(It.trackImageOutcome),n=yield Promise.all(t);_t("image_guide_page_outcome",{totalPotentialSavings:n.reduce(((t,e)=>t+(e.potentialSavings||0)),0),redSeverityCount:n.filter((t=>"red"===t.severity)).length,yellowSeverityCount:n.filter((t=>"yellow"===t.severity)).length,greenSeverityCount:n.filter((t=>"green"===t.severity)).length,windowWidth:window.innerWidth,windowHeight:window.innerHeight,devicePixelRatio:window.devicePixelRatio})}))}static trackInitialState(){_t("image_guide_initial_ui_state",{imageGuideState:m(Pt)})}static trackUIStateChange(){_t("image_guide_ui_state_change",{imageGuideState:m(Pt)})}}It.trackingComplete=!1;class Mt{constructor(t){this.loading=kt(!0),this.currentSrc="",this.image=t,this.node=t.node;this.url=kt(t.getURL()),this.fileSize=kt({width:0,height:0,weight:0}),this.sizeOnPage=kt({width:0,height:0}),this.potentialSavings=this.derivePotentialSavings(),this.oversizedRatio=this.deriveOversizedRatio(),this.expectedSize=this.deriveExpectedSize()}deriveOversizedRatio(){return jt([this.fileSize,this.sizeOnPage],(([t,e])=>this.image.getOversizedRatio(t,e)))}deriveExpectedSize(){return jt(this.sizeOnPage,(t=>this.image.getExpectedSize(t)))}derivePotentialSavings(){return jt([this.fileSize,this.sizeOnPage],(([t,e])=>this.image.getPotentialSavings(t,e)))}updateDimensions(){return t(this,void 0,void 0,(function*(){const t=this.image.getSizeOnPage();this.sizeOnPage.set(t),yield this.maybeUpdateWeight()}))}maybeUpdateWeight(){return t(this,void 0,void 0,(function*(){if(this.image.getURL()===this.currentSrc)return;this.loading.set(!0),this.currentSrc=this.image.getURL();const t=yield this.image.getFileSize(this.currentSrc);this.url.set(this.currentSrc),this.fileSize.set(t),this.loading.set(!1)}))}}function At(t){const e=1.70158;return--t*t*((e+1)*t+e)+1}function Ut(t){const e=t-1;return e*e*e+1}function Tt(t,{delay:e=0,duration:n=400,easing:i=c}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:t=>"opacity: "+t*o}}function Bt(t,{delay:e=0,duration:n=400,easing:i=Ut,x:o=0,y:r=0,opacity:s=0}={}){const c=getComputedStyle(t),l=+c.opacity,a="none"===c.transform?"":c.transform,u=l*(1-s);return{delay:e,duration:n,easing:i,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*o}px, ${(1-t)*r}px);\n\t\t\topacity: ${l-u*e}`}}function Ht(t){let e,n,i,o,r;return{c(){e=E("div"),n=O("svg"),i=O("path"),o=O("path"),r=O("path"),M(i,"d","M55.4 107.8C84.3397 107.8 107.8 84.3397 107.8 55.4C107.8 26.4603 84.3397 3 55.4 3C26.4603 3 3 26.4603 3 55.4C3 84.3397 26.4603 107.8 55.4 107.8Z"),M(i,"fill",t[1]),M(o,"d","M58 46.6V97.4L84.2 46.6H58Z"),M(o,"fill","white"),M(r,"d","M52.7 64.1V13.4L26.6 64.1H52.7Z"),M(r,"fill","white"),M(n,"viewBox","0 0 110 110"),M(n,"fill","none"),M(n,"xmlns","http://www.w3.org/2000/svg"),U(e,"width",t[0]+"px"),U(e,"height",t[0]+"px"),M(e,"class","svelte-f6jc8")},m(t,s){S(t,e,s),j(e,n),j(n,i),j(n,o),j(n,r)},p(t,[n]){2&n&&M(i,"fill",t[1]),1&n&&U(e,"width",t[0]+"px"),1&n&&U(e,"height",t[0]+"px")},i:s,o:s,d(t){t&&C(e)}}}function Nt(t,e,n){let{size:i=16}=e,{bg:o="#069E08"}=e;return t.$$set=t=>{"size"in t&&n(0,i=t.size),"bg"in t&&n(1,o=t.bg)},[i,o]}class Wt extends bt{constructor(t){super(),yt(this,t,Nt,Ht,h,{size:0,bg:1})}}function Dt(t){let e,n,i,o;return n=new Wt({props:{size:12,bg:"transparent"}}),{c(){e=E("div"),mt(n.$$.fragment),M(e,"class","spinner svelte-2eb8gc")},m(t,i){S(t,e,i),vt(n,e,null),o=!0},p:s,i(t){o||(dt(n.$$.fragment,t),i&&i.end(1),o=!0)},o(t){ht(n.$$.fragment,t),i=function(t,e,n){let i,o=e(t,n),r=!0;const l=lt;function a(){const{delay:e=0,duration:n=300,easing:a=c,tick:d=s,css:h}=o||ft;h&&(i=W(t,1,0,n,e,a,h));const f=w()+e,g=f+n;Y((()=>st(t,!1,"start"))),k((e=>{if(r){if(e>=g)return d(0,1),st(t,!1,"end"),--l.r||u(l.c),!1;if(e>=f){const t=a((e-f)/n);d(1-t,t)}}return r}))}return l.r+=1,d(o)?rt().then((()=>{o=o(),a()})):a(),{end(e){e&&o.tick&&o.tick(1,0),r&&(i&&D(t,i),r=!1)}}}(e,Tt,{duration:300}),o=!1},d(t){t&&C(e),$t(n),t&&i&&i.end()}}}class Ft extends bt{constructor(t){super(),yt(this,t,null,Dt,h,{})}}function Jt(t){let e,n;return{c(){e=O("svg"),n=O("path"),M(n,"stroke-linecap","round"),M(n,"stroke-linejoin","round"),M(n,"stroke-width","2"),M(n,"d","M5 13l4 4L19 7"),M(e,"class","w-6 h-6 svelte-jkeb2"),M(e,"fill","none"),M(e,"stroke","white"),M(e,"width","18"),M(e,"height","18"),M(e,"viewBox","0 0 24 24"),M(e,"xmlns","http://www.w3.org/2000/svg")},m(t,i){S(t,e,i),j(e,n)},p:s,i:s,o:s,d(t){t&&C(e)}}}class Vt extends bt{constructor(t){super(),yt(this,t,null,Jt,h,{})}}function Gt(t){let e,n,i;return n=new Ft({}),{c(){e=E("div"),mt(n.$$.fragment),M(e,"class","bubble-inner svelte-pxjt9k")},m(t,o){S(t,e,o),vt(n,e,null),i=!0},p:s,i(t){i||(dt(n.$$.fragment,t),i=!0)},o(t){ht(n.$$.fragment,t),i=!1},d(t){t&&C(e),$t(n)}}}function qt(t){let e,n,i,o,r,s;const c=[Kt,Zt,Xt],l=[];function a(t,e){return t[0]>9?0:t[0]>.99?1:2}return i=a(t),o=l[i]=c[i](t),{c(){e=E("div"),n=E("div"),o.c(),M(n,"class","label"),M(e,"class","bubble-inner svelte-pxjt9k")},m(t,o){S(t,e,o),j(e,n),l[i].m(n,null),s=!0},p(t,e){let r=i;i=a(t),i===r?l[i].p(t,e):(at(),ht(l[r],1,1,(()=>{l[r]=null})),ut(),o=l[i],o?o.p(t,e):(o=l[i]=c[i](t),o.c()),dt(o,1),o.m(n,null))},i(t){s||(dt(o),r||Y((()=>{r=gt(n,Tt,{delay:200,duration:300}),r.start()})),s=!0)},o(t){ht(o),s=!1},d(t){t&&C(e),l[i].d()}}}function Xt(t){let e,n;return{c(){e=E("span"),e.textContent="<",n=L(" 1x"),U(e,"font-size","0.75em")},m(t,i){S(t,e,i),S(t,n,i)},p:s,i:s,o:s,d(t){t&&C(e),t&&C(n)}}}function Zt(t){let e,n,i,o;const r=[Yt,Qt],s=[];function c(t,e){return"normal"===t[1]?0:1}return e=c(t),n=s[e]=r[e](t),{c(){n.c(),i=R()},m(t,n){s[e].m(t,n),S(t,i,n),o=!0},p(t,o){let l=e;e=c(t),e===l?s[e].p(t,o):(at(),ht(s[l],1,1,(()=>{s[l]=null})),ut(),n=s[e],n?n.p(t,o):(n=s[e]=r[e](t),n.c()),dt(n,1),n.m(i.parentNode,i))},i(t){o||(dt(n),o=!0)},o(t){ht(n),o=!1},d(t){s[e].d(t),t&&C(i)}}}function Kt(t){let e,n,i=Math.floor(t[0])+"";return{c(){e=L(i),n=L("x")},m(t,i){S(t,e,i),S(t,n,i)},p(t,n){1&n&&i!==(i=Math.floor(t[0])+"")&&A(e,i)},i:s,o:s,d(t){t&&C(e),t&&C(n)}}}function Qt(t){let e,n,i=t[0].toFixed(1)+"";return{c(){e=L(i),n=L("x")},m(t,i){S(t,e,i),S(t,n,i)},p(t,n){1&n&&i!==(i=t[0].toFixed(1)+"")&&A(e,i)},i:s,o:s,d(t){t&&C(e),t&&C(n)}}}function Yt(t){let e,n;return e=new Vt({}),{c(){mt(e.$$.fragment)},m(t,i){vt(e,t,i),n=!0},p:s,i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){ht(e.$$.fragment,t),n=!1},d(t){$t(e,t)}}}function te(t){let e,n,i,o,r,s,c,l,a;const u=[qt,Gt],d=[];function h(t,e){return!1===t[2]?0:1}return i=h(t),o=d[i]=u[i](t),{c(){e=E("div"),n=E("div"),o.c(),M(n,"class","bubble svelte-pxjt9k"),M(e,"class",r="interaction-area "+t[1]+" svelte-pxjt9k")},m(o,r){S(o,e,r),j(e,n),d[i].m(n,null),c=!0,l||(a=I(e,"mouseenter",t[8]),l=!0)},p(s,[l]){let a=i;i=h(t=s),i===a?d[i].p(t,l):(at(),ht(d[a],1,1,(()=>{d[a]=null})),ut(),o=d[i],o?o.p(t,l):(o=d[i]=u[i](t),o.c()),dt(o,1),o.m(n,null)),(!c||2&l&&r!==(r="interaction-area "+t[1]+" svelte-pxjt9k"))&&M(e,"class",r)},i(n){c||(dt(o),Y((()=>{s||(s=pt(e,Bt,t[5],!0)),s.run(1)})),c=!0)},o(n){ht(o),s||(s=pt(e,Bt,t[5],!1)),s.run(0),c=!1},d(t){t&&C(e),d[i].d(),t&&s&&s.end(),l=!1,a()}}}function ee(t,e,n){let i,o,r,{index:s}=e,{store:c}=e;const l=c.oversizedRatio;v(t,l,(t=>n(0,i=t)));const a=c.loading;v(t,a,(t=>n(2,o=t)));const u={delay:150+50*s,duration:250,y:2,easing:At};return t.$$set=t=>{"index"in t&&n(6,s=t.index),"store"in t&&n(7,c=t.store)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r=i>4?"high":i>2.5?"medium":"normal")},[i,r,o,l,a,u,s,c,function(e){V.call(this,t,e)}]}class ne extends bt{constructor(t){super(),yt(this,t,ee,te,h,{index:6,store:7})}}function ie(t){let e,n;return{c(){e=O("svg"),n=O("path"),M(n,"d","M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"),M(e,"xmlns","http://www.w3.org/2000/svg"),M(e,"viewBox","0 0 24 24"),M(e,"class","svelte-1g2gjwn")},m(t,i){S(t,e,i),j(e,n)},p:s,i:s,o:s,d(t){t&&C(e)}}}class oe extends bt{constructor(t){super(),yt(this,t,null,ie,h,{})}}function re(t){let e,n,i,o,r=t[23]+"";return{c(){e=E("div"),n=L("The image file is "),i=L(r),o=L("x smaller than expected on this screen. This might be fine,\n\t\t\t\t\tbut you may want to check if the image appears blurry."),M(e,"class","explanation svelte-1mel0jj")},m(t,r){S(t,e,r),j(e,n),j(e,i),j(e,o)},p(t,e){2&e&&r!==(r=t[23]+"")&&A(i,r)},d(t){t&&C(e)}}}function se(t){let e,n,i=t[4]>1&&ae(t);return{c(){e=E("div"),n=L("The image size is very close to the size it appears in the browser.\n\t\t\t\t\t"),i&&i.c(),M(e,"class","explanation svelte-1mel0jj")},m(t,o){S(t,e,o),j(e,n),i&&i.m(e,null)},p(t,n){t[4]>1?i?i.p(t,n):(i=ae(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(t){t&&C(e),i&&i.d()}}}function ce(t){let e;return{c(){e=E("div"),e.textContent="The image is exactly the correct size for this screen.",M(e,"class","explanation svelte-1mel0jj")},m(t,n){S(t,e,n)},p:s,d(t){t&&C(e)}}}function le(t){let e,n,i,o,r,s,c=t[2].weight>450&&ue();return{c(){e=E("div"),n=L("The image loaded is "),i=E("strong"),o=L(t[4]),r=L("x"),s=L(" larger than it appears in the browser.\n\t\t\t\t\t"),c&&c.c(),M(e,"class","explanation svelte-1mel0jj")},m(t,l){S(t,e,l),j(e,n),j(e,i),j(i,o),j(i,r),j(e,s),c&&c.m(e,null)},p(t,n){16&n&&A(o,t[4]),t[2].weight>450?c||(c=ue(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(t){t&&C(e),c&&c.d()}}}function ae(t){let e,n,i,o,r;return{c(){e=L("Because there are various screen sizes, it's okay for the image to be\n\t\t\t\t\t\t"),n=E("strong"),i=L(t[4]),o=L("x"),r=L(" than it appears on the page.")},m(t,s){S(t,e,s),S(t,n,s),j(n,i),j(n,o),S(t,r,s)},p(t,e){16&e&&A(i,t[4])},d(t){t&&C(e),t&&C(n),t&&C(r)}}}function ue(t){let e;return{c(){e=L("Try using a smaller image or reduce the file size by compressing it.")},m(t,n){S(t,e,n)},d(t){t&&C(e)}}}function de(t){let e,n;return{c(){e=E("img"),g(e.src,n=t[3])||M(e,"src",n),M(e,"alt",t[8]),U(e,"width",t[0]+"px"),U(e,"height",t[5]+"px"),M(e,"width",t[0]),M(e,"height",t[5]),M(e,"class","svelte-1mel0jj")},m(t,n){S(t,e,n)},p(t,i){8&i&&!g(e.src,n=t[3])&&M(e,"src",n),256&i&&M(e,"alt",t[8]),1&i&&U(e,"width",t[0]+"px"),32&i&&U(e,"height",t[5]+"px"),1&i&&M(e,"width",t[0]),32&i&&M(e,"height",t[5])},d(t){t&&C(e)}}}function he(t){let e;function n(t,e){return t[16]?pe:ge}let i=n(t),o=i(t);return{c(){e=E("div"),o.c(),M(e,"class","value")},m(t,n){S(t,e,n),o.m(e,null)},p(t,r){i!==(i=n(t))&&(o.d(1),o=i(t),o&&(o.c(),o.m(e,null)))},d(t){t&&C(e),o.d()}}}function fe(t){let e,n,i,o,r=t[2].width+"",s=t[2].height+"";return{c(){e=E("div"),n=L(r),i=L(" x "),o=L(s),M(e,"class","value")},m(t,r){S(t,e,r),j(e,n),j(e,i),j(e,o)},p(t,e){4&e&&r!==(r=t[2].width+"")&&A(n,r),4&e&&s!==(s=t[2].height+"")&&A(o,s)},d(t){t&&C(e)}}}function ge(t){let e;return{c(){e=E("em"),e.textContent="Unknown"},m(t,n){S(t,e,n)},d(t){t&&C(e)}}}function pe(t){let e;return{c(){e=L("Loading...")},m(t,n){S(t,e,n)},d(t){t&&C(e)}}}function me(t){let e;return{c(){e=E("em"),e.textContent="Unknown"},m(t,n){S(t,e,n)},p:s,d(t){t&&C(e)}}}function ve(t){let e;return{c(){e=L("Loading...")},m(t,n){S(t,e,n)},p:s,d(t){t&&C(e)}}}function $e(t){let e,n,i=Math.round(t[2].weight)+"";return{c(){e=L(i),n=L(" KB")},m(t,i){S(t,e,i),S(t,n,i)},p(t,n){4&n&&i!==(i=Math.round(t[2].weight)+"")&&A(e,i)},d(t){t&&C(e),t&&C(n)}}}function we(t){let e;return{c(){e=E("em"),e.textContent="N/A"},m(t,n){S(t,e,n)},p:s,d(t){t&&C(e)}}}function ye(t){let e;return{c(){e=L("Loading...")},m(t,n){S(t,e,n)},p:s,d(t){t&&C(e)}}}function be(t){let e,n,i;return{c(){e=E("strong"),n=L(t[19]),i=L(" KB")},m(t,o){S(t,e,o),j(e,n),j(e,i)},p(t,e){524288&e&&A(n,t[19])},d(t){t&&C(e)}}}function xe(t){let e;return{c(){e=E("div"),e.textContent="Unable to estimate file size savings because the image is hosted on a different domain.",M(e,"class","info svelte-1mel0jj")},m(t,n){S(t,e,n)},d(t){t&&C(e)}}}function ke(t){let e,n,i,o,r,s,c,l,a,u,d,h,f,g,p,m,v,$,w,y,b,x,k,_,z,O,R,I,U,T,B,H,N,W,D,F,J,V,G,q,X,Z,K,Q,tt,et,nt,it,ot,rt,st=t[17].width+"",ct=t[17].height+"",lt=t[18].width+"",at=t[18].height+"";function ut(t,e){return t[4]>=1.3?le:1===t[4]?ce:t[4]>=.99&&t[4]<1.3?se:re}function ft(t,e){return e===re?function(t){const e=t.slice(),n=je(1/e[1]);return e[23]=n,e}(t):t}i=new Wt({props:{size:250}});let pt=ut(t),wt=pt(ft(t,pt)),yt=t[3]&&de(t);function bt(t,e){return t[2].width>0&&t[2].height>0?fe:he}let xt=bt(t),kt=xt(t);function jt(t,e){return t[2].weight>0?$e:t[16]?ve:me}let _t=jt(t),zt=_t(t);function St(t,e){return t[19]>0?be:t[16]?ye:we}let Ct=St(t),Et=Ct(t),Ot=t[6]!==t[7]&&xe();return it=new oe({}),{c(){e=E("div"),n=E("div"),mt(i.$$.fragment),o=P(),r=E("div"),s=E("div"),c=E("div"),l=E("a"),a=L(t[8]),u=P(),wt.c(),d=P(),yt&&yt.c(),h=P(),f=E("div"),g=E("div"),p=E("div"),p.textContent="Image File Dimensions",m=P(),kt.c(),v=P(),$=E("div"),w=E("div"),w.textContent="Expected Dimensions",y=P(),b=E("div"),x=L(st),k=L(" x "),_=L(ct),z=P(),O=E("div"),R=E("div"),R.textContent="Size on screen",I=P(),U=E("div"),T=L(lt),B=L(" x "),H=L(at),N=P(),W=E("div"),D=E("div"),D.textContent="Image Size",F=P(),J=E("div"),zt.c(),V=P(),G=E("div"),q=E("div"),q.textContent="Potential savings",X=P(),Z=E("div"),Et.c(),K=P(),Ot&&Ot.c(),Q=P(),tt=E("div"),et=E("a"),nt=L("Learn how to improve site speed by optimizing images "),mt(it.$$.fragment),M(n,"class","logo svelte-1mel0jj"),M(l,"href",t[3]),M(l,"target","_blank noreferrer"),M(l,"class","svelte-1mel0jj"),M(c,"class","title svelte-1mel0jj"),M(s,"class","description svelte-1mel0jj"),M(r,"class","preview svelte-1mel0jj"),M(p,"class","label"),M(g,"class","row svelte-1mel0jj"),M(w,"class","label"),M(b,"class","value"),M($,"class","row svelte-1mel0jj"),M(R,"class","label"),M(U,"class","value"),M(O,"class","row svelte-1mel0jj"),M(D,"class","label"),M(J,"class","value"),M(W,"class","row svelte-1mel0jj"),M(q,"class","label"),M(Z,"class","value"),M(G,"class","row svelte-1mel0jj"),M(et,"class","documentation svelte-1mel0jj"),M(et,"href",t[20]),M(et,"target","_blank noreferrer"),M(tt,"class","info svelte-1mel0jj"),M(f,"class","meta"),M(e,"class","details svelte-1mel0jj")},m(t,C){S(t,e,C),j(e,n),vt(i,n,null),j(e,o),j(e,r),j(r,s),j(s,c),j(c,l),j(l,a),j(s,u),wt.m(s,null),j(r,d),yt&&yt.m(r,null),j(e,h),j(e,f),j(f,g),j(g,p),j(g,m),kt.m(g,null),j(f,v),j(f,$),j($,w),j($,y),j($,b),j(b,x),j(b,k),j(b,_),j(f,z),j(f,O),j(O,R),j(O,I),j(O,U),j(U,T),j(U,B),j(U,H),j(f,N),j(f,W),j(W,D),j(W,F),j(W,J),zt.m(J,null),j(f,V),j(f,G),j(G,q),j(G,X),j(G,Z),Et.m(Z,null),j(f,K),Ot&&Ot.m(f,null),j(f,Q),j(f,tt),j(tt,et),j(et,nt),vt(it,et,null),rt=!0},p(e,[n]){t=e,(!rt||256&n)&&A(a,t[8]),(!rt||8&n)&&M(l,"href",t[3]),pt===(pt=ut(t))&&wt?wt.p(ft(t,pt),n):(wt.d(1),wt=pt(ft(t,pt)),wt&&(wt.c(),wt.m(s,null))),t[3]?yt?yt.p(t,n):(yt=de(t),yt.c(),yt.m(r,null)):yt&&(yt.d(1),yt=null),xt===(xt=bt(t))&&kt?kt.p(t,n):(kt.d(1),kt=xt(t),kt&&(kt.c(),kt.m(g,null))),(!rt||131072&n)&&st!==(st=t[17].width+"")&&A(x,st),(!rt||131072&n)&&ct!==(ct=t[17].height+"")&&A(_,ct),(!rt||262144&n)&&lt!==(lt=t[18].width+"")&&A(T,lt),(!rt||262144&n)&&at!==(at=t[18].height+"")&&A(H,at),_t===(_t=jt(t))&&zt?zt.p(t,n):(zt.d(1),zt=_t(t),zt&&(zt.c(),zt.m(J,null))),Ct===(Ct=St(t))&&Et?Et.p(t,n):(Et.d(1),Et=Ct(t),Et&&(Et.c(),Et.m(Z,null))),t[6]!==t[7]?Ot||(Ot=xe(),Ot.c(),Ot.m(f,Q)):Ot&&(Ot.d(1),Ot=null)},i(t){rt||(dt(i.$$.fragment,t),dt(it.$$.fragment,t),ot||Y((()=>{ot=gt(e,Bt,{duration:150,y:4,easing:At}),ot.start()})),rt=!0)},o(t){ht(i.$$.fragment,t),ht(it.$$.fragment,t),rt=!1},d(t){t&&C(e),$t(i),wt.d(),yt&&yt.d(),kt.d(),zt.d(),Et.d(),Ot&&Ot.d(),$t(it)}}}function je(t){return t%1==0?t:parseFloat(t.toFixed(2))}function _e(t,e,n){let i,o,r,c,l,a,u,d,h,f,g,m,v,$,w,y,b,x,k,j,_=s,z=s,S=s,C=s,E=s,O=s,L=s;t.$$.on_destroy.push((()=>_())),t.$$.on_destroy.push((()=>z())),t.$$.on_destroy.push((()=>S())),t.$$.on_destroy.push((()=>C())),t.$$.on_destroy.push((()=>E())),t.$$.on_destroy.push((()=>O())),t.$$.on_destroy.push((()=>L()));let{store:P}=e,{size:R}=e;const I=function(t,e={}){var n;const i={};let o;if("undefined"!=typeof window&&(o=null===(n=window.Initial_State)||void 0===n?void 0:n.calypsoEnv),0===t.search("https://")){const e=new URL(t);t=`https://${e.host}${e.pathname}`,i.url=encodeURIComponent(t)}else i.source=encodeURIComponent(t);return Object.keys(e).map((t=>{i[t]=encodeURIComponent(e[t])})),!Object.keys(i).includes("site")&&"undefined"!=typeof jetpack_redirects&&jetpack_redirects.hasOwnProperty("currentSiteRawUrl")&&(i.site=jetpack_redirects.currentSiteRawUrl),o&&(i.calypso_env=o),"https://jetpack.com/redirect/?"+Object.keys(i).map((t=>t+"="+i[t])).join("&")}("jetpack-support-boost-image-performance-guide");return t.$$set=t=>{"store"in t&&n(21,P=t.store),"size"in t&&n(22,R=t.size)},t.$$.update=()=>{2097152&t.$$.dirty&&(n(15,i=P.loading),C(),C=p(i,(t=>n(16,b=t)))),2097152&t.$$.dirty&&(n(14,o=P.oversizedRatio),_(),_=p(o,(t=>n(1,$=t)))),2097152&t.$$.dirty&&(n(13,r=P.fileSize),z(),z=p(r,(t=>n(2,w=t)))),2097152&t.$$.dirty&&(n(12,c=P.sizeOnPage),O(),O=p(c,(t=>n(18,k=t)))),2097152&t.$$.dirty&&(n(11,l=P.potentialSavings),L(),L=p(l,(t=>n(19,j=t)))),2097152&t.$$.dirty&&(n(10,a=P.expectedSize),E(),E=p(a,(t=>n(17,x=t)))),2097152&t.$$.dirty&&(n(9,u=P.url),S(),S=p(u,(t=>n(3,y=t)))),8&t.$$.dirty&&n(8,d=y.split("/").pop()),8&t.$$.dirty&&n(6,f=new URL(y).origin),4194304&t.$$.dirty&&n(0,g="normal"===R?100:50),5&t.$$.dirty&&n(5,m=Math.floor(g/(w.width/w.height))),2&t.$$.dirty&&n(4,v=je($))},n(7,h=new URL(window.location.href).origin),[g,$,w,y,v,m,f,h,d,u,a,l,c,r,o,i,b,x,k,j,I,P,R]}class ze extends bt{constructor(t){super(),yt(this,t,_e,ke,h,{store:21,size:22})}}function Se(t,e,n){const i=t.slice();return i[9]=e[n],i[11]=n,i}function Ce(t){let e,n,i,o,r,s,c,l=t[0],a=[];for(let e=0;e<l.length;e+=1)a[e]=Ee(Se(t,l,e));const u=t=>ht(a[t],1,1,(()=>{a[t]=null}));let d=!1!==t[1]&&Oe(t);return{c(){e=E("div"),n=E("div");for(let t=0;t<a.length;t+=1)a[t].c();i=P(),d&&d.c(),M(n,"class","previews svelte-tmtsk"),M(e,"class",o="guide "+t[3]+" svelte-tmtsk"),T(e,"show",!1!==t[1])},m(o,l){S(o,e,l),j(e,n);for(let t=0;t<a.length;t+=1)a[t].m(n,null);j(e,i),d&&d.m(e,null),r=!0,s||(c=I(e,"mouseleave",t[4]),s=!0)},p(t,i){if(3&i){let e;for(l=t[0],e=0;e<l.length;e+=1){const o=Se(t,l,e);a[e]?(a[e].p(o,i),dt(a[e],1)):(a[e]=Ee(o),a[e].c(),dt(a[e],1),a[e].m(n,null))}for(at(),e=l.length;e<a.length;e+=1)u(e);ut()}!1!==t[1]?d?(d.p(t,i),2&i&&dt(d,1)):(d=Oe(t),d.c(),dt(d,1),d.m(e,null)):d&&(at(),ht(d,1,1,(()=>{d=null})),ut()),(!r||8&i&&o!==(o="guide "+t[3]+" svelte-tmtsk"))&&M(e,"class",o),(!r||10&i)&&T(e,"show",!1!==t[1])},i(t){if(!r){for(let t=0;t<l.length;t+=1)dt(a[t]);dt(d),r=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)ht(a[t]);ht(d),r=!1},d(t){t&&C(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(a,t),d&&d.d(),s=!1,c()}}}function Ee(t){let e,n;return e=new ne({props:{index:t[11],store:t[9]}}),e.$on("mouseenter",(function(){return t[7](t[11])})),{c(){mt(e.$$.fragment)},m(t,i){vt(e,t,i),n=!0},p(n,i){t=n;const o={};1&i&&(o.store=t[9]),e.$set(o)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){ht(e.$$.fragment,t),n=!1},d(t){$t(e,t)}}}function Oe(t){let e,n;return e=new ze({props:{store:t[0][t[1]],size:t[3]}}),{c(){mt(e.$$.fragment)},m(t,i){vt(e,t,i),n=!0},p(t,n){const i={};3&n&&(i.store=t[0][t[1]]),8&n&&(i.size=t[3]),e.$set(i)},i(t){n||(dt(e.$$.fragment,t),n=!0)},o(t){ht(e.$$.fragment,t),n=!1},d(t){$t(e,t)}}}function Le(t){let e,n,i=("active"===t[2]||"always_on"===t[2])&&Ce(t);return{c(){i&&i.c(),e=R()},m(t,o){i&&i.m(t,o),S(t,e,o),n=!0},p(t,[n]){"active"===t[2]||"always_on"===t[2]?i?(i.p(t,n),4&n&&dt(i,1)):(i=Ce(t),i.c(),dt(i,1),i.m(e.parentNode,e)):i&&(at(),ht(i,1,1,(()=>{i=null})),ut())},i(t){n||(dt(i),n=!0)},o(t){ht(i),n=!1},d(t){i&&i.d(t),t&&C(e)}}}function Pe(t,e,n){let i,o,r;v(t,Pt,(t=>n(2,o=t)));let s,{stores:c}=e;J((()=>{c.forEach((t=>t.updateDimensions()))}));const l=c[0].sizeOnPage;v(t,l,(t=>n(6,r=t)));return t.$$set=t=>{"stores"in t&&n(0,c=t.stores)},t.$$.update=()=>{64&t.$$.dirty&&n(3,i=function(t=-1,e=-1){return t<200||e<200?"micro":t<400||e<400?"small":"normal"}(r.width,r.height)),4&t.$$.dirty&&n(1,s="always_on"===o&&0),2&t.$$.dirty&&function(t=!1){t?c.forEach((t=>t.node.classList.add("jetpack-boost-guide__backdrop"))):c.forEach((t=>t.node.classList.remove("jetpack-boost-guide__backdrop")))}(!1!==s)},[c,s,o,i,function(){"always_on"!==o&&n(1,s=!1)},l,r,t=>n(1,s=t)]}class Re extends bt{constructor(t){super(),yt(this,t,Pe,Le,h,{stores:0})}}let Ie=0;function Me(t){const e=t.node;if(!(t.node instanceof HTMLImageElement)&&["static","relative"].includes(getComputedStyle(e).position))return e;if(!e.parentNode||!e.parentElement)return;const n=function(t){let e=t.parentElement,n=[];for(;e&&e instanceof HTMLElement&&e!==document.body;){const t=getComputedStyle(e);"auto"!==t.zIndex||"static"!==t.position&&"relative"!==t.position?n=[]:n.push(e),e=e.parentElement}return n.length>0?n[0]:document.body}(e);if(null==n?void 0:n.classList.contains("jetpack-boost-guide"))return n;if(n){const t=getComputedStyle(n);if("relative"===t.position){const t=Array.from(n.children).find((t=>t.classList.contains("jetpack-boost-guide")));if(t&&t instanceof HTMLElement)return t}const e=document.createElement("div");return e.classList.add("jetpack-boost-guide"),e.dataset.jetpackBoostGuideId=(++Ie).toString(),"static"===t.position&&(e.classList.add("relative"),Array.from(n.children).reverse().forEach((t=>e.appendChild(t)))),n.prepend(e),e}return e.parentElement}function Ae(t){let e,n,i,o,r,s,c,l,a,u;return n=new Wt({}),{c(){e=E("a"),mt(n.$$.fragment),i=P(),o=E("span"),r=L("Image Guide: "),s=L(t[2]),M(e,"id","jetpack-boost-guide-bar"),M(e,"href",t[0]),M(e,"class",c="ab-item "+t[1]+" svelte-itog5b")},m(c,d){var h;S(c,e,d),vt(n,e,null),j(e,i),j(e,o),j(o,r),j(o,s),l=!0,a||(u=I(e,"click",(h=t[3],function(t){return t.preventDefault(),h.call(this,t)})),a=!0)},p(t,[n]){(!l||4&n)&&A(s,t[2]),(!l||1&n)&&M(e,"href",t[0]),(!l||2&n&&c!==(c="ab-item "+t[1]+" svelte-itog5b"))&&M(e,"class",c)},i(t){l||(dt(n.$$.fragment,t),l=!0)},o(t){ht(n.$$.fragment,t),l=!1},d(t){t&&C(e),$t(n),a=!1,u()}}}function Ue(t,e,n){let i,o;v(t,Pt,(t=>n(1,i=t))),v(t,Rt,(t=>n(2,o=t)));let{href:r}=e;return t.$$set=t=>{"href"in t&&n(0,r=t.href)},[r,i,o,function(){Pt.cycle(),It.trackUIStateChange()}]}class Te extends bt{constructor(t){super(),yt(this,t,Ue,Ae,h,{href:0})}}document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("wp-admin-bar-jetpack-boost-image-guide"),e=null==t?void 0:t.querySelector("a");if(t&&e){const n=e.getAttribute("href");e.remove(),new Te({target:t,props:{href:n}})}}));const Be=[];function He(){It.trackInitialState(),Pt.subscribe((e=>t(this,void 0,void 0,(function*(){if("paused"===e)return;const t=o(Array.from(document.querySelectorAll("body *:not(.jetpack-boost-guide > *):not(.jetpack-boost-guide)"))),n=t.filter((t=>{const{width:e,height:n}=t.getSizeOnPage();return!(!e||!n)&&e>=65&&n>=65}));Be.push(...function(t){const e=t.reduce(((t,e)=>{var n;if(!e.node.parentNode)return console.error("Image has no parent",e.node),t;const i=Me(e);if(!i)return console.error("Could not find a parent for image",e),t;const o=parseInt(i.dataset.jetpackBoostGuideId||""),r=(null===(n=t[o])||void 0===n?void 0:n.props.stores)||[],s=new Mt(e);return r.push(s),1===r.length&&(t[o]={target:i,intro:!0,props:{stores:r}}),t}),{});return Object.values(e).map((t=>(new Re(t),t.props.stores))).flat()}(n)),It.trackPage(Be)}))))}window.addEventListener("load",(()=>{He(),window.addEventListener("resize",function(){let t;return()=>{t&&clearTimeout(t),t=setTimeout((()=>{Be.forEach((t=>{t.updateDimensions()}))}),500)}}())}))}();
